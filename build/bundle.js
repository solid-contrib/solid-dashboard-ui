!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),o=r(i),a=n(29),s=r(a),u=n(161),l=n(183),c=n(263),d=r(c),p=n(269),h=r(p),f=(0,h["default"])();s["default"].render(o["default"].createElement(u.Provider,{store:f},o["default"].createElement(d["default"],null)),document.querySelector("#app-container")),f.dispatch((0,l.logIn)())},function(e,t,n){"use strict";e.exports=n(2)},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(16),a=n(19),s=n(24),u=n(8),l=n(26),c=n(27),d=n(28),p=(n(10),u.createElement),h=u.createFactory,f=u.cloneElement,v=r,g={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:d},Component:o,createElement:p,cloneElement:f,isValidElement:u.isValidElement,PropTypes:l,createClass:a.createClass,createFactory:h,createMixin:function(e){return e},DOM:s,version:c,__spread:v};e.exports=g},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,a,s=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var l in r)i.call(r,l)&&(s[l]=r[l]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var c=0;c<a.length;c++)o.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},function(e,t,n){"use strict";function r(e){return(""+e).replace(w,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);m(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?l(u,i,n,g.thatReturnsArgument):null!=u&&(v.isValidElement(u)&&(u=v.cloneAndReplaceKey(u,o+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),i.push(u))}function l(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(t,a,i,o);m(e,u,l),s.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function d(e,t,n){return null}function p(e,t){return m(e,d,null)}function h(e){var t=[];return l(e,t,null,g.thatReturnsArgument),t}var f=n(5),v=n(8),g=n(11),m=n(13),y=f.twoArgumentPooler,b=f.fourArgumentPooler,w=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,b);var x={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:p,toArray:h};e.exports=x},function(e,t,n){"use strict";var r=n(6),i=(n(7),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},u=function(e,t,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r,i),a}return new o(e,t,n,r,i)},l=function(e){var t=this;e instanceof t?void 0:r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,d=i,p=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||d,n.poolSize||(n.poolSize=c),n.release=l,n},h={addPoolingTo:p,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};e.exports=h},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=r},function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function i(e){return void 0!==e.key}var o=n(3),a=n(9),s=(n(10),n(12),Object.prototype.hasOwnProperty),u="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,l={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,i,o,a){var s={$$typeof:u,type:e,key:t,ref:n,props:a,_owner:o};return s};c.createElement=function(e,t,n){var o,u={},d=null,p=null,h=null,f=null;if(null!=t){r(t)&&(p=t.ref),i(t)&&(d=""+t.key),h=void 0===t.__self?null:t.__self,f=void 0===t.__source?null:t.__source;for(o in t)s.call(t,o)&&!l.hasOwnProperty(o)&&(u[o]=t[o])}var v=arguments.length-2;if(1===v)u.children=n;else if(v>1){for(var g=Array(v),m=0;m<v;m++)g[m]=arguments[m+2];u.children=g}if(e&&e.defaultProps){var y=e.defaultProps;for(o in y)void 0===u[o]&&(u[o]=y[o])}return c(e,d,p,h,f,a.current,u)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){var n=c(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},c.cloneElement=function(e,t,n){var u,d=o({},e.props),p=e.key,h=e.ref,f=e._self,v=e._source,g=e._owner;if(null!=t){r(t)&&(h=t.ref,g=a.current),i(t)&&(p=""+t.key);var m;e.type&&e.type.defaultProps&&(m=e.type.defaultProps);for(u in t)s.call(t,u)&&!l.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==m?d[u]=m[u]:d[u]=t[u])}var y=arguments.length-2;if(1===y)d.children=n;else if(y>1){for(var b=Array(y),w=0;w<y;w++)b[w]=arguments[w+2];d.children=b}return c(e.type,p,h,f,v,g,d)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},c.REACT_ELEMENT_TYPE=u,e.exports=c},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){"use strict";var r=n(11),i=r;e.exports=i},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function i(e,t,n,o){var p=typeof e;if("undefined"!==p&&"boolean"!==p||(e=null),null===e||"string"===p||"number"===p||s.isValidElement(e))return n(o,e,""===t?c+r(e,0):t),1;var h,f,v=0,g=""===t?c:t+d;if(Array.isArray(e))for(var m=0;m<e.length;m++)h=e[m],f=g+r(h,m),v+=i(h,f,n,o);else{var y=u(e);if(y){var b,w=y.call(e);if(y!==e.entries)for(var x=0;!(b=w.next()).done;)h=b.value,f=g+r(h,x++),v+=i(h,f,n,o);else for(;!(b=w.next()).done;){var _=b.value;_&&(h=_[1],f=g+l.escape(_[0])+d+r(h,0),v+=i(h,f,n,o))}}else if("object"===p){var E="",T=String(e);a("31","[object Object]"===T?"object with keys {"+Object.keys(e).join(", ")+"}":T,E)}}return v}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(6),s=(n(9),n(8)),u=n(14),l=(n(7),n(15)),c=(n(10),"."),d=":";e.exports=o},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=n},function(e,t){"use strict";function n(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function r(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:n,unescape:r};e.exports=i},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var i=n(6),o=n(17),a=(n(12),n(18));n(7),n(10);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?i("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=r},function(e,t,n){"use strict";function r(e,t){}var i=(n(10),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});e.exports=i},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=_.hasOwnProperty(t)?_[t]:null;T.hasOwnProperty(t)&&(n!==w.OVERRIDE_BASE?d("73",t):void 0),e&&(n!==w.DEFINE_MANY&&n!==w.DEFINE_MANY_MERGED?d("74",t):void 0)}function i(e,t){if(t){"function"==typeof t?d("75"):void 0,f.isValidElement(t)?d("76"):void 0;var n=e.prototype,i=n.__reactAutoBindPairs;t.hasOwnProperty(b)&&E.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==b){var a=t[o],l=n.hasOwnProperty(o);if(r(l,o),E.hasOwnProperty(o))E[o](e,a);else{var c=_.hasOwnProperty(o),p="function"==typeof a,h=p&&!c&&!l&&t.autobind!==!1;if(h)i.push(o,a),n[o]=a;else if(l){var v=_[o];!c||v!==w.DEFINE_MANY_MERGED&&v!==w.DEFINE_MANY?d("77",v,o):void 0,v===w.DEFINE_MANY_MERGED?n[o]=s(n[o],a):v===w.DEFINE_MANY&&(n[o]=u(n[o],a))}else n[o]=a}}}}function o(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in E;i?d("78",n):void 0;var o=n in e;o?d("79",n):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:d("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?d("81",n):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=l(e,i)}}var d=n(6),p=n(3),h=n(16),f=n(8),v=(n(20),n(22),n(17)),g=n(18),m=(n(7),n(21)),y=n(23),b=(n(10),y({mixins:null})),w=m({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],_={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},E={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},T={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},C=function(){};p(C.prototype,h.prototype,T);var N={createClass:function(e){var t=function(e,n,r){this.__reactAutoBindPairs.length&&c(this),this.props=e,this.context=n,this.refs=g,this.updater=r||v,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?d("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=i};t.prototype=new C,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],x.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:d("83");for(var n in _)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){x.push(e)}}};e.exports=N},function(e,t,n){"use strict";var r=n(21),i=r({prop:null,context:null,childContext:null});e.exports=i},function(e,t,n){"use strict";var r=n(7),i=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=i},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){"use strict";function r(e){return i.createFactory(e)}var i=n(8),o=n(25),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);e.exports=a},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function i(e){function t(t,n,r,i,o,a){if(i=i||T,a=a||r,null==n[r]){var s=x[o];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,o,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,i,o){var a=t[n],s=m(a);if(s!==e){var u=x[i],l=y(a);return new Error("Invalid "+u+" `"+o+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return i(t)}function a(){return i(_.thatReturns(null))}function s(e){function t(t,n,r,i,o){if("function"!=typeof e)return new Error("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var s=x[i],u=m(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<a.length;l++){var c=e(a,l,r,i,o+"["+l+"]");if(c instanceof Error)return c}return null}return i(t)}function u(){function e(e,t,n,r,i){if(!w.isValidElement(e[t])){var o=x[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return i(e)}function l(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=x[i],s=e.name||T,u=b(t[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return i(t)}function c(e){function t(t,n,i,o,a){for(var s=t[n],u=0;u<e.length;u++)if(r(s,e[u]))return null;var l=x[o],c=JSON.stringify(e);return new Error("Invalid "+l+" `"+a+"` of value `"+s+"` "+("supplied to `"+i+"`, expected one of "+c+"."))}return i(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function d(e){function t(t,n,r,i,o){if("function"!=typeof e)return new Error("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],s=m(a);if("object"!==s){var u=x[i];return new Error("Invalid "+u+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var l in a)if(a.hasOwnProperty(l)){var c=e(a,l,r,i,o+"."+l);if(c instanceof Error)return c}return null}return i(t)}function p(e){function t(t,n,r,i,o){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,r,i,o))return null}var u=x[i];return new Error("Invalid "+u+" `"+o+"` supplied to "+("`"+r+"`."))}return i(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function h(){function e(e,t,n,r,i){if(!v(e[t])){var o=x[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(e)}function f(e){function t(t,n,r,i,o){var a=t[n],s=m(a);if("object"!==s){var u=x[i];return new Error("Invalid "+u+" `"+o+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var d=c(a,l,r,i,o+"."+l);if(d)return d}}return null}return i(t)}function v(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(v);if(null===e||w.isValidElement(e))return!0;var t=E(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!v(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!v(i[1]))return!1}return!0;default:return!1}}function g(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(t,e)?"symbol":t}function y(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){return e.constructor&&e.constructor.name?e.constructor.name:T}var w=n(8),x=n(22),_=n(11),E=n(14),T="<<anonymous>>",C={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),symbol:o("symbol"),any:a(),arrayOf:s,element:u(),instanceOf:l,node:h(),objectOf:d,oneOf:c,oneOfType:p,shape:f};e.exports=C},function(e,t){"use strict";e.exports="15.2.1"},function(e,t,n){"use strict";function r(e){return o.isValidElement(e)?void 0:i("23"),e}var i=n(6),o=n(8);n(7);e.exports=r},function(e,t,n){"use strict";e.exports=n(30)},function(e,t,n){"use strict";var r=n(31),i=n(34),o=n(153),a=n(54),s=n(51),u=n(27),l=n(158),c=n(159),d=n(160);n(10);i.inject();var p={findDOMNode:l,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a});e.exports=p},function(e,t,n){"use strict";function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function i(e,t){var n=r(e);n._hostNode=t,t[v]=n}function o(e){var t=e._hostNode;t&&(delete t[v],e._hostNode=null)}function a(e,t){if(!(e._flags&f.hasCachedChildNodes)){var n=e._renderedChildren,o=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=r(s)._domID;if(null!=u){for(;null!==o;o=o.nextSibling)if(1===o.nodeType&&o.getAttribute(h)===String(u)||8===o.nodeType&&o.nodeValue===" react-text: "+u+" "||8===o.nodeType&&o.nodeValue===" react-empty: "+u+" "){i(s,o);continue e}c("32",u)}}e._flags|=f.hasCachedChildNodes}}function s(e){if(e[v])return e[v];for(var t=[];!e[v];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[v]);e=t.pop())n=r,t.length&&a(r,e);return n}function u(e){var t=s(e);return null!=t&&t._hostNode===e?t:null}function l(e){if(void 0===e._hostNode?c("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:c("34"),e=e._hostParent;for(;t.length;e=t.pop())a(e,e._hostNode);return e._hostNode}var c=n(6),d=n(32),p=n(33),h=(n(7),d.ID_ATTRIBUTE_NAME),f=p,v="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:s,getInstanceFromNode:u,getNodeFromInstance:l,precacheChildNodes:a,precacheNode:i,uncacheNode:o};e.exports=g},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(6),o=(n(7),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var d in n){s.properties.hasOwnProperty(d)?i("48",d):void 0;var p=d.toLowerCase(),h=n[d],f={attributeName:p,attributeNamespace:null,propertyName:d,mutationMethod:null,mustUseProperty:r(h,t.MUST_USE_PROPERTY),hasBooleanValue:r(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:i("50",d),u.hasOwnProperty(d)){var v=u[d];f.attributeName=v}a.hasOwnProperty(d)&&(f.attributeNamespace=a[d]),l.hasOwnProperty(d)&&(f.propertyName=l[d]),c.hasOwnProperty(d)&&(f.mutationMethod=c[d]),s.properties[d]=f}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:o};e.exports=s},function(e,t){"use strict";var n={hasCachedChildNodes:1};e.exports=n},function(e,t,n){"use strict";function r(){_||(_=!0,m.EventEmitter.injectReactEventListener(g),m.EventPluginHub.injectEventPluginOrder(a),m.EventPluginUtils.injectComponentTree(d),m.EventPluginUtils.injectTreeTraversal(h),m.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:w,BeforeInputEventPlugin:i}),m.HostComponent.injectGenericComponentClass(c),m.HostComponent.injectTextComponentClass(f),m.DOMProperty.injectDOMPropertyConfig(u),m.DOMProperty.injectDOMPropertyConfig(b),m.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)}),m.Updates.injectReconcileTransaction(y),m.Updates.injectBatchingStrategy(v),m.Component.injectEnvironment(l))}var i=n(35),o=n(50),a=n(62),s=n(63),u=n(68),l=n(69),c=n(83),d=n(31),p=n(124),h=n(125),f=n(126),v=n(127),g=n(128),m=n(131),y=n(132),b=n(140),w=n(141),x=n(142),_=!1;e.exports={inject:r}},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case I.topCompositionStart:return S.compositionStart;case I.topCompositionEnd:return S.compositionEnd;case I.topCompositionUpdate:return S.compositionUpdate}}function a(e,t){return e===I.topKeyDown&&t.keyCode===x}function s(e,t){switch(e){case I.topKeyUp:return w.indexOf(t.keyCode)!==-1;case I.topKeyDown:return t.keyCode!==x;case I.topKeyPress:case I.topMouseDown:case I.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var i,l;if(_?i=o(e):O?s(e,n)&&(i=S.compositionEnd):a(e,n)&&(i=S.compositionStart),!i)return null;C&&(O||i!==S.compositionStart?i===S.compositionEnd&&O&&(l=O.getData()):O=g.getPooled(r));var c=m.getPooled(i,t,n,r);if(l)c.data=l;else{var d=u(n);null!==d&&(c.data=d)}return f.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case I.topCompositionEnd:return u(t);case I.topKeyPress:var n=t.which;return n!==N?null:(k=!0,R);case I.topTextInput:var r=t.data;return r===R&&k?null:r;default:return null}}function d(e,t){if(O){if(e===I.topCompositionEnd||s(e,t)){var n=O.getData();return g.release(O),O=null,n}return null}switch(e){case I.topPaste:return null;case I.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case I.topCompositionEnd:return C?null:t.data;default:return null}}function p(e,t,n,r){var i;if(i=T?c(e,n):d(e,n),!i)return null;var o=y.getPooled(S.beforeInput,t,n,r);return o.data=i,f.accumulateTwoPhaseDispatches(o),o}var h=n(36),f=n(37),v=n(44),g=n(45),m=n(47),y=n(49),b=n(23),w=[9,13,27,32],x=229,_=v.canUseDOM&&"CompositionEvent"in window,E=null;v.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var T=v.canUseDOM&&"TextEvent"in window&&!E&&!r(),C=v.canUseDOM&&(!_||E&&E>8&&E<=11),N=32,R=String.fromCharCode(N),I=h.topLevelTypes,S={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[I.topCompositionEnd,I.topKeyPress,I.topTextInput,I.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[I.topBlur,I.topCompositionEnd,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[I.topBlur,I.topCompositionStart,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[I.topBlur,I.topCompositionUpdate,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]}},k=!1,O=null,P={eventTypes:S,extractEvents:function(e,t,n,r){return[l(e,t,n,r),p(e,t,n,r)]}};e.exports=P},function(e,t,n){"use strict";var r=n(21),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return b(e,r)}function i(e,t,n){var i=t?y.bubbled:y.captured,o=r(e,n,i);o&&(n._dispatchListeners=g(n._dispatchListeners,o),n._dispatchInstances=g(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&v.traverseTwoPhase(e._targetInst,i,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?v.getParentInstance(t):null;v.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=b(e,r);i&&(n._dispatchListeners=g(n._dispatchListeners,i),n._dispatchInstances=g(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){m(e,o)}function c(e){m(e,a)}function d(e,t,n,r){v.traverseEnterLeave(n,r,s,e,t)}function p(e){m(e,u)}var h=n(36),f=n(38),v=n(40),g=n(42),m=n(43),y=(n(10),h.PropagationPhases),b=f.getListener,w={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:d};e.exports=w},function(e,t,n){"use strict";var r=n(6),i=n(39),o=n(40),a=n(41),s=n(42),u=n(43),l=(n(7),{}),c=null,d=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return d(e,!0)},h=function(e){return d(e,!1)},f={injection:{injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?r("94",t,typeof n):void 0;var o=l[t]||(l[t]={});o[e._rootNodeID]=n;var a=i.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];return n&&n[e._rootNodeID]},deleteListener:function(e,t){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=l[t];r&&delete r[e._rootNodeID]},deleteAllListeners:function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t][e._rootNodeID]){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete l[t][e._rootNodeID]}},extractEvents:function(e,t,n,r){for(var o,a=i.plugins,u=0;u<a.length;u++){var l=a[u];if(l){var c=l.extractEvents(e,t,n,r);c&&(o=s(o,c))}}return o},enqueueEvents:function(e){e&&(c=s(c,e))},processEventQueue:function(e){var t=c;c=null,e?u(t,p):u(t,h),c?r("95"):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};e.exports=f},function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);
if(n>-1?void 0:a("96",e),!l.plugins[n]){t.extractEvents?void 0:a("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)?void 0:a("98",o,e)}}}function i(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){l.registrationNameModules[e]?a("100",e):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(6),s=(n(7),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a("101"):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];u.hasOwnProperty(n)&&u[n]===i||(u[n]?a("102",n):void 0,u[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=l},function(e,t,n){"use strict";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function i(e){return e===y.topMouseMove||e===y.topTouchMove}function o(e){return e===y.topMouseDown||e===y.topTouchStart}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=b.getNodeFromInstance(r),t?g.invokeGuardedCallbackWithCatch(i,n,e):g.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?f("103"):void 0,e.currentTarget=t?b.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function d(e){return!!e._dispatchListeners}var p,h,f=n(6),v=n(36),g=n(41),m=(n(7),n(10),{injectComponentTree:function(e){p=e},injectTreeTraversal:function(e){h=e}}),y=v.topLevelTypes,b={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:d,getInstanceFromNode:function(e){return p.getInstanceFromNode(e)},getNodeFromInstance:function(e){return p.getNodeFromInstance(e)},isAncestor:function(e,t){return h.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return h.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return h.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return h.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return h.traverseEnterLeave(e,t,n,r,i)},injection:m};e.exports=b},function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(o){return void(null===i&&(i=o))}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,n){"use strict";function r(e,t){return null==t?i("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var i=n(6);n(7);e.exports=r},function(e,t){"use strict";function n(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=n},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(3),o=n(5),a=n(46);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(44),o=null;e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(48),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=n(3),o=n(5),a=n(11),s=(n(10),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(48),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=T.getPooled(k.change,P,e,C(e));w.accumulateTwoPhaseDispatches(t),E.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){O=e,P=t,O.attachEvent("onchange",i)}function s(){O&&(O.detachEvent("onchange",i),O=null,P=null)}function u(e,t){if(e===S.topChange)return t}function l(e,t,n){e===S.topFocus?(s(),a(t,n)):e===S.topBlur&&s()}function c(e,t){O=e,P=t,A=e.value,D=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(O,"value",j),O.attachEvent?O.attachEvent("onpropertychange",p):O.addEventListener("propertychange",p,!1)}function d(){O&&(delete O.value,O.detachEvent?O.detachEvent("onpropertychange",p):O.removeEventListener("propertychange",p,!1),O=null,P=null,A=null,D=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==A&&(A=t,i(e))}}function h(e,t){if(e===S.topInput)return t}function f(e,t,n){e===S.topFocus?(d(),c(t,n)):e===S.topBlur&&d()}function v(e,t){if((e===S.topSelectionChange||e===S.topKeyUp||e===S.topKeyDown)&&O&&O.value!==A)return A=O.value,P}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function m(e,t){if(e===S.topClick)return t}var y=n(36),b=n(38),w=n(37),x=n(44),_=n(31),E=n(51),T=n(48),C=n(59),N=n(60),R=n(61),I=n(23),S=y.topLevelTypes,k={change:{phasedRegistrationNames:{bubbled:I({onChange:null}),captured:I({onChangeCapture:null})},dependencies:[S.topBlur,S.topChange,S.topClick,S.topFocus,S.topInput,S.topKeyDown,S.topKeyUp,S.topSelectionChange]}},O=null,P=null,A=null,D=null,M=!1;x.canUseDOM&&(M=N("change")&&(!("documentMode"in document)||document.documentMode>8));var L=!1;x.canUseDOM&&(L=N("input")&&(!("documentMode"in document)||document.documentMode>11));var j={get:function(){return D.get.call(this)},set:function(e){A=""+e,D.set.call(this,e)}},U={eventTypes:k,extractEvents:function(e,t,n,i){var o,a,s=t?_.getNodeFromInstance(t):window;if(r(s)?M?o=u:a=l:R(s)?L?o=h:(o=v,a=f):g(s)&&(o=m),o){var c=o(e,t);if(c){var d=T.getPooled(k.change,c,n,i);return d.type="change",w.accumulateTwoPhaseDispatches(d),d}}a&&a(e,s,t)}};e.exports=U},function(e,t,n){"use strict";function r(){R.ReactReconcileTransaction&&x?void 0:c("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=R.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,i,o,a){r(),x.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==m.length?c("124",t,m.length):void 0,m.sort(a),y++;for(var n=0;n<t;n++){var r=m[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(f.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(v.performUpdateIfNecessary(r,e.reconcileTransaction,y),o&&console.timeEnd(o),i)for(var u=0;u<i.length;u++)e.callbackQueue.enqueue(i[u],r.getPublicInstance())}}function u(e){return r(),x.isBatchingUpdates?(m.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void x.batchedUpdates(u,e)}function l(e,t){x.isBatchingUpdates?void 0:c("125"),b.enqueue(e,t),w=!0}var c=n(6),d=n(3),p=n(52),h=n(5),f=n(53),v=n(54),g=n(58),m=(n(7),[]),y=0,b=p.getPooled(),w=!1,x=null,_={initialize:function(){this.dirtyComponentsLength=m.length},close:function(){this.dirtyComponentsLength!==m.length?(m.splice(0,this.dirtyComponentsLength),C()):m.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},T=[_,E];d(i.prototype,g.Mixin,{getTransactionWrappers:function(){return T},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,R.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return g.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),h.addPoolingTo(i);var C=function(){for(;m.length||w;){if(m.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(w){w=!1;var t=b;b=p.getPooled(),t.notifyAll(),p.release(t)}}},N={injectReconcileTransaction:function(e){e?void 0:c("126"),R.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,x=e}},R={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:C,injection:N,asap:l};e.exports=R},function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=n(6),o=n(3),a=n(5);n(7);o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?i("24"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),e.exports=r},function(e,t){"use strict";var n={logTopLevelRenders:!1};e.exports=n},function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var i=n(6),o=n(55),a=(n(57),n(7),{mountComponent:function(e,t,n,i,o){var a=e.mountComponent(t,n,i,o);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),a},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){return e._updateBatchNumber!==n?void(null!=e._updateBatchNumber&&e._updateBatchNumber!==n+1?i("121",n,e._updateBatchNumber):void 0):void e.performUpdateIfNecessary(t)}});e.exports=a},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(56),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";var r=n(6),i=(n(7),{isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){i.isValidOwner(n)?void 0:r("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i.isValidOwner(n)?void 0:r("120");var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=i},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t,n){"use strict";var r=n(6),i=(n(7),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,u){this.isInTransaction()?r("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,i,o,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(e){this.isInTransaction()?void 0:r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}}),o={Mixin:i,OBSERVED_ERROR:{}};e.exports=o},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(44);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";var r=n(23),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=i},function(e,t,n){"use strict";var r=n(36),i=n(37),o=n(31),a=n(64),s=n(23),u=r.topLevelTypes,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},c={eventTypes:l,extractEvents:function(e,t,n,r){if(e===u.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var d,p;if(e===u.topMouseOut){d=t;var h=n.relatedTarget||n.toElement;p=h?o.getClosestInstanceFromNode(h):null}else d=null,p=t;if(d===p)return null;var f=null==d?s:o.getNodeFromInstance(d),v=null==p?s:o.getNodeFromInstance(p),g=a.getPooled(l.mouseLeave,d,n,r);g.type="mouseleave",g.target=f,g.relatedTarget=v;var m=a.getPooled(l.mouseEnter,p,n,r);return m.type="mouseenter",m.target=v,m.relatedTarget=f,i.accumulateEnterLeaveDispatches(g,m,d,p),[g,m]}};e.exports=c},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(65),o=n(66),a=n(67),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(48),o=n(59),a={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function r(e){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t,n){"use strict";var r=n(32),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,"default":o,defer:o,dir:0,disabled:o,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=l},function(e,t,n){"use strict";var r=n(70),i=n(82),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(e){}};e.exports=o},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){c.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):g(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(g(e,i,r),i===n)break;i=o}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&g(r,document.createTextNode(n),i):n?(v(i,n),u(r,i,t)):u(r,e,t)}var c=n(71),d=n(77),p=n(81),h=(n(31),n(57),n(74)),f=n(73),v=n(75),g=h(function(e,t,n){e.insertBefore(t,n)}),m=d.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:m,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case p.INSERT_MARKUP:i(e,s.content,r(e,s.afterNode));break;case p.MOVE_EXISTING:o(e,s.fromNode,r(e,s.afterNode));break;case p.SET_MARKUP:f(e,s.content);break;case p.TEXT_CONTENT:v(e,s.content);break;case p.REMOVE_NODE:a(e,s.fromNode)}}}};e.exports=y},function(e,t,n){"use strict";function r(e){if(g){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)m(t,n[r],null);else null!=e.html?d(t,e.html):null!=e.text&&h(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function o(e,t){g?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){g?e.html=t:d(e.node,t)}function s(e,t){g?e.text=t:h(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=n(72),d=n(73),p=n(74),h=n(75),f=1,v=11,g="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),m=p(function(e,t,n){t.node.nodeType===v||t.node.nodeType===f&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=m,l.replaceChildWithTree=i,l.queueChild=o,l.queueHTML=a,l.queueText=s,e.exports=l},function(e,t){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=n},function(e,t,n){"use strict";var r,i=n(44),o=n(72),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=n(74),l=u(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild.childNodes,i=0;i<n.length;i++)e.appendChild(n[i])}});if(i.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=l},function(e,t){"use strict";var n=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=n},function(e,t,n){"use strict";var r=n(44),i=n(76),o=n(73),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,i(t))})),e.exports=a},function(e,t){"use strict";function n(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=r}return s!==a?o+t.substring(s,a):o}function r(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var i=/["'&<>]/;e.exports=r},function(e,t,n){"use strict";var r=n(6),i=n(71),o=n(44),a=n(78),s=n(11),u=(n(7),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM?void 0:r("56"),t?void 0:r("57"),"HTML"===e.nodeName?r("58"):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});e.exports=u},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var n=l;l?void 0:u(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var d=n.getElementsByTagName("script");d.length&&(t?void 0:u(!1),a(d).forEach(t));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var o=n(44),a=n(79),s=n(80),u=n(7),l=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),i=0;i<t;i++)r[i]=e[i];return r}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(7);e.exports=o},function(e,t,n){"use strict";function r(e){return a?void 0:o(!1),p.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?p[e]:null}var i=n(44),o=n(7),a=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},h=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];h.forEach(function(e){p[e]=d,s[e]=!0}),e.exports=r},function(e,t,n){"use strict";var r=n(21),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=i},function(e,t,n){"use strict";var r=n(70),i=n(31),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(e,t){t&&(J[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?v("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?v("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&X in t.dangerouslySetInnerHTML?void 0:v("61")),null!=t.style&&"object"!=typeof t.style?v("62",r(e)):void 0)}function o(e,t,n,r){if(!(r instanceof L)){var i=e._hostContainerInfo,o=i._node&&i._node.nodeType===Y,s=o?i._node:i._ownerDocument;H(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;T.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;O.postMountWrapper(e)}function u(){var e=this;D.postMountWrapper(e)}function l(){var e=this;P.postMountWrapper(e)}function c(){var e=this;e._rootNodeID?void 0:v("63");var t=q(e);switch(t?void 0:v("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[N.trapBubbledEvent(E.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Q)Q.hasOwnProperty(n)&&e._wrapperState.listeners.push(N.trapBubbledEvent(E.topLevelTypes[n],Q[n],t));break;case"source":e._wrapperState.listeners=[N.trapBubbledEvent(E.topLevelTypes.topError,"error",t)];break;case"img":e._wrapperState.listeners=[N.trapBubbledEvent(E.topLevelTypes.topError,"error",t),N.trapBubbledEvent(E.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[N.trapBubbledEvent(E.topLevelTypes.topReset,"reset",t),N.trapBubbledEvent(E.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[N.trapBubbledEvent(E.topLevelTypes.topInvalid,"invalid",t)]}}function d(){A.postUpdateWrapper(this)}function p(e){te.call(ee,e)||(Z.test(e)?void 0:v("65",e),ee[e]=!0)}function h(e,t){return e.indexOf("-")>=0||null!=t.is}function f(e){var t=e.type;p(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=null,this._domID=null,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var v=n(6),g=n(3),m=n(84),y=n(86),b=n(71),w=n(72),x=n(32),_=n(94),E=n(36),T=n(38),C=n(39),N=n(97),R=n(69),I=n(100),S=n(33),k=n(31),O=n(102),P=n(104),A=n(105),D=n(106),M=(n(57),n(107)),L=n(119),j=(n(11),n(76)),U=(n(7),n(60),n(23)),F=(n(122),n(123),n(10),S),B=T.deleteListener,q=k.getNodeFromInstance,H=N.listenTo,V=C.registrationNameModules,z={string:!0,number:!0},W=U({style:null}),X=U({__html:null}),G={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},Y=11,Q={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},$={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},K={listing:!0,pre:!0,textarea:!0},J=g({menuitem:!0},$),Z=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ee={},te={}.hasOwnProperty,ne=1;f.displayName="ReactDOMComponent",f.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=ne++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"button":o=I.getHostProps(this,o,t);break;case"input":O.mountWrapper(this,o,t),o=O.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"option":P.mountWrapper(this,o,t),o=P.getHostProps(this,o);break;case"select":A.mountWrapper(this,o,t),o=A.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"textarea":D.mountWrapper(this,o,t),o=D.getHostProps(this,o),e.getReactMountReady().enqueue(c,this)}i(this,o);var a,d;null!=t?(a=t._namespaceURI,d=t._tag):n._tag&&(a=n._namespaceURI,d=n._tag),(null==a||a===w.svg&&"foreignobject"===d)&&(a=w.html),a===w.html&&("svg"===this._tag?a=w.svg:"math"===this._tag&&(a=w.mathml)),this._namespaceURI=a;var p;if(e.useCreateElement){var h,f=n._ownerDocument;if(a===w.html)if("script"===this._tag){var v=f.createElement("div"),g=this._currentElement.type;v.innerHTML="<"+g+"></"+g+">",h=v.removeChild(v.firstChild)}else h=o.is?f.createElement(this._currentElement.type,o.is):f.createElement(this._currentElement.type);else h=f.createElementNS(a,this._currentElement.type);k.precacheNode(this,h),this._flags|=F.hasCachedChildNodes,this._hostParent||_.setAttributeForRoot(h),this._updateDOMProperties(null,o,e);var y=b(h);this._createInitialChildren(e,o,r,y),p=y}else{var x=this._createOpenTagMarkupAndPutListeners(e,o),E=this._createContentMarkup(e,o,r);p=!E&&$[this._tag]?x+"/>":x+">"+E+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),o.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),o.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"select":o.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"button":o.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return p},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(V.hasOwnProperty(r))i&&o(this,r,i,e);else{r===W&&(i&&(i=this._previousStyleCopy=g({},t.style)),i=y.createMarkupForStyles(i,this));var a=null;null!=this._tag&&h(this._tag,t)?G.hasOwnProperty(r)||(a=_.createMarkupForCustomAttribute(r,i)):a=_.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+_.createMarkupForRoot()),n+=" "+_.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=z[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=j(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return K[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&b.queueHTML(r,i.__html);else{var o=z[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)b.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)b.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"button":o=I.getHostProps(this,o),a=I.getHostProps(this,a);break;case"input":O.updateWrapper(this),o=O.getHostProps(this,o),a=O.getHostProps(this,a);break;case"option":o=P.getHostProps(this,o),a=P.getHostProps(this,a);break;case"select":o=A.getHostProps(this,o),a=A.getHostProps(this,a);break;case"textarea":D.updateWrapper(this),o=D.getHostProps(this,o),a=D.getHostProps(this,a)}i(this,a),this._updateDOMProperties(o,a,e),this._updateDOMChildren(o,a,e,r),"select"===this._tag&&e.getReactMountReady().enqueue(d,this)},_updateDOMProperties:function(e,t,n){var r,i,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===W){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else V.hasOwnProperty(r)?e[r]&&B(this,r):h(this._tag,e)?G.hasOwnProperty(r)||_.deleteValueForAttribute(q(this),r):(x.properties[r]||x.isCustomAttribute(r))&&_.deleteValueForProperty(q(this),r);for(r in t){var u=t[r],l=r===W?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===W)if(u?u=this._previousStyleCopy=g({},u):this._previousStyleCopy=null,l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(a=a||{},a[i]=u[i])}else a=u;else if(V.hasOwnProperty(r))u?o(this,r,u,n):l&&B(this,r);else if(h(this._tag,t))G.hasOwnProperty(r)||_.setValueForAttribute(q(this),r,u);else if(x.properties[r]||x.isCustomAttribute(r)){var c=q(this);null!=u?_.setValueForProperty(c,r,u):_.deleteValueForProperty(c,r)}}a&&y.setValueForStyles(q(this),a,this)},_updateDOMChildren:function(e,t,n,r){var i=z[typeof e.children]?e.children:null,o=z[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=i?null:e.children,l=null!=o?null:t.children,c=null!=i||null!=a,d=null!=o||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!d&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return q(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":v("66",this._tag)}this.unmountChildren(e),k.uncacheNode(this),T.deleteAllListeners(this),R.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null},getPublicInstance:function(){return q(this)}},g(f.prototype,f.Mixin,M.Mixin),e.exports=f},function(e,t,n){"use strict";var r=n(31),i=n(85),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t,n){"use strict";var r=n(87),i=n(44),o=(n(57),n(88),n(90)),a=n(91),s=n(93),u=(n(10),s(function(e){return a(e)})),l=!1,c="cssFloat";if(i.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(p){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var h={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];null!=i&&(n+=u(r)+":",n+=o(r,i,t)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=o(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)i[a]=s;else{var u=l&&r.shorthandPropertyExpansions[a];if(u)for(var d in u)i[d]="";else i[a]=""}}}};e.exports=h},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:o};e.exports=a},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(89),o=/^-ms-/;e.exports=r},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var i=isNaN(t);if(i||0===t||o.hasOwnProperty(e)&&o[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var i=n(87),o=(n(10),i.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(92),o=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var o=n(32),a=(n(31),n(95),n(57),n(96)),s=(n(10),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(76);e.exports=r},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=f++,p[e[g]]={}),p[e[g]]}var i,o=n(3),a=n(36),s=n(39),u=n(98),l=n(66),c=n(99),d=n(60),p={},h=!1,f=0,v={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),m=o({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),o=s.registrationNameDependencies[e],u=a.topLevelTypes,l=0;l<o.length;l++){var c=o[l];i.hasOwnProperty(c)&&i[c]||(c===u.topWheel?d("wheel")?m.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):d("mousewheel")?m.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):m.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?d("scroll",!0)?m.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):m.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",m.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(d("focus",!0)?(m.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),m.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):d("focusin")&&(m.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),m.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),i[u.topBlur]=!0,i[u.topFocus]=!0):v.hasOwnProperty(c)&&m.ReactEventListener.trapBubbledEvent(c,v[c],n),i[c]=!0)}},trapBubbledEvent:function(e,t,n){return m.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return m.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!i&&!h){var e=l.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),h=!0}}});e.exports=m},function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(38),o={handleTopLevel:function(e,t,n,o){var a=i.extractEvents(e,t,n,o);r(a)}};e.exports=o},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return"";
}var o=n(44),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};o.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=i},function(e,t,n){"use strict";var r=n(101),i={getHostProps:r.getHostProps};e.exports=i},function(e,t){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getHostProps:function(e,t){if(!t.disabled)return t;var r={};for(var i in t)!n[i]&&t.hasOwnProperty(i)&&(r[i]=t[i]);return r}};e.exports=r},function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);d.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0;p<u.length;p++){var h=u[p];if(h!==a&&h.form===a.form){var f=c.getInstanceFromNode(h);f?void 0:o("90"),d.asap(r,f)}}}return n}var o=n(6),a=n(3),s=n(101),u=n(94),l=n(103),c=n(31),d=n(51),p=(n(7),n(10),{getHostProps:function(e,t){var n=l.getValue(t),r=l.getChecked(t),i=a({type:void 0},s.getHostProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),i=l.getValue(t);if(null!=i){var o=""+i;o!==r.value&&(r.value=o)}else null==t.value&&null!=t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);"submit"!==t.type&&"reset"!==t.type&&(n.value=n.value);var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=p},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function i(e){r(e),null!=e.value||null!=e.onChange?s("88"):void 0}function o(e){r(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(6),u=n(26),l=n(20),c=(n(7),n(10),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),d={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},p={},h={checkPropTypes:function(e,t,n){for(var r in d){if(d.hasOwnProperty(r))var i=d[r](t,r,e,l.prop);if(i instanceof Error&&!(i.message in p)){p[i.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=h},function(e,t,n){"use strict";function r(e){var t="";return o.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var i=n(3),o=n(4),a=n(31),s=n(105),u=(n(10),!1),l={mountWrapper:function(e,t,n){var i=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(i)){for(var l=0;l<i.length;l++)if(""+i[l]===u){a=!0;break}}else a=""+i===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=a.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o=r(t.children);return o&&(n.children=o),n}};e.exports=l},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=u.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=l.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=n(3),s=n(101),u=n(103),l=n(31),c=n(51),d=(n(10),!1),p={getHostProps:function(e,t){return a({},s.getHostProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=u.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||d||(d=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=u.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=p},function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return c.asap(r,this),n}var o=n(6),a=n(3),s=n(101),u=n(103),l=n(31),c=n(51),d=(n(7),n(10),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?o("91"):void 0;var n=a({},s.getHostProps(e,t),{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=u.getValue(t),r=n;if(null==n){var a=t.defaultValue,s=t.children;null!=s&&(null!=a?o("92"):void 0,Array.isArray(s)&&(s.length<=1?void 0:o("93"),s=s[0]),a=""+s),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e),r=u.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=l.getNodeFromInstance(e);t.value=t.textContent}});e.exports=d},function(e,t,n){"use strict";function r(e,t,n){return{type:p.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:p.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:h.getHostNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:p.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:p.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:p.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){d.processChildrenUpdates(e,t)}var c=n(6),d=n(108),p=(n(109),n(57),n(81)),h=(n(9),n(54)),f=n(110),v=(n(11),n(118)),g=(n(7),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i){var o;return o=v(t),f.updateChildren(e,o,n,r,i),o},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=h.mountComponent(s,t,this,this._hostContainerInfo,n);s._mountIndex=o++,i.push(u)}return i},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[s(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[a(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=this._reconcilerUpdateChildren(r,e,i,t,n);if(o||r){var a,s=null,c=0,d=0,p=null;for(a in o)if(o.hasOwnProperty(a)){var f=r&&r[a],v=o[a];f===v?(s=u(s,this.moveChild(f,p,d,c)),c=Math.max(f._mountIndex,c),f._mountIndex=d):(f&&(c=Math.max(f._mountIndex,c)),s=u(s,this._mountChildAtIndex(v,p,d,t,n))),d++,p=h.getHostNode(v)}for(a in i)i.hasOwnProperty(a)&&(s=u(s,this._unmountChild(r[a],i[a])));s&&l(this,s),this._renderedChildren=o}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return i(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,r,i){var o=h.mountComponent(e,r,this,this._hostContainerInfo,i);return e._mountIndex=n,this.createChild(e,t,o)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=g},function(e,t,n){"use strict";var r=n(6),i=(n(7),!1),o={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r("104"):void 0,o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,!0))}var i=n(54),o=n(111),a=(n(15),n(115)),s=n(13),u=(n(10),{instantiateChildren:function(e,t,n,i){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r,s){if(t||e){var u,l;for(u in t)if(t.hasOwnProperty(u)){l=e&&e[u];var c=l&&l._currentElement,d=t[u];if(null!=l&&a(c,d))i.receiveComponent(l,d,r,s),t[u]=l;else{l&&(n[u]=i.getHostNode(l),i.unmountComponent(l,!1));var p=o(d,!0);t[u]=p}}for(u in e)!e.hasOwnProperty(u)||t&&t.hasOwnProperty(u)||(l=e[u],n[u]=i.getHostNode(l),i.unmountComponent(l,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}});e.exports=u},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e,t){var n;if(null===e||e===!1)n=l.create(o);else if("object"==typeof e){var s=e;!s||"function"!=typeof s.type&&"string"!=typeof s.type?a("130",null==s.type?s.type:typeof s.type,r(s._owner)):void 0,"string"==typeof s.type?n=c.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new d(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);n._mountIndex=0,n._mountImage=null;return n}var a=n(6),s=n(3),u=n(112),l=n(116),c=n(117),d=(n(57),n(7),n(10),function(e){this.construct(e)});s(d.prototype,u.Mixin,{_instantiateReactComponent:o});e.exports=o},function(e,t,n){"use strict";function r(e){}function i(e,t){}function o(e){return e.prototype&&e.prototype.isReactComponent}var a=n(6),s=n(3),u=n(108),l=n(9),c=n(8),d=n(41),p=n(109),h=(n(57),n(113)),f=(n(20),n(54)),v=n(114),g=n(18),m=(n(7),n(115));n(10);r.prototype.render=function(){var e=p.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return i(e,t),t};var y=1,b={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,s){this._context=s,this._mountOrder=y++,this._hostParent=t,this._hostContainerInfo=n;var u,l=this._currentElement.props,d=this._processContext(s),h=this._currentElement.type,f=e.getUpdateQueue(),v=this._constructComponent(l,d,f);o(h)||null!=v&&null!=v.render||(u=v,i(h,u),null===v||v===!1||c.isValidElement(v)?void 0:a("105",h.displayName||h.name||"Component"),v=new r(h));v.props=l,v.context=d,v.refs=g,v.updater=f,this._instance=v,p.set(v,this);var m=v.state;void 0===m&&(v.state=m=null),"object"!=typeof m||Array.isArray(m)?a("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var b;return b=v.unstable_handleError?this.performInitialMountWithErrorHandling(u,t,n,e,s):this.performInitialMount(u,t,n,e,s),v.componentDidMount&&e.getReactMountReady().enqueue(v.componentDidMount,v),b},_constructComponent:function(e,t,n){return this._constructComponentWithoutOwner(e,t,n)},_constructComponentWithoutOwner:function(e,t,n){var r,i=this._currentElement.type;return r=o(i)?new i(e,t,n):i(e,t,n)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var a=h.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==h.EMPTY);this._renderedComponent=s;var u=f.mountComponent(s,r,t,n,this._processChildContext(i));return u},getHostNode:function(){return f.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(f.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,p.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?a("107",this.getName()||"ReactCompositeComponent"):void 0;for(var i in r)i in t.childContextTypes?void 0:a("108",this.getName()||"ReactCompositeComponent",i);return s({},e,r)}return e},_checkContextTypes:function(e,t,n){v(e,t,n,this.getName(),null,this._debugID)},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?f.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var o=this._instance;null==o?a("136",this.getName()||"ReactCompositeComponent"):void 0;var s,u,l=!1;this._context===i?s=o.context:(s=this._processContext(i),l=!0),u=n.props,t!==n&&(l=!0),l&&o.componentWillReceiveProps&&o.componentWillReceiveProps(u,s);var c=this._processPendingState(u,s),d=!0;!this._pendingForceUpdate&&o.shouldComponentUpdate&&(d=o.shouldComponentUpdate(u,c,s)),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,u,c,s,e,i)):(this._currentElement=n,this._context=i,o.props=u,o.state=c,o.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=s({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var u=r[a];s(o,"function"==typeof u?u.call(n,o,e,t):u)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(m(r,i))f.receiveComponent(n,i,e,this._processChildContext(t));else{var o=f.getHostNode(n);f.unmountComponent(n,!1);var a=h.getType(i);this._renderedNodeType=a;var s=this._instantiateReactComponent(i,a!==h.EMPTY);this._renderedComponent=s;var u=f.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t));this._replaceNodeWithMarkup(o,u,n)}},_replaceNodeWithMarkup:function(e,t,n){u.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;l.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{l.current=null}return null===e||e===!1||c.isValidElement(e)?void 0:a("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?a("110"):void 0;var r=t.getPublicInstance(),i=n.refs===g?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof r?null:e},_instantiateReactComponent:null},w={Mixin:b};e.exports=w},function(e,t,n){"use strict";var r=n(6),i=n(8),o=(n(7),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?o.EMPTY:i.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.HOST:void r("26",e)}});e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,s,u){for(var l in e)if(e.hasOwnProperty(l)){var c;try{"function"!=typeof e[l]?i("84",r||"React class",o[n],l):void 0,c=e[l](t,l,r,n)}catch(d){c=d}if(c instanceof Error&&!(c.message in a)){a[c.message]=!0}}}var i=n(6),o=n(22),a=(n(7),n(10),{});e.exports=r},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t){"use strict";var n,r={injectEmptyComponentFactory:function(e){n=e}},i={create:function(e){return n(e)}};i.injection=r,e.exports=i},function(e,t,n){"use strict";function r(e){return u?void 0:a("111",e.type),new u(e)}function i(e){return new c(e)}function o(e){return e instanceof c}var a=n(6),s=n(3),u=(n(7),null),l={},c=null,d={injectGenericComponentClass:function(e){u=e},injectTextComponentClass:function(e){c=e},injectComponentClasses:function(e){s(l,e)}},p={createInternalComponent:r,createInstanceForText:i,isTextComponent:o,injection:d};e.exports=p},function(e,t,n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var i=e,o=void 0===i[n];o&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return o(e,r,n),n}var o=(n(15),n(13));n(10);e.exports=i},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=n(3),o=n(5),a=n(58),s=(n(57),n(120)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a.Mixin,c),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){}var o=n(121),a=(n(58),n(10),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&o.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?o.enqueueForceUpdate(e):i(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?o.enqueueReplaceState(e,t):i(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?o.enqueueSetState(e,t):i(e,"setState")},e}());e.exports=a},function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function i(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function o(e,t){var n=s.get(e);return n?n:null}var a=n(6),s=(n(9),n(109)),u=(n(57),n(51)),l=(n(7),n(10),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var i=o(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void r(i)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?a("122",t,i(e)):void 0}});e.exports=l},function(e,t){"use strict";function n(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";var r=(n(3),n(11)),i=(n(10),r);e.exports=i},function(e,t,n){"use strict";var r=n(3),i=n(71),o=n(31),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=null};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return o.precacheNode(this,l),i(l)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e,t,n){"use strict";function r(e,t){"_hostNode"in e?void 0:u("33"),"_hostNode"in t?void 0:u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,o=t;o;o=o._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function i(e,t){"_hostNode"in e?void 0:u("35"),"_hostNode"in t?void 0:u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function o(e){return"_hostNode"in e?void 0:u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],!1,n);for(i=0;i<r.length;i++)t(r[i],!0,n)}function s(e,t,n,i,o){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],!0,i);for(l=u.length;l-- >0;)n(u[l],!1,o)}var u=n(6);n(7);e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,n){"use strict";var r=n(6),i=n(3),o=n(70),a=n(71),s=n(31),u=(n(57),n(76)),l=(n(7),n(123),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(l.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,o=" react-text: "+i+" ",l=" /react-text ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,d=c.createComment(o),p=c.createComment(l),h=a(c.createDocumentFragment());return a.queueChild(h,a(d)),this._stringText&&a.queueChild(h,a(c.createTextNode(this._stringText))),a.queueChild(h,a(p)),s.precacheNode(this,d),this._closingComment=p,h}var f=u(this._stringText);return e.renderToStaticMarkup?f:"<!--"+o+"-->"+f+"<!--"+l+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=l},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(3),o=n(51),a=n(58),s=n(11),u={initialize:s,close:function(){p.isBatchingUpdates=!1}},l={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[l,u];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var d=new r,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?e(t,n,r,i,o):d.perform(e,null,t,n,r,i,o)}};e.exports=p},function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=d.getNodeFromInstance(e),n=t.parentNode;return d.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=h(e.nativeEvent),n=d.getClosestInstanceFromNode(t),i=n;do e.ancestors.push(i),i=i&&r(i);while(i);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],v._handleTopLevel(e.topLevelType,n,e.nativeEvent,h(e.nativeEvent))}function a(e){var t=f(window);e(t)}var s=n(3),u=n(129),l=n(44),c=n(5),d=n(31),p=n(51),h=n(59),f=n(130);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){v._handleTopLevel=e},setEnabled:function(e){v._enabled=!!e},isEnabled:function(){return v._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?u.listen(r,t,v.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?u.capture(r,t,v.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(v._enabled){var n=i.getPooled(e,t);try{p.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=v},function(e,t,n){"use strict";var r=n(11),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t,n){"use strict";var r=n(32),i=n(38),o=n(40),a=n(108),s=n(19),u=n(116),l=n(97),c=n(117),d=n(51),p={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:l.injection,HostComponent:c.injection,Updates:d.injection};e.exports=p},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var i=n(3),o=n(52),a=n(5),s=n(97),u=n(133),l=(n(57),n(58)),c=n(121),d={initialize:u.getSelectionInformation,close:u.restoreSelection},p={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[d,p,h],v={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,l.Mixin,v),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(134),o=n(136),a=n(85),s=n(139),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null
}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=u},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:s.toString().length,d=s.cloneRange();d.selectNodeContents(e),d.setEnd(s.startContainer,s.startOffset);var p=r(d.startContainer,d.startOffset,d.endContainer,d.endOffset),h=p?0:d.toString().length,f=h+c,v=document.createRange();v.setStart(n,i),v.setEnd(o,a);var g=v.collapsed;return{start:g?f:h,end:g?h:f}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=l(e,i),u=l(e,o);if(s&&u){var d=document.createRange();d.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(d),n.extend(u.node,u.offset)):(d.setEnd(u.node,u.offset),n.addRange(d))}}}var u=n(44),l=n(135),c=n(46),d=u.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:d?i:o,setOffsets:d?a:s};e.exports=p},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),o=0,a=0;i;){if(3===i.nodeType){if(a=o+i.textContent.length,o<=t&&a>=t)return{node:i,offset:t-o};o=a}i=n(r(i))}}e.exports=i},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(137);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(138);e.exports=r},function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(e){i.Properties[e]=0,r[e]&&(i.DOMAttributeNames[e]=r[e])}),e.exports=i},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(x||null==y||y!==d())return null;var n=r(y);if(!w||!f(w,n)){w=n;var i=c.getPooled(m.select,b,e,t);return i.type="select",i.target=y,a.accumulateTwoPhaseDispatches(i),i}return null}var o=n(36),a=n(37),s=n(44),u=n(31),l=n(133),c=n(48),d=n(139),p=n(61),h=n(23),f=n(122),v=o.topLevelTypes,g=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,m={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[v.topBlur,v.topContextMenu,v.topFocus,v.topKeyDown,v.topMouseDown,v.topMouseUp,v.topSelectionChange]}},y=null,b=null,w=null,x=!1,_=!1,E=h({onSelect:null}),T={eventTypes:m,extractEvents:function(e,t,n,r){if(!_)return null;var o=t?u.getNodeFromInstance(t):window;switch(e){case v.topFocus:(p(o)||"true"===o.contentEditable)&&(y=o,b=t,w=null);break;case v.topBlur:y=null,b=null,w=null;break;case v.topMouseDown:x=!0;break;case v.topContextMenu:case v.topMouseUp:return x=!1,i(n,r);case v.topSelectionChange:if(g)break;case v.topKeyDown:case v.topKeyUp:return i(n,r)}return null},didPutListener:function(e,t,n){t===E&&(_=!0)}};e.exports=T},function(e,t,n){"use strict";var r=n(6),i=n(36),o=n(129),a=n(37),s=n(31),u=n(143),l=n(144),c=n(48),d=n(145),p=n(146),h=n(64),f=n(149),v=n(150),g=n(151),m=n(65),y=n(152),b=n(11),w=n(147),x=(n(7),n(23)),_=i.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:x({onAbort:!0}),captured:x({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:x({onAnimationEnd:!0}),captured:x({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:x({onAnimationIteration:!0}),captured:x({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:x({onAnimationStart:!0}),captured:x({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:x({onBlur:!0}),captured:x({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:x({onCanPlay:!0}),captured:x({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:x({onCanPlayThrough:!0}),captured:x({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:x({onClick:!0}),captured:x({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:x({onContextMenu:!0}),captured:x({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:x({onCopy:!0}),captured:x({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:x({onCut:!0}),captured:x({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:x({onDoubleClick:!0}),captured:x({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:x({onDrag:!0}),captured:x({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:x({onDragEnd:!0}),captured:x({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:x({onDragEnter:!0}),captured:x({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:x({onDragExit:!0}),captured:x({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:x({onDragLeave:!0}),captured:x({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:x({onDragOver:!0}),captured:x({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:x({onDragStart:!0}),captured:x({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:x({onDrop:!0}),captured:x({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:x({onDurationChange:!0}),captured:x({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:x({onEmptied:!0}),captured:x({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:x({onEncrypted:!0}),captured:x({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:x({onEnded:!0}),captured:x({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:x({onError:!0}),captured:x({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:x({onFocus:!0}),captured:x({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:x({onInput:!0}),captured:x({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:x({onInvalid:!0}),captured:x({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:x({onKeyDown:!0}),captured:x({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:x({onKeyPress:!0}),captured:x({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:x({onKeyUp:!0}),captured:x({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:x({onLoad:!0}),captured:x({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:x({onLoadedData:!0}),captured:x({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:x({onLoadedMetadata:!0}),captured:x({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:x({onLoadStart:!0}),captured:x({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:x({onMouseDown:!0}),captured:x({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:x({onMouseMove:!0}),captured:x({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:x({onMouseOut:!0}),captured:x({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:x({onMouseOver:!0}),captured:x({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:x({onMouseUp:!0}),captured:x({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:x({onPaste:!0}),captured:x({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:x({onPause:!0}),captured:x({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:x({onPlay:!0}),captured:x({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:x({onPlaying:!0}),captured:x({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:x({onProgress:!0}),captured:x({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:x({onRateChange:!0}),captured:x({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:x({onReset:!0}),captured:x({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:x({onScroll:!0}),captured:x({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:x({onSeeked:!0}),captured:x({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:x({onSeeking:!0}),captured:x({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:x({onStalled:!0}),captured:x({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:x({onSubmit:!0}),captured:x({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:x({onSuspend:!0}),captured:x({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:x({onTimeUpdate:!0}),captured:x({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:x({onTouchCancel:!0}),captured:x({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:x({onTouchEnd:!0}),captured:x({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:x({onTouchMove:!0}),captured:x({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:x({onTouchStart:!0}),captured:x({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:x({onTransitionEnd:!0}),captured:x({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:x({onVolumeChange:!0}),captured:x({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:x({onWaiting:!0}),captured:x({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:x({onWheel:!0}),captured:x({onWheelCapture:!0})}}},T={topAbort:E.abort,topAnimationEnd:E.animationEnd,topAnimationIteration:E.animationIteration,topAnimationStart:E.animationStart,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topInvalid:E.invalid,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topTransitionEnd:E.transitionEnd,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var C in T)T[C].dependencies=[C];var N=x({onClick:null}),R={},I={eventTypes:E,extractEvents:function(e,t,n,i){var o=T[e];if(!o)return null;var s;switch(e){case _.topAbort:case _.topCanPlay:case _.topCanPlayThrough:case _.topDurationChange:case _.topEmptied:case _.topEncrypted:case _.topEnded:case _.topError:case _.topInput:case _.topInvalid:case _.topLoad:case _.topLoadedData:case _.topLoadedMetadata:case _.topLoadStart:case _.topPause:case _.topPlay:case _.topPlaying:case _.topProgress:case _.topRateChange:case _.topReset:case _.topSeeked:case _.topSeeking:case _.topStalled:case _.topSubmit:case _.topSuspend:case _.topTimeUpdate:case _.topVolumeChange:case _.topWaiting:s=c;break;case _.topKeyPress:if(0===w(n))return null;case _.topKeyDown:case _.topKeyUp:s=p;break;case _.topBlur:case _.topFocus:s=d;break;case _.topClick:if(2===n.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:s=h;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:s=f;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:s=v;break;case _.topAnimationEnd:case _.topAnimationIteration:case _.topAnimationStart:s=u;break;case _.topTransitionEnd:s=g;break;case _.topScroll:s=m;break;case _.topWheel:s=y;break;case _.topCopy:case _.topCut:case _.topPaste:s=l}s?void 0:r("86",e);var b=s.getPooled(o,t,n,i);return a.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if(t===N){var r=e._rootNodeID,i=s.getNodeFromInstance(e);R[r]||(R[r]=o.listen(i,"click",b))}},willDeleteListener:function(e,t){if(t===N){var n=e._rootNodeID;R[n].remove(),delete R[n]}}};e.exports=I},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(48),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(48),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(65),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(65),o=n(147),a=n(148),s=n(67),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,u),e.exports=r},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(147),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(64),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(65),o=n(67),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(48),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(64),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===A?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(k)||""}function a(e,t,n,r,i){var o;if(w.logTopLevelRenders){var a=e._currentElement.props,s=a.type;o="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(o)}var u=E.mountComponent(e,n,null,m(e,t),i);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,U._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var i=C.ReactReconcileTransaction.getPooled(!n&&y.useCreateElement);i.perform(a,null,e,t,i,n,r),C.ReactReconcileTransaction.release(i)}function u(e,t,n){for(E.unmountComponent(e,n),t.nodeType===A&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=i(e);if(t){var n=g.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){var t=i(e),n=t&&g.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=c(e);return t?t._hostContainerInfo._topLevelWrapper:null}var p=n(6),h=n(71),f=n(32),v=n(97),g=(n(9),n(31)),m=n(154),y=n(155),b=n(8),w=n(53),x=n(109),_=(n(57),n(156)),E=n(54),T=n(121),C=n(51),N=n(18),R=n(111),I=(n(7),n(73)),S=n(115),k=(n(10),f.ID_ATTRIBUTE_NAME),O=f.ROOT_ATTRIBUTE_NAME,P=1,A=9,D=11,M={},L=1,j=function(){this.rootID=L++};j.prototype.isReactComponent={},j.prototype.render=function(){return this.props};var U={TopLevelWrapper:j,_instancesByReactRootID:M,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return U.scrollMonitor(r,function(){T.enqueueElementInternal(e,t,n),i&&T.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){!t||t.nodeType!==P&&t.nodeType!==A&&t.nodeType!==D?p("37"):void 0,v.ensureScrollValueMonitoring();var i=R(e,!1);C.batchedUpdates(s,i,t,n,r);var o=i._instance.rootID;return M[o]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&x.has(e)?void 0:p("38"),U._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.validateCallback(r,"ReactDOM.render"),b.isValidElement(t)?void 0:p("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=b(j,null,null,null,null,null,t);if(e){var u=x.get(e);a=u._processChildContext(u._context)}else a=N;var c=d(n);if(c){var h=c._currentElement,f=h.props;if(S(f,t)){var v=c._renderedComponent.getPublicInstance(),g=r&&function(){r.call(v)};return U._updateRootComponent(c,s,a,n,g),v}U.unmountComponentAtNode(n)}var m=i(n),y=m&&!!o(m),w=l(n),_=y&&!c&&!w,E=U._renderNewRootComponent(s,n,_,a)._renderedComponent.getPublicInstance();return r&&r.call(E),E},render:function(e,t,n){return U._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){!e||e.nodeType!==P&&e.nodeType!==A&&e.nodeType!==D?p("40"):void 0;var t=d(e);if(!t){l(e),1===e.nodeType&&e.hasAttribute(O);return!1}return delete M[t._instance.rootID],C.batchedUpdates(u,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,a){if(!t||t.nodeType!==P&&t.nodeType!==A&&t.nodeType!==D?p("41"):void 0,o){var s=i(t);if(_.canReuseMarkup(e,s))return void g.precacheNode(n,s);var u=s.getAttribute(_.CHECKSUM_ATTR_NAME);s.removeAttribute(_.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(_.CHECKSUM_ATTR_NAME,u);var c=e,d=r(c,l),f=" (client) "+c.substring(d-20,d+20)+"\n (server) "+l.substring(d-20,d+20);t.nodeType===A?p("42",f):void 0}if(t.nodeType===A?p("43"):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else I(t,e),g.precacheNode(n,t.firstChild)}};e.exports=U},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var i=(n(123),9);e.exports=r},function(e,t){"use strict";var n={useCreateElement:!0};e.exports=n},function(e,t,n){"use strict";var r=n(157),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=a},function(e,t){"use strict";function n(e){for(var t=1,n=0,i=0,o=e.length,a=o&-4;i<a;){for(var s=Math.min(i+4096,a);i<s;i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;i<o;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=s(t),t?o.getNodeFromInstance(t):null):void("function"==typeof e.render?i("44"):i("45",Object.keys(e)))}var i=n(6),o=(n(9),n(31)),a=n(109),s=n(159);n(7),n(10);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.HOST?e._renderedComponent:t===i.EMPTY?null:void 0}var i=n(113);e.exports=r},function(e,t,n){"use strict";var r=n(153);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var i=n(162),o=r(i),a=n(165),s=r(a);t.Provider=o["default"],t.connect=s["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var s=n(1),u=n(163),l=r(u),c=n(164),d=(r(c),function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return s.Children.only(e)},t}(s.Component));t["default"]=d,d.propTypes={store:l["default"].isRequired,children:s.PropTypes.element.isRequired},d.childContextTypes={store:l["default"].isRequired}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1);t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function u(e,t){try{return e.apply(t)}catch(n){return R.value=n,R}}function l(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],l=Boolean(e),p=e||T,f=void 0;f="function"==typeof t?t:t?(0,m["default"])(t):C;var g=n||N,y=r.pure,b=void 0===y||y,w=r.withRef,_=void 0!==w&&w,S=b&&g!==N,k=I++;return function(e){function t(e,t,n){var r=g(e,t,n);return r}var n="Connect("+s(e)+")",r=function(r){function s(e,t){i(this,s);var a=o(this,r.call(this,e,t));a.version=k,a.store=e.store||t.store,(0,E["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var u=a.store.getState();return a.state={storeState:u},a.clearCache(),a}return a(s,r),s.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged;
},s.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},s.prototype.configureFinalMapState=function(e,t){var n=p(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:p,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},s.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},s.prototype.configureFinalMapDispatch=function(e,t){var n=f(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:f,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},s.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,v["default"])(e,this.stateProps))&&(this.stateProps=e,!0)},s.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,v["default"])(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},s.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&S&&(0,v["default"])(e,this.mergedProps))&&(this.mergedProps=e,!0)},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){l&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(e){b&&(0,v["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===R&&(this.statePropsPrecalculationError=R.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},s.prototype.getWrappedInstance=function(){return(0,E["default"])(_,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var a=!0,s=!0;b&&o&&(a=n||t&&this.doStatePropsDependOnOwnProps,s=t&&this.doDispatchPropsDependOnOwnProps);var u=!1,l=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(l=this.updateDispatchPropsIfNeeded());var p=!0;return p=!!(u||l||t)&&this.updateMergedPropsIfNeeded(),!p&&o?o:(_?this.renderedElement=(0,d.createElement)(e,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,d.createElement)(e,this.mergedProps),this.renderedElement)},s}(d.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:h["default"]},r.propTypes={store:h["default"]},(0,x["default"])(r,e)}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=l;var d=n(1),p=n(163),h=r(p),f=n(166),v=r(f),g=n(167),m=r(g),y=n(164),b=(r(y),n(170)),w=(r(b),n(181)),x=r(w),_=n(182),E=r(_),T=function(e){return{}},C=function(e){return{dispatch:e}},N=function(e,t,n){return c({},n,e,t)},R={value:null},I=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!i.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,i.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var i=n(168)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(169),o=r(i),a=n(176),s=r(a),u=n(178),l=r(u),c=n(179),d=r(c),p=n(180),h=r(p),f=n(177);r(f);t.createStore=o["default"],t.combineReducers=s["default"],t.bindActionCreators=l["default"],t.applyMiddleware=d["default"],t.compose=h["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){function r(){m===g&&(m=g.slice())}function o(){return v}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),m.push(e),function(){if(t){t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function c(e){if(!(0,a["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,v=f(v,e)}finally{y=!1}for(var t=g=m,n=0;n<t.length;n++)t[n]();return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");f=e,c({type:l.INIT})}function p(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u["default"]]=function(){return this},e}var h;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var f=e,v=t,g=[],m=g,y=!1;return c({type:l.INIT}),h={dispatch:c,subscribe:s,getState:o,replaceReducer:d},h[u["default"]]=p,h}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=i;var o=n(170),a=r(o),s=n(174),u=r(s),l=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!a(e)||p.call(e)!=s||o(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var i=n(171),o=n(172),a=n(173),s="[object Object]",u=Object.prototype,l=Function.prototype.toString,c=u.hasOwnProperty,d=l.call(Object),p=u.toString;e.exports=r},function(e,t){function n(e){return r(Object(e))}var r=Object.getPrototypeOf;e.exports=n},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){(function(t){"use strict";e.exports=n(175)(t||window||this)}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,u=Object.keys(n);try{o(n)}catch(l){s=l}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,o={},a=0;a<u.length;a++){var l=u[a],c=n[l],d=e[l],p=c(d,t);if("undefined"==typeof p){var h=i(l,t);throw new Error(h)}o[l]=p,r=r||p!==d}return r?o:e}}t.__esModule=!0,t["default"]=a;var s=n(169),u=n(170),l=(r(u),n(177));r(l)},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var a=r[o],s=e[a];"function"==typeof s&&(i[a]=n(s,t))}return i}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a=e(n,r,i),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=s["default"].apply(void 0,l)(a.dispatch),o({},a,{dispatch:u})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(180),s=r(a)},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,o){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(n[a[s]]||r[a[s]]||o&&o[a[s]]))try{e[a[s]]=t[a[s]]}catch(u){}}return e}},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return function(e){return e(o()),l["default"].login().then(function(e){return l["default"].getProfile(e)}).then(function(e){return e.loadAppRegistry()}).then(function(t){return e(a(t))})["catch"](function(t){return e(s(t))})}}function o(){return{type:c}}function a(e){return{type:d,profile:e}}function s(e){return{type:p,error:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_IN_FAILURE=t.LOG_IN_SUCCESS=t.LOG_IN_REQUEST=void 0,t.logIn=i,t.logInRequest=o,t.logInSuccess=a,t.logInFailure=s;var u=n(184),l=r(u),c=t.LOG_IN_REQUEST="LOG_IN_REQUEST",d=t.LOG_IN_SUCCESS="LOG_IN_SUCCESS",p=t.LOG_IN_FAILURE="LOG_IN_FAILURE"},function(e,t,n){"use strict";var r={acl:n(185).acl,appRegistry:n(239),auth:n(252),config:n(243),currentUser:n(252).currentUser,getProfile:n(253).getProfile,getPermissions:n(258).getPermissions,clearPermissions:n(258).clearPermissions,identity:n(253),login:n(252).login,meta:n(260),rdflib:"undefined"!=typeof $rdf?$rdf:n(191),signup:n(252).signup,status:n(262),typeRegistry:n(256),vocab:n(188),web:n(242)};e.exports=r},function(e,t,n){"use strict";function r(e,t){this.accessModes={},this.agent=null,this.group=null,this.inherited=t,this.mailTo=[],this.originsAllowed={},this.resourceUrl=e}function i(e){"string"!=typeof e&&(e=e.object.uri),e.startsWith("mailto:")&&(e=e.split(":")[1]),this.mailTo.push(e),this.mailTo.sort()}function o(e){var t=this;return Array.isArray(e)?e.forEach(function(e){t.addModeSingle(e)}):t.addModeSingle(e),t}function a(e){return"string"!=typeof e&&(e=e.object.uri),this.accessModes[e]=!0,this}function s(e){var t=this;return Array.isArray(e)?e.forEach(function(e){t.addOriginSingle(e)}):t.addOriginSingle(e),t}function u(e){return"string"!=typeof e&&(e=e.object.uri),this.originsAllowed[e]=!0,this}function l(){return Object.keys(this.accessModes)}function c(){return Object.keys(this.originsAllowed)}function d(e){return e in this.originsAllowed}function p(){return this.accessModes[U.READ]}function h(){return this.accessModes[U.WRITE]}function f(){return this.accessModes[U.APPEND]||this.accessModes[U.WRITE]}function v(){return this.accessModes[U.CONTROL]}function g(e){var t=this.agent===e.agent,n=this.group===e.group,r=this.resourceUrl===e.resourceUrl,i=Object.keys(this.accessModes),o=Object.keys(e.accessModes),a=i.length===o.length,s=JSON.stringify(this.inherited)===JSON.stringify(e.inherited),u=!0;i.forEach(function(t){e.accessModes[t]||(u=!1)});var l=JSON.stringify(this.mailTo)===JSON.stringify(e.mailTo),c=JSON.stringify(this.originsAllowed)===JSON.stringify(e.originsAllowed);return t&&n&&r&&a&&u&&s&&l&&c}function m(){if(!this.webId||!this.resourceUrl)throw new Error("Cannot call hashFragment() on an incomplete authorization");var e=D(this.webId(),this.resourceUrl);return e}function y(){return this.agent}function b(){return 0===Object.keys(this.accessModes).length}function w(){return this.group===U.EVERYONE}function x(){return this.group}function _(){return this.inherited}function E(){return this.webId()&&this.resourceUrl&&!this.isEmpty()}function T(e){if(this.hashFragment()!==e.hashFragment())throw new Error("Cannot merge authorizations with different agent id or resource url (accessTo)");for(var t in e.accessModes)this.addMode(t)}function C(){if(!this.webId()||!this.resourceUrl)return[];var e,t=j.sym("#"+this.hashFragment()),n=[j.st(t,L.rdf("type"),L.acl("Authorization"))];this.agent&&(e=j.st(t,L.acl("agent"),j.sym(this.agent)),n.push(e)),this.mailTo.length>0&&this.mailTo.forEach(function(r){e=j.st(t,L.acl("agent"),j.sym("mailto:"+r)),n.push(e)}),this.group&&(e=j.st(t,L.acl("agentClass"),j.sym(this.group)),n.push(e)),e=j.st(t,L.acl("accessTo"),j.sym(this.resourceUrl)),n.push(e);var r=Object.keys(this.accessModes);return r.forEach(function(r){e=j.st(t,L.acl("mode"),j.sym(r)),n.push(e)}),this.inherited&&(e=j.st(t,L.acl("defaultForNew"),j.sym(this.resourceUrl)),n.push(e)),this.allOrigins().forEach(function(r){e=j.st(t,L.acl("origin"),j.sym(r)),n.push(e)}),n}function N(e){var t=this;return Array.isArray(e)?e.forEach(function(e){t.removeModeSingle(e)}):t.removeModeSingle(e),t}function R(e){"string"!=typeof e&&(e=e.object.uri),delete this.accessModes[e]}function I(e){var t=this;return Array.isArray(e)?e.forEach(function(e){t.removeOriginSingle(e)}):t.removeOriginSingle(e),t}function S(e){"string"!=typeof e&&(e=e.object.uri),delete this.originsAllowed[e]}function k(e){if("string"!=typeof e&&(e=e.object.uri),e===U.EVERYONE)this.setPublic();else if(this.group)throw new Error("Cannot set agent, authorization already has a group set");e.startsWith("mailto:")?this.addMailTo(e):this.agent=e}function O(e){if("string"!=typeof e&&(e=e.object.uri),this.agent)throw new Error("Cannot set group, authorization already has an agent set");this.group=e}function P(){this.setGroup(U.EVERYONE)}function A(){return this.agent||this.group}function D(e,t){var n=e+"-"+t;return M.unique(n)}var M=n(186),L=n(188),j=n(190).rdflib,U={READ:L.acl("Read").uri,WRITE:L.acl("Write").uri,APPEND:L.acl("Append").uri,CONTROL:L.acl("Control").uri,EVERYONE:L.foaf("Agent").uri},F=!0;r.prototype.addMailTo=i,r.prototype.addMode=o,r.prototype.addModeSingle=a,r.prototype.addOrigin=s,r.prototype.addOriginSingle=u,r.prototype.allModes=l,r.prototype.allOrigins=c,r.prototype.allowsOrigin=d,r.prototype.allowsRead=p,r.prototype.allowsWrite=h,r.prototype.allowsAppend=f,r.prototype.allowsControl=v,r.prototype.equals=g,r.prototype.hashFragment=m,r.prototype.isAgent=y,r.prototype.isEmpty=b,r.prototype.isPublic=w,r.prototype.isGroup=x,r.prototype.isInherited=_,r.prototype.isValid=E,r.prototype.mergeWith=T,r.prototype.rdfStatements=C,r.prototype.removeMode=N,r.prototype.removeModeSingle=R,r.prototype.removeOrigin=I,r.prototype.removeOriginSingle=S,r.prototype.setAgent=k,r.prototype.setGroup=O,r.prototype.setPublic=P,r.prototype.webId=A,e.exports=r,e.exports.acl=U,e.exports.INHERIT=F,e.exports.hashFragmentFor=D},function(e,t,n){e.exports=n(187)},function(e,t){function n(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t}function r(e,t){function n(e){var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";return t[e]}t=t||62;var r,i=[],o="",a=e<0?"-":"";for(e=Math.abs(e);e>=t;)r=e%t,e=Math.floor(e/t),i.push(n(r));e>0&&i.push(n(e));for(var s=i.length-1;s>=0;s--)o+=i[s];return a+o}function i(e){var t=r(n(e),61);return t.replace("-","Z")}function o(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=e||8,i=0;i<r;i++){var o=Math.floor(Math.random()*t.length);n+=t.substring(o,o+1)}return n}t.bitwise=n,t.binaryTransfer=r,t.unique=i,t.random=o},function(e,t,n){"use strict";var r=n(189),i={acl:r("http://www.w3.org/ns/auth/acl#"),dct:r("http://purl.org/dc/terms/"),foaf:r("http://xmlns.com/foaf/0.1/"),ldp:r("http://www.w3.org/ns/ldp#"),owl:r("http://www.w3.org/2002/07/owl#"),pim:r("http://www.w3.org/ns/pim/space#"),rdf:r("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),rdfs:r("http://www.w3.org/2000/01/rdf-schema#"),schema:r("http://schema.org/"),sioc:r("http://rdfs.org/sioc/ns#"),solid:r("http://www.w3.org/ns/solid/terms#"),vcard:r("http://www.w3.org/2006/vcard/ns#"),xsd:r("http://www.w3.org/2001/XMLSchema#")};e.exports=i},function(e,t,n){"use strict";function r(e){var t=o(e),n=function(e){return i.sym(t(e))};return n}e.exports=r;var i=n(190).rdflib,o=n(238)},function(e,t,n){"use strict";var r={};"undefined"!=typeof $rdf?r.rdflib=$rdf:"undefined"!=typeof tabulator?r.rdflib=tabulator.rdf:r.rdflib=n(191),e.exports=r},function(e,t,n){(function(e){!function(r,o){if("undefined"!=typeof a)throw new Error("Internal error: RDF libray has already been loaded: $rdf already exists");var a={};if(void 0!==a.log)throw new Error("Internal Error: $rdf.log already defined,  util.js: "+a.log);a.log={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}},a.Util={output:function(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t)},callbackify:function(e,t){e.callbacks={};for(var n=t.length-1;n>=0;n--)e.callbacks[t[n]]=[];e.addHook=function(t){e.callbacks[t]||(e.callbacks[t]=[])},e.addCallback=function(t,n){e.callbacks[t].push(n)},e.removeCallback=function(t,n){for(var r=0;r<e.callbacks[t].length;r++)if(e.callbacks[t][r].name===n)return e.callbacks[t].splice(r,1),!0;return!1},e.insertCallback=function(t,n){e.callbacks[t].unshift(n)},e.fireCallbacks=function(t,n){var r,i=[],o=[],a=e.callbacks[t].length;for(r=a-1;r>=0;r--)e.callbacks[t][r].apply(e,n)&&i.push(e.callbacks[t][r]);for(r=i.length-1;r>=0;r--)o.push(i[r]);for(r=a;r<e.callbacks[t].length;r++)o.push(e.callbacks[t][r]);e.callbacks[t]=o}},XMLHTTPFactory:function(){var t;if("undefined"!=typeof tabulator&&tabulator.isExtension)return Components.classes["@mozilla.org/xmlextras/xmlhttprequest;1"].createInstance().QueryInterface(Components.interfaces.nsIXMLHttpRequest);if("undefined"!=typeof window&&"XMLHttpRequest"in window)return new(t=window.XMLHttpRequest);if("undefined"!=typeof e&&e&&e.exports)return new(t=n(193).XMLHttpRequest);if(!window.ActiveXObject)return!1;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(r){return new ActiveXObject("Microsoft.XMLHTTP")}},DOMParserFactory:function(){return tabulator&&tabulator.isExtension?Components.classes["@mozilla.org/xmlextras/domparser;1"].getService(Components.interfaces.nsIDOMParser):window.DOMParser?new DOMParser:!!window.ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")},getHTTPHeaders:function(e){for(var t,n=e.getAllResponseHeaders().split("\n"),r={},i=0;i<n.length;i++)if(n[i].length>0){var o=n[i].split(": ");"undefined"==typeof o[1]?r[t]+="\n"+o[0]:(t=o[0].toLowerCase(),r[t]=o[1])}return r},dtstamp:function(){var e=new Date,t=e.getYear()+1900,n=e.getMonth()+1,r=e.getDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getSeconds();return n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),o<10&&(o="0"+o),a<10&&(a="0"+a),t+"-"+n+"-"+r+"T"+i+":"+o+":"+a+"Z"},enablePrivilege:"undefined"!=typeof netscape&&"undefined"!=typeof netscape.security.PrivilegeManager&&netscape.security.PrivilegeManager.enablePrivilege||function(){},disablePrivilege:"undefined"!=typeof netscape&&"undefined"!=typeof netscape.security.PrivilegeManager&&netscape.security.PrivilegeManager.disablePrivilege||function(){},RDFArrayRemove:function(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.sameTerm(t.subject)&&e[n].predicate.sameTerm(t.predicate)&&e[n].object.sameTerm(t.object)&&e[n].why.sameTerm(t.why))return void e.splice(n,1);throw new Error("RDFArrayRemove: Array did not contain "+t+" "+t.why)},string_startswith:function(e,t){return e.slice(0,t.length)===t},AJAR_handleNewTerm:function(e,t,n){var r=null;if("undefined"!=typeof e.fetcher&&(r=e.fetcher,"symbol"===t.termType)){var i,o=a.Util.uri.docpart(t.uri);if(t.uri.indexOf("#")<0){if(a.Util.string_startswith(t.uri,"http://dbpedia.org/resource/Category:"))return;a.Util.string_startswith(t.uri,"http://purl.org/dc/elements/1.1/")||a.Util.string_startswith(t.uri,"http://purl.org/dc/terms/")?i="http://dublincore.org/2005/06/13/dcq":a.Util.string_startswith(t.uri,"http://xmlns.com/wot/0.1/")?i="http://xmlns.com/wot/0.1/index.rdf":a.Util.string_startswith(t.uri,"http://web.resource.org/cc/")&&(i="http://web.resource.org/cc/schema.rdf")}i&&(o=i),r&&"unrequested"!==r.getState(o)||(i&&a.log.warn("Assuming server still broken, faking redirect of <"+t.uri+"> to <"+o+">"),r.requestURI(o,n))}},ArrayIndexOf:function(e,t,n){n||(n=0);var r=e.length;for(n<0&&(n=r+n);n<r;n++)if(e[n]===t)return n;return-1}},a.Util.variablesIn=function(e){for(var t=0;t<e.statements.length;t++){var n=e.statatements[t],r={};n.subject instanceof a.Variable&&(r[n.subject.toNT()]=!0),n.predicate instanceof a.Variable&&(r[n.predicate.toNT()]=!0),n.object instanceof a.Variable&&(r[n.object.toNT()]=!0)}return r},a.Util.heavyCompare=function(e,t,n){var r=function(e){return"bnode"===e.termType?null:e},i=function(t){var i=n.statementsMatching(e).map(function(e){return""+r(e.subject)+" "+r(e.predicate)+" "+r(e.object)}).concat(n.statementsMatching(void 0,void 0,e).map(function(e){return""+r(e.subject)+" "+r(e.predicate)+" "+r(e.object)}));return i.sort(),i.join("\n")};return"bnode"===e.termType||"bnode"===t.termType?0===e.compareTerm(t)?0:i(e)>i(t)?1:i(e)<i(t)?-1:e.compareTerm(t):e.compareTerm(t)},a.Util.heavyCompareSPO=function(e,t,n){var r=a.Util.heavyCompare,i=r(e.subject,t.subject,n);return i?i:(i=r(e.predicate,t.predicate,n),i?i:r(e.object,t.object,n))},a.Util.parseXML=function(t,r){var i;if(r=r||{},"undefined"!=typeof tabulator&&tabulator.isExtension)i=Components.classes["@mozilla.org/xmlextras/domparser;1"].getService(Components.interfaces.nsIDOMParser);else{if("undefined"!=typeof e&&e&&e.exports){var o=n(194).DOMParser,a=(new o).parseFromString(t,r.contentType||"application/xhtml+xml");return a}i="undefined"!=typeof window&&window.DOMParser?new window.DOMParser:new o}return i.parseFromString(t,"application/xml")},a.Util.string={template:function(e,t){for(var n=e.split("%s"),r="",i=0;i<t.length;i++)t[i]+="",r+=n[i]+t[i];return r+n.slice(t.length).join()}},a.Util.domToString=function(e,t){var t=t||{},n=[];"selfClosing"in t&&t.selfClosing.split(" ").forEach(function(e){n[e]=!0});var r=[];"skipAttributes"in t&&t.skipAttributes.split(" ").forEach(function(e){r[e]=!0});var i=[!1],o=function(e){var a="";if("undefined"==typeof e.nodeType)return a;if(1===e.nodeType){if(e.hasAttribute("class")&&"classWithChildText"in t&&e.matches(t.classWithChildText["class"]))a+=e.querySelector(t.classWithChildText.element).textContent;else if(!("skipNodeWithClass"in t&&e.matches("."+t.skipNodeWithClass))){var s=e.nodeName.toLowerCase();a+="<"+s;for(var u=[],l=e.attributes.length-1;l>=0;l--){var c=e.attributes[l];if(!(r.length>0&&r[c.name]||/^\d+$/.test(c.name))){if("class"==c.name&&"replaceClassItemWith"in t&&c.value.split(" ").indexOf(t.replaceClassItemWith.source)>-1){var d=new RegExp(t.replaceClassItemWith.source,"g");c.value=c.value.replace(d,t.replaceClassItemWith.target).trim()}"class"==c.name&&"skipClassWithValue"in t&&t.skipClassWithValue==c.value||u.push(c.name+'="'+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"')}}if(u.length>0&&("sortAttributes"in t&&t.sortAttributes&&u.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),a+=" "+u.join(" ")),n[s])a+=" />";else{a+=">",a+="html"==s?"\n  ":"",i.push("style"===s||"script"===s);for(var l=0;l<e.childNodes.length;l++)a+=o(e.childNodes[l]);i.pop(),a+="body"==s?"</"+s+">\n":"</"+s+">"}}}else if(8===e.nodeType)a+="<!--"+e.nodeValue+"-->";else if(3===e.nodeType||4===e.nodeType){var p=e.nodeValue.replace(/\n+$/,"");a+=i[i.length-1]?p:p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+e.nodeType),console.log(e);return a};return o(e)};var a,u,l,c,d,p={}.hasOwnProperty;if("undefined"!=typeof a&&null!==a||(a={}),null==a.Util&&(a.Util={}),a.uri=function(){function e(){}return e.join=function(e,t){var n,r,i,o,a,s,u;if(r=t.indexOf("#"),r>0&&(t=t.slice(0,r)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(a=e.indexOf(":"),a>=0)return e;if(n=t.indexOf(":"),0===t.length)return e;if(n<0)return alert("Invalid base: "+t+" in join with given: "+e),e;if(i=t.slice(0,+n+1||9e9),0===e.indexOf("//"))return i+e;if(t.indexOf("//",n)===n+1){if(o=t.indexOf("/",n+3),o<0)return t.length-n-3>0?t+"/"+e:i+e}else if(o=t.indexOf("/",n+1),o<0)return t.length-n-1>0?t+"/"+e:i+e;if(0===e.indexOf("/"))return t.slice(0,o)+e;if(u=t.slice(o),s=u.lastIndexOf("/"),s<0)return i+e;for(s>=0&&s<u.length-1&&(u=u.slice(0,+s+1||9e9)),u+=e;u.match(/[^\/]*\/\.\.\//);)u=u.replace(/[^\/]*\/\.\.\//,"");return u=u.replace(/\.\//g,""),u=u.replace(/\/\.$/,"/"),t.slice(0,o)+u},e.commonHost=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$"),e.hostpart=function(e){var t;return t=/[^\/]*\/\/([^\/]*)\//.exec(e),t?t[1]:""},e.refTo=function(e,t){var n,r,i,o,s,u,l,c,d,p,h,f,v;if(!e)return t;if(e===t)return"";for(r=c=0,s=t.length;c<s&&(n=t[r],n===e[r]);r=++c);if(e.slice(0,r).match(a.Util.uri.commonHost)&&(i=t.indexOf("//"),i<0&&(i=-2),o=t.indexOf("/",i+2),"/"!==t[o+1]&&"/"!==e[o+1]&&t.slice(0,o)===e.slice(0,o)))return t.slice(o);if("#"===t[r]&&e.length===r)return t.slice(r);for(;r>0&&"/"!==t[r-1];)r--;if(r<3)return t;if(e.indexOf("//",r-2)>0||t.indexOf("//",r-2)>0)return t;if(e.indexOf(":",r)>0)return t;for(l=0,h=e.slice(r),d=0,u=h.length;d<u;d++)n=h[d],"/"===n&&l++;if(0===l&&r<t.length&&"#"===t[r])return"./"+t.slice(r);if(0===l&&r===t.length)return"./";if(v="",l>0)for(j=p=1,f=l;1<=f?p<=f:p>=f;j=1<=f?++p:--p)v+="../";return v+t.slice(r)},e.docpart=function(e){var t;return t=e.indexOf("#"),t<0?e:e.slice(0,t)},e.document=function(t){return a.sym(e.docpart(t.uri))},e.protocol=function(e){var t;return t=e.indexOf(":"),t<0?null:e.slice(0,t)},e}(),a.Util.uri=a.uri,null!=("undefined"!=typeof e&&null!==e?e.exports:void 0)){null==(u=e.exports).Util&&(u.Util={}),c=a.Util;for(l in c)p.call(c,l)&&(d=c[l],e.exports.Util[l]=d);e.exports.uri=a.uri}var a,l,d,h=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty,f=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};if("undefined"!=typeof a&&null!==a||(a={}),a.Node=function(){function e(){}return e.prototype.substitute=function(e){return this},e}(),a.Empty=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.termType="empty",t.prototype.toString=function(){return"()"},t.prototype.toNT=t.prototype.toString,t}(a.Node),a.NamedNode=function(e){function t(e){this.uri=e}return h(t,e),t.prototype.termType="symbol",t.prototype.toString=function(){return"<"+this.uri+">"},t.prototype.toNT=t.prototype.toString,t.prototype.doc=function(){return this.uri.indexOf("#")<0?this:new a.NamedNode(this.uri.split("#")[0])},t.prototype.dir=function(){var e=this.uri.split("#")[0],t=e.slice(0,-1).lastIndexOf("/"),n=e.indexOf("//");return n>=0&&t<n+2||t<0?null:new a.NamedNode(e.slice(0,t+1))},t.prototype.sameTerm=function(e){return!!e&&(this.termType===e.termType&&this.uri===e.uri)},t.prototype.compareTerm=function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.uri<e.uri?-1:this.uri>e.uri?1:0},t.prototype.XSDboolean=new t("http://www.w3.org/2001/XMLSchema#boolean"),t.prototype.XSDdecimal=new t("http://www.w3.org/2001/XMLSchema#decimal"),t.prototype.XSDfloat=new t("http://www.w3.org/2001/XMLSchema#float"),t.prototype.XSDinteger=new t("http://www.w3.org/2001/XMLSchema#integer"),t.prototype.XSDdateTime=new t("http://www.w3.org/2001/XMLSchema#dateTime"),t.prototype.integer=new t("http://www.w3.org/2001/XMLSchema#integer"),t}(a.Node),null!=a.NextId?a.log.error("Attempt to re-zero existing blank node id counter at "+a.NextId):a.NextId=0,a.NTAnonymousNodePrefix="_:n",a.BlankNode=function(e){function t(e){this.id=a.NextId++,this.value=e||this.id.toString()}return h(t,e),t.prototype.termType="bnode",t.prototype.toNT=function(){return a.NTAnonymousNodePrefix+this.id},t.prototype.toString=t.prototype.toNT,t.prototype.sameTerm=function(e){return!!e&&(this.termType===e.termType&&this.id===e.id)},t.prototype.compareTerm=function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0},t}(a.Node),a.Literal=function(e){function t(e,t,n){this.value=e,this.lang=t,this.datatype=n,this.lang||(this.lang=void 0),this.datatype||(this.datatype=void 0)}return h(t,e),t.prototype.termType="literal",
t.prototype.toString=function(){return""+this.value},t.prototype.toNT=function(){var e;if(e=this.value,typeof e===!1){if("number"==typeof e)return""+e;throw Error("Value of RDF literal is not string: "+e)}return e=e.replace(/\\/g,"\\\\"),e=e.replace(/\"/g,'\\"'),e=e.replace(/\n/g,"\\n"),e='"'+e+'"',this.datatype&&(e+="^^"+this.datatype.toNT()),this.lang&&(e+="@"+this.lang),e},t.prototype.sameTerm=function(e){return!!e&&(this.termType===e.termType&&this.value===e.value&&this.lang===e.lang&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.sameTerm(e.datatype)))},t.prototype.compareTerm=function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0},t}(a.Node),a.Collection=function(e){function t(e){var t,n,r;if(this.id=a.NextId++,this.elements=[],this.closed=!1,"undefined"!=typeof e)for(t=0,n=e.length;t<n;t++)r=e[t],this.elements.push(a.term(r))}return h(t,e),t.prototype.termType="collection",t.prototype.toNT=function(){return a.NTAnonymousNodePrefix+this.id},t.prototype.toString=function(){return"("+this.elements.join(" ")+")"},t.prototype.substitute=function(e){var t;return new a.Collection(function(){var n,r,i,o;for(i=this.elements,o=[],n=0,r=i.length;n<r;n++)t=i[n],o.push(t.substitute(e));return o}).call(this)},t.prototype.append=function(e){return this.elements.push(e)},t.prototype.unshift=function(e){return this.elements.unshift(e)},t.prototype.shift=function(){return this.elements.shift()},t.prototype.close=function(){return this.closed=!0,this.closed},t}(a.Node),a.Collection.prototype.sameTerm=a.BlankNode.prototype.sameTerm,a.Collection.prototype.compareTerm=a.BlankNode.prototype.compareTerm,a.term=function(e){var t,n,r,i,o,s,u;switch(typeof e){case"object":if(e instanceof Date)return t=function(e){return(""+(100+e)).slice(1,3)},s=""+e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z",new a.Literal(s,(void 0),a.NamedNode.prototype.XSDdateTime);if(e instanceof Array){for(u=new a.Collection,i=0,o=e.length;i<o;i++)r=e[i],u.append(a.term(r));return u}return e;case"string":return new a.Literal(e);case"number":return n=(""+e).indexOf("e")>=0?a.NamedNode.prototype.XSDfloat:(""+e).indexOf(".")>=0?a.NamedNode.prototype.XSDdecimal:a.NamedNode.prototype.XSDinteger,new a.Literal(""+e,(void 0),n);case"boolean":return new a.Literal(e?"1":"0",(void 0),a.NamedNode.prototype.XSDboolean);case"undefined":return}throw new Error("Can't make term from "+e+" of type "+typeof e)},a.Statement=function(){function e(e,t,n,r){this.subject=a.term(e),this.predicate=a.term(t),this.object=a.term(n),null!=r&&(this.why=r)}return e.prototype.toNT=function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."},e.prototype.toString=e.prototype.toNT,e.prototype.substitute=function(e){return new a.Statement(this.subject.substitute(e),this.predicate.substitute(e),this.object.substitute(e),this.why)},e}(),a.st=function(e,t,n,r){return new a.Statement(e,t,n,r)},a.Formula=function(e){function t(){this.statements=[],this.constraints=[],this.initBindings=[],this.optional=[]}return h(t,e),t.prototype.termType="formula",t.prototype.toNT=function(){return"{"+this.statements.join("\n")+"}"},t.prototype.toString=t.prototype.toNT,t.prototype.add=function(e,t,n,r){return this.statements.push(new a.Statement(e,t,n,r))},t.prototype.addStatement=function(e){return this.statements.push(e)},t.prototype.substitute=function(e){var t,n,r,i,o;for(t=new a.Formula,i=this.statements,n=0,r=i.length;n<r;n++)o=i[n],t.addStatement(o.substitute(e));return t},t.prototype.sym=function(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return new a.NamedNode(e)},t.prototype.literal=function(e,t,n){return new a.Literal(""+e,t,n)},t.prototype.bnode=function(e){return new a.BlankNode(e)},t.prototype.formula=function(){return new a.Formula},t.prototype.collection=function(){return new a.Collection},t.prototype.list=function(e){var t,n,r,i;if(i=new a.Collection,e)for(n=0,r=e.length;n<r;n++)t=e[n],i.append(t);return i},t.prototype.variable=function(e){return new a.Variable(e)},t.prototype.ns=function(e){return function(t){return new a.NamedNode(e+(null!=t?t:""))}},t.prototype.fromNT=function(e){var t,n,r,i;switch(e[0]){case"<":return a.sym(e.slice(1,-1));case'"':if(r=void 0,t=void 0,n=e.lastIndexOf('"'),n<e.length-1)if("@"===e[n+1])r=e.slice(n+2);else{if("^^"!==e.slice(n+1,n+3))throw new Error("Can't convert string from NT: "+e);t=a.fromNT(e.slice(n+3))}return e=e.slice(1,n),e=e.replace(/\\"/g,'"'),e=e.replace(/\\n/g,"\n"),e=e.replace(/\\\\/g,"\\"),a.lit(e,r,t);case"_":return i=new a.BlankNode,i.id=parseInt(e.slice(3),10),a.NextId--,i;case"?":return new a.Variable(e.slice(1))}throw new Error("Can't convert from NT: "+e)},t.prototype.sameTerm=function(e){return!!e&&this.hashString()===e.hashString()},t.prototype.each=function(e,t,n,r){var i,o,a,s,u,l,c,d,p,h,f;if(h=[],f=this.statementsMatching(e,t,n,r,!1),null==e)for(o=0,s=f.length;o<s;o++)i=f[o],h.push(i.subject);else if(null==t)for(a=0,u=f.length;a<u;a++)i=f[a],h.push(i.predicate);else if(null==n)for(d=0,l=f.length;d<l;d++)i=f[d],h.push(i.object);else if(null==r)for(p=0,c=f.length;p<c;p++)i=f[p],h.push(i.why);return h},t.prototype.any=function(e,t,n,r){var i;if(i=this.anyStatementMatching(e,t,n,r),null!=i)return null==e?i.subject:null==t?i.predicate:null==n?i.object:void 0},t.prototype.holds=function(e,t,n,r){var i;return i=this.anyStatementMatching(e,t,n,r),null!=i},t.prototype.holdsStatement=function(e){return this.holds(e.subject,e.predicate,e.object,e.why)},t.prototype.the=function(e,t,n,r){var i;return i=this.any(e,t,n,r),null==i&&a.log.error("No value found for the() {"+e+" "+t+" "+n+"}."),i},t.prototype.whether=function(e,t,n,r){return this.statementsMatching(e,t,n,r,!1).length},t.prototype.transitiveClosure=function(e,t,n){var r,i,o,a,s,u,l,c,d,h;i={},r={};for(s in e)p.call(e,s)&&(h=e[s],r[s]=h);for(;;){if(d=function(){var e;for(e in r)if(p.call(r,e))return e}(),null==d)return i;for(c=n?this.each(void 0,t,this.fromNT(d)):this.each(this.fromNT(d),t),a=0,u=c.length;a<u;a++)o=c[a],l=o.toNT(),l in i||l in r||(r[l]=r[d]);i[d]=r[d],delete r[d]}},t.prototype.findMembersNT=function(e){var t,n,r,i,o,a,s,u,l,c,d,h,f,v,g,m,y,b,w,x,_;b={},b[e.toNT()]=!0,l={},h=this.transitiveClosure(b,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(x in h)if(p.call(h,x)){for(f=this.statementsMatching(void 0,this.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(x)),t=0,r=f.length;t<r;t++)w=f[t],l[w.subject.toNT()]=w;for(v=this.each(void 0,this.sym("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(x)),n=0,i=v.length;n<i;n++)for(c=v[n],g=this.statementsMatching(void 0,c),u=0,o=g.length;u<o;u++)w=g[u],l[w.subject.toNT()]=w;for(m=this.each(void 0,this.sym("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(x)),d=0,a=m.length;d<a;d++)for(c=m[d],y=this.statementsMatching(void 0,c),_=0,s=y.length;_<s;_++)w=y[_],l[w.object.toNT()]=w}return l},t.prototype.NTtoURI=function(e){var t,n,r;n={};for(t in e)p.call(e,t)&&(r=e[t],"<"===t[0]&&(n[t.slice(1,-1)]=r));return n},t.prototype.findTypeURIs=function(e){return this.NTtoURI(this.findTypesNT(e))},t.prototype.findMemberURIs=function(e){return this.NTtoURI(this.findMembersNT(e))},t.prototype.findTypesNT=function(e){var t,n,r,i,o,a,s,u,l,c,d,p,h,f,v,g,m;for(d="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",m=[],p=this.statementsMatching(e,void 0,void 0),n=0,i=p.length;n<i;n++)if(g=p[n],g.predicate.uri===d)m[g.object.toNT()]=g;else for(h=this.each(g.predicate,this.sym("http://www.w3.org/2000/01/rdf-schema#domain")),r=0,o=h.length;r<o;r++)c=h[r],m[c.toNT()]=g;for(f=this.statementsMatching(void 0,void 0,e),u=0,a=f.length;u<a;u++)for(g=f[u],v=this.each(g.predicate,this.sym("http://www.w3.org/2000/01/rdf-schema#range")),l=0,s=v.length;l<s;l++)t=v[l],m[t.toNT()]=g;return this.transitiveClosure(m,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)},t.prototype.findSuperClassesNT=function(e){var t;return t=[],t[e.toNT()]=!0,this.transitiveClosure(t,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)},t.prototype.findSubClassesNT=function(e){var t;return t=[],t[e.toNT()]=!0,this.transitiveClosure(t,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)},t.prototype.topTypeURIs=function(e){var t,n,r,i,o,a,s,u;s=[];for(r in e)if(p.call(e,r)){for(u=e[r],o=0,a=this.each(this.sym(r),this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf")),t=0,i=a.length;t<i;t++)if(n=a[t],"http://www.w3.org/2000/01/rdf-schema#Resource"!==n.uri){o++;break}o||(s[r]=u)}return s["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete s["http://www.w3.org/2000/01/rdf-schema#Resource"],s["http://www.w3.org/2002/07/owl#Thing"]&&delete s["http://www.w3.org/2002/07/owl#Thing"],s},t.prototype.bottomTypeURIs=function(e){var t,n,r,i,o,a,s,u,l;t=[];for(o in e)if(p.call(e,o)){for(l=e[o],u=this.each(void 0,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.sym(o)),n=!0,i=0,a=u.length;i<a;i++)if(r=u[i],s=r.uri,f.call(e,s)>=0){n=!1;break}n&&(t[o]=l)}return t},t.prototype.serialize=function(e,t,n){var r,i,o;switch(o=a.Serializer(this),o.suggestNamespaces(this.namespaces),o.setBase(e),i=n?this.statementsMatching(void 0,void 0,void 0,n):this.statements,null!=t?t:"text/n3"){case"application/rdf+xml":r=o.statementsToXML(i);break;case"text/n3":case"text/turtle":r=o.statementsToN3(i);break;default:throw new Error("serialize: Content-type "+t(NaN))}return r},t}(a.Node),a.sym=function(e){return new a.NamedNode(e)},a.lit=a.Formula.prototype.literal,a.Namespace=a.Formula.prototype.ns,a.variable=a.Formula.prototype.variable,a.Variable=function(e){function t(e){this.base="varid:",this.uri=a.Util.uri.join(e,this.base)}return h(t,e),t.prototype.termType="variable",t.prototype.toNT=function(){return this.uri.slice(0,this.base.length)===this.base?"?"+this.uri.slice(this.base.length):"?"+this.uri},t.prototype.toString=t.prototype.toNT,t.prototype.hashString=t.prototype.toNT,t.prototype.substitute=function(e){var t;return null!=(t=e[this.toNT()])?t:this},t.prototype.sameTerm=function(e){return this.termType===e.termType&&this.uri===e.uri},t}(a.Node),a.Literal.prototype.classOrder=1,a.Collection.prototype.classOrder=3,a.Formula.prototype.classOrder=4,a.NamedNode.prototype.classOrder=5,a.BlankNode.prototype.classOrder=6,a.Variable.prototype.classOrder=7,a.fromNT=a.Formula.prototype.fromNT,a.graph=function(){return new a.IndexedFormula},null!=("undefined"!=typeof e&&null!==e?e.exports:void 0))for(l in a)p.call(a,l)&&(d=a[l],e.exports[l]=d);if(a.RDFParser=function(e){var t={};t.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},t.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},this.frameFactory=function(e,n,r){return{NODE:1,ARC:2,parent:n,parser:e,store:e.store,element:r,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=a.Util.uri.join(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(a.Util.uri.join("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e===t.ns.RDF+"li"&&(e=t.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype?this.node=this.store.literal(e,"",this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.getAttributeNodeNS=function(e,t,n){var r=null;if(e.getAttributeNodeNS)r=e.getAttributeNodeNS(t,n);else for(var i,o,a=e.attributes,s=0;s<a.length;++s)if(i=a[s],i.namespaceURI===t&&(o=i.prefix?i.prefix+":"+n:n,o===i.nodeName)){r=i;break}return r},this.store=e,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(e,n,r){var i=e.childNodes;this.cleanParser();var o;if(e.nodeType===t.nodeType.DOCUMENT){for(var a=0;a<i.length;a++)if(i[a].nodeType===t.nodeType.ELEMENT){o=i[a];break}}else{if(e.nodeType!==t.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+n+". Halting. ");o=e}this.why=r;var s=this.frameFactory(this);return this.base=n,s.base=n,s.lang=null,this.parseDOM(this.buildFrame(s,o)),!0},this.parseDOM=function(e){for(var n,r=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(t+=e.nodeName.indexOf(":")>=0?e.nodeName.split(":")[1]:e.nodeName),t}.bind(this),i=!0;e.parent;){var o=e.element,s=o.attributes;if(o.nodeType===t.nodeType.TEXT||o.nodeType===t.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(t.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(r(o)!==t.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),e=this.buildFrame(e,e.element),e.parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(r(o)),this.reify&&(n=this.getAttributeNodeNS(o,t.ns.RDF,"ID"),n&&(e.rdfid=n.nodeValue,o.removeAttributeNode(n)));var u=this.getAttributeNodeNS(o,t.ns.RDF,"parseType"),l=this.getAttributeNodeNS(o,t.ns.RDF,"datatype");if(l&&(e.datatype=l.nodeValue,o.removeAttributeNode(l)),u){var c=u.nodeValue;"Literal"===c?(e.datatype=t.ns.RDF+"XMLLiteral",e=this.buildFrame(e),e.addLiteral(o),i=!1):"Resource"===c?(e=this.buildFrame(e,e.element),e.parent.element=null,e.addBNode()):"Collection"===c&&(e=this.buildFrame(e,e.element),e.parent.element=null,e.addCollection()),o.removeAttributeNode(u)}if(0!==s.length){var d=this.getAttributeNodeNS(o,t.ns.RDF,"resource"),p=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");e=this.buildFrame(e),d?(e.addNode(d.nodeValue),o.removeAttributeNode(d)):p?(e.addBNode(p.nodeValue),o.removeAttributeNode(p)):e.addBNode();for(var h=s.length-1;h>=0;h--){var f=this.buildFrame(e);f.addArc(r(s[h])),r(s[h])===t.ns.RDF+"type"?this.buildFrame(f).addNode(s[h].nodeValue):this.buildFrame(f).addLiteral(s[h].nodeValue)}}else 0===o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var v=this.getAttributeNodeNS(o,t.ns.RDF,"about");if(n=this.getAttributeNodeNS(o,t.ns.RDF,"ID"),v&&n)throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!v&&n)e.addNode("#"+n.nodeValue),o.removeAttributeNode(n);else if(null==v&&null==n){var g=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");g?(e.addBNode(g.nodeValue),o.removeAttributeNode(g)):e.addBNode()}else e.addNode(v.nodeValue),o.removeAttributeNode(v);var m=this.getAttributeNodeNS(o,t.ns.RDF,"type");t.ns.RDF+"Description"!==r(o)&&(m={nodeValue:r(o)}),null!=m&&(this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(a.Util.uri.join(m.nodeValue,e.base)),this.why),m.nodeName&&o.removeAttributeNode(m));for(var y=s.length-1;y>=0;y--)this.store.add(e.node,this.store.sym(r(s[y])),this.store.literal(s[y].nodeValue,e.lang),this.why)}for(o=e.element;e.parent;){for(var b=e;null==o;)e=e.parent,o=e.element;var w=o.childNodes&&o.childNodes[e.lastChild];if(w&&i){if((w.nodeType===t.nodeType.ELEMENT||w.nodeType===t.nodeType.TEXT||w.nodeType===t.nodeType.CDATA_SECTION)&&(w.nodeType!==t.nodeType.TEXT&&w.nodeType!==t.nodeType.CDATA_SECTION||1===o.childNodes.length)){e.lastChild++,e=this.buildFrame(b,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,i=!0}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(e,n){var r=this.frameFactory(this,e,n);if(e&&(r.base=e.base,r.lang=e.lang),!n||n.nodeType===t.nodeType.TEXT||n.nodeType===t.nodeType.CDATA_SECTION)return r;var i=n.attributes,o=n.getAttributeNode("xml:base");null!=o&&(r.base=o.nodeValue,n.removeAttribute("xml:base"));var s=n.getAttributeNode("xml:lang");null!=s&&(r.lang=s.nodeValue,n.removeAttribute("xml:lang"));for(var u=i.length-1;u>=0;u--)if("xml"===i[u].nodeName.substr(0,3)){if("xmlns:"===i[u].name.slice(0,6)){var l=i[u].nodeValue;this.base&&(l=a.Util.uri.join(l,this.base)),this.store.setPrefixForURI(i[u].name.slice(6),l)}n.removeAttributeNode(i[u])}return r}},a.N3Parser=function(){function e(e){return encodeURI(e)}function t(e,t,r,i,o,a,s,u){return new n(e,t,r,i,o,a,s,u)}function n(e,t,n,r,i,o,a,s){"undefined"==typeof t&&(t=null),"undefined"==typeof n&&(n=""),"undefined"==typeof r&&(r=null),"undefined"==typeof i&&(i=""),"undefined"==typeof o&&(o=null),"undefined"==typeof a&&(a=""),"undefined"==typeof s&&(s=null),this._bindings=new c([]),this._flags=a,""!=n&&(g(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=e,i&&e.setGenPrefix(i),this._thisDoc=n,this.source=e.sym(n),this.lines=0,this.statementCount=0,this.startOfLine=0,this.previousLine=0,this._genPrefix=i,this.keywords=new l(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new c([]),this._variables=new c([]),this._parentVariables=new c([]),this._reason=s,this._reason2=null,w&&(this._reason2=why_BecauseOfData(e.sym(n),this._reason)),r?this._baseURI=r:n?this._baseURI=n:this._baseURI=null,g(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),null==t?this._thisDoc?this._formula=e.formula(n+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}function r(e,t,n,r,i){this._str=n.encode("utf-8"),this._str=n,this._i=r,this._why=i,this.lines=t,this._uri=e}function i(e,t,n,r,i){return"Line "+(t+1)+" of <"+e+">: Bad syntax: "+i+'\nat: "'+p(n,r,r+30)+'"'}var o={encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},decode:function(e){for(var t="",n=0;n<e.length;){var r=e.charCodeAt(n);r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(t+=String.fromCharCode((31&r)<<6|63&e.charCodeAt(n+1)),n+=2):(t+=String.fromCharCode((15&r)<<12|(63&e.charCodeAt(n+1))<<6|63&e.charCodeAt(n+2)),n+=3)}return t}},s="http://www.w3.org/2000/10/swap/log#",u=function(e){return e},l=function(e){return e},c=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},d=function(e){return e.length},p=function(e,t,n){if("undefined"==typeof e.slice)throw"@@ mising.js: No .slice function for "+e+" of type "+typeof e;return"undefined"==typeof n||null==n?e.slice(t):e.slice(t,n)},h=Error("dummy error stop iteration"),f=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw h;return this.li[this.last++]},this},v=function(e,t){return e.indexOf(t)},g=function(e,t){if(!e){if(t)throw"python Assertion failed: "+t;throw"(python) Assertion failed."}},m=function(e){return String.fromCharCode(e)};String.prototype.encode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return o.encode(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var y=function(e,t){return a.Util.uri.join(t,e)},b=null,w=0,x=0,_=function(e){},E="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",T="http://www.w3.org/2002/07/owl#sameAs",C="#",N="http://www.w3.org/2001/XMLSchema#integer",R="http://www.w3.org/2001/XMLSchema#double",I="http://www.w3.org/2001/XMLSchema#decimal",S="http://www.w3.org/2001/XMLSchema#date",k="http://www.w3.org/2001/XMLSchema#dateTime",O="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",P=O+":",A=(new RegExp("^[ \\t]*(#[^\\n]*)?\\r?\\n","g"),new RegExp("^[ \\t]*(#[^\\n]*)?$","g"),new RegExp("^[ \\t]*","g"),new RegExp("^[-+]?[0-9]+","g"),new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g")),D=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),M=(new RegExp("^[0-9]+","g"),new RegExp('[\\\\\\r\\n\\"]',"g")),L=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)?","g");return n.prototype.here=function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)},n.prototype.formula=function(){return this._formula},n.prototype.loadStream=function(e){return this.loadBuf(e.read())},n.prototype.loadBuf=function(e){return this.startDoc(),this.feed(e),this.endDoc()},n.prototype.feed=function(e){for(var t=e.decode("utf-8"),n=0;n>=0;){var r=this.skipSpace(t,n);if(r<0)return;var n=this.directiveOrStatement(t,r);if(n<0)throw i(this._thisDoc,this.lines,t,r,"expected directive or statement")}},n.prototype.directiveOrStatement=function(e,t){var n=this.skipSpace(e,t);if(n<0)return n;var r=this.directive(e,n);if(r>=0)return this.checkDot(e,r);var r=this.statement(e,n);return r>=0?this.checkDot(e,r):r},n.prototype.tok=function(e,t,n){if("@"==p(t,n,n+1))var n=n+1;else if(a.Util.ArrayIndexOf(this.keywords,e)<0)return-1;var r=n+d(e);return p(t,n,r)==e&&O.indexOf(t.charAt(r))>=0?r:-1},n.prototype.directive=function(t,n){var r=this.skipSpace(t,n);if(r<0)return r;var o=new l([]),r=this.tok("bind",t,n);if(r>0)throw i(this._thisDoc,this.lines,t,n,"keyword bind is obsolete: use @prefix");var r=this.tok("keywords",t,n);if(r>0){var n=this.commaSeparatedList(t,r,o,!1);if(n<0)throw i(this._thisDoc,this.lines,t,n,"'@keywords' needs comma separated list of words");return this.setKeywords(p(o,null,null)),x>80&&_("Keywords ",this.keywords),n}var r=this.tok("forAll",t,n);if(r>0){var n=this.commaSeparatedList(t,r,o,!0);if(n<0)throw i(this._thisDoc,this.lines,t,n,"Bad variable list after @forAll");var s=new f(o);try{for(;;){var u=s.next();(a.Util.ArrayIndexOf(this._variables,u)<0||a.Util.ArrayIndexOf(this._parentVariables,u)>=0)&&(this._variables[u]=this._context.newUniversal(u))}}catch(c){if(c!=h)throw c}return n}var r=this.tok("forSome",t,n);if(r>0){var n=this.commaSeparatedList(t,r,o,this.uri_ref2);if(n<0)throw i(this._thisDoc,this.lines,t,n,"Bad variable list after @forSome");var s=new f(o);try{for(;;){var u=s.next();this._context.declareExistential(u)}}catch(c){if(c!=h)throw c}return n}var r=this.tok("prefix",t,n);if(r>=0){var d=new l([]),n=this.qname(t,r,d);if(n<0)throw i(this._thisDoc,this.lines,t,r,"expected qname after @prefix");var r=this.uri_ref2(t,n,d);if(r<0)throw i(this._thisDoc,this.lines,t,n,"expected <uriref> after @prefix _qname_");var v=d[1].uri;if(this._baseURI)var v=y(this._baseURI,v);else g(v.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return g(v.indexOf(":")>=0),this._bindings[d[0][0]]=v,this.bind(d[0][0],e(v)),r}var r=this.tok("base",t,n);if(r>=0){var d=new l([]),n=this.uri_ref2(t,r,d);if(n<0)throw i(this._thisDoc,this.lines,t,r,"expected <uri> after @base ");var v=d[0].uri;if(!this._baseURI)throw i(this._thisDoc,this.lines,t,r,"With no previous base URI, cannot use relative URI in @base  <"+v+">");var v=y(this._baseURI,v);return g(v.indexOf(":")>=0),this._baseURI=v,n}return-1},n.prototype.bind=function(e,t){""==e||this._store.setPrefixForURI(e,t)},n.prototype.setKeywords=function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)},n.prototype.startDoc=function(){},n.prototype.endDoc=function(){return this._formula},n.prototype.makeStatement=function(e){e[0].add(e[2],e[1],e[3],this.source),this.statementCount+=1},n.prototype.statement=function(e,t){var n=new l([]),t=this.object(e,t,n);if(t<0)return t;var r=this.property_list(e,t,n[0]);if(r<0)throw i(this._thisDoc,this.lines,e,t,"expected propertylist");return r},n.prototype.subject=function(e,t,n){return this.item(e,t,n)},n.prototype.verb=function(e,t,n){var r=this.skipSpace(e,t);if(r<0)return r;var o=new l([]),r=this.tok("has",e,t);if(r>=0){var t=this.prop(e,r,o);if(t<0)throw i(this._thisDoc,this.lines,e,r,"expected property after 'has'");return n.push(new u(["->",o[0]])),t}var r=this.tok("is",e,t);if(r>=0){var t=this.prop(e,r,o);if(t<0)throw i(this._thisDoc,this.lines,e,r,"expected <property> after 'is'");var r=this.skipSpace(e,t);if(r<0)throw i(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");var t=r,r=this.tok("of",e,t);if(r<0)throw i(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return n.push(new u(["<-",o[0]])),r}var r=this.tok("a",e,t);if(r>=0)return n.push(new u(["->",this._store.sym(E)])),r;if("<="==p(e,t,t+2))return n.push(new u(["<-",this._store.sym(s+"implies")])),t+2;if("="==p(e,t,t+1))return">"==p(e,t+1,t+2)?(n.push(new u(["->",this._store.sym(s+"implies")])),t+2):(n.push(new u(["->",this._store.sym(T)])),t+1);if(":="==p(e,t,t+2))return n.push(new u(["->",s+"becomes"])),t+2;var r=this.prop(e,t,o);if(r>=0)return n.push(new u(["->",o[0]])),r;if(">-"==p(e,t,t+2)||"<-"==p(e,t,t+2))throw i(this._thisDoc,this.lines,e,r,">- ... -> syntax is obsolete.");return-1},n.prototype.prop=function(e,t,n){return this.item(e,t,n)},n.prototype.item=function(e,t,n){return this.path(e,t,n)},n.prototype.blankNode=function(e){return this._context.bnode(e,this._reason2)},n.prototype.path=function(e,t,n){var r=this.nodeOrLiteral(e,t,n);if(r<0)return r;for(;"!^.".indexOf(p(e,r,r+1))>=0;){var o=p(e,r,r+1);if("."==o){var a=p(e,r+1,r+2);if(!a||P.indexOf(a)>=0&&":?<[{(".indexOf(a)<0)break}var s=n.pop(),l=this.blankNode(this.here(r)),r=this.node(e,r+1,n);if(r<0)throw i(this._thisDoc,this.lines,e,r,"EOF found in middle of path syntax");var c=n.pop();"^"==o?this.makeStatement(new u([this._context,c,l,s])):this.makeStatement(new u([this._context,c,s,l])),n.push(l)}return r},n.prototype.anonymousNode=function(e){var t=this._anonymousNodes[e];if(t)return t;var t=this._store.bnode(this._context,this._reason2);return this._anonymousNodes[e]=t,t},n.prototype.node=function(e,t,n,r){"undefined"==typeof r&&(r=null);var o=r,a=this.skipSpace(e,t);if(a<0)return a;var t=a,s=p(e,t,t+1);if("["==s){var v=this.here(t),a=this.skipSpace(e,t+1);if(a<0)throw i(this._thisDoc,this.lines,e,t,"EOF after '['");if("="==p(e,a,a+1)){var t=a+1,g=new l([]),a=this.objectList(e,t,g);if(!(a>=0))throw i(this._thisDoc,this.lines,e,t,"objectList expected after [= ");var o=g[0];if(d(g)>1){var m=new f(g);try{for(;;){var y=m.next();this.makeStatement(new u([this._context,this._store.sym(T),o,y]))}}catch(w){if(w!=h)throw w}}var a=this.skipSpace(e,a);if(a<0)throw i(this._thisDoc,this.lines,e,t,"EOF when objectList expected after [ = ");if(";"==p(e,a,a+1))var a=a+1}if(null==o)var o=this.blankNode(v);var t=this.property_list(e,a,o);if(t<0)throw i(this._thisDoc,this.lines,e,a,"property_list expected");var a=this.skipSpace(e,t);if(a<0)throw i(this._thisDoc,this.lines,e,t,"EOF when ']' expected after [ <propertyList>");if("]"!=p(e,a,a+1))throw i(this._thisDoc,this.lines,e,a,"']' expected");return n.push(o),a+1}if("{"==s){var x=p(e,t+1,t+2);if("$"==x){t+=1;for(var a=t+1,_=new l([]),E=!0;;){var t=this.skipSpace(e,a);if(t<0)throw i(this._thisDoc,this.lines,e,t,"needed '$}', found end.");if("$}"==p(e,t,t+2)){var a=t+2;break}if(E)var E=!1;else{if(","!=p(e,t,t+1))throw i(this._thisDoc,this.lines,e,t,"expected: ','");t+=1}var C=new l([]),a=this.item(e,t,C);if(a<0)throw i(this._thisDoc,this.lines,e,t,"expected item in set or '$}'");_.push(C[0])}return n.push(this._store.newSet(_,this._context)),a}var a=t+1,N=this._parentContext;this._parentContext=this._context;var R=this._anonymousNodes,I=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new c([]),this._variables=this._variables.slice();var S=this._reason2;if(this._reason2=b,null==o)var o=this._store.formula();for(this._context=o;;){var t=this.skipSpace(e,a);if(t<0)throw i(this._thisDoc,this.lines,e,t,"needed '}', found end.");if("}"==p(e,t,t+1)){var a=t+1;break}var a=this.directiveOrStatement(e,t);if(a<0)throw i(this._thisDoc,this.lines,e,t,"expected statement or '}'")}return this._anonymousNodes=R,this._variables=this._parentVariables,this._parentVariables=I,this._context=this._parentContext,this._reason2=S,this._parentContext=N,n.push(o.close()),a}if("("==s){var k=this._store.list,x=p(e,t+1,t+2);if("$"==x){var k=this._store.newSet;t+=1}for(var a=t+1,_=new l([]);;){var t=this.skipSpace(e,a);if(t<0)throw i(this._thisDoc,this.lines,e,t,"needed ')', found end.");if(")"==p(e,t,t+1)){var a=t+1;break}var C=new l([]),a=this.item(e,t,C);if(a<0)throw i(this._thisDoc,this.lines,e,t,"expected item in list or ')'");_.push(C[0])}return n.push(k(_,this._context)),a}var a=this.tok("this",e,t);if(a>=0)throw i(this._thisDoc,this.lines,e,t,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");var a=this.tok("true",e,t);if(a>=0)return n.push(!0),a;var a=this.tok("false",e,t);if(a>=0)return n.push(!1),a;if(null==o){var a=this.uri_ref2(e,t,n);if(a>=0)return a}return-1},n.prototype.property_list=function(e,t,n){for(;;){var r=this.skipSpace(e,t);if(r<0)throw i(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(":-"!=p(e,r,r+2)){var t=r,o=new l([]),r=this.verb(e,t,o);if(r<=0)return t;var a=new l([]),t=this.objectList(e,r,a);if(t<0)throw i(this._thisDoc,this.lines,e,r,"objectList expected");var s=new f(a);try{for(;;){var c=s.next(),d=o[0],v=d[0],g=d[1];"->"==v?this.makeStatement(new u([this._context,g,n,c])):this.makeStatement(new u([this._context,g,c,n]))}}catch(m){if(m!=h)throw m}var r=this.skipSpace(e,t);if(r<0)throw i(this._thisDoc,this.lines,e,r,"EOF found in list of objects");if(";"!=p(e,t,t+1))return t;var t=t+1}else{var t=r+2,y=new l([]),r=this.node(e,t,y,n);if(r<0)throw i(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=r}}},n.prototype.commaSeparatedList=function(e,t,n,r){var o=this.skipSpace(e,t);if(o<0)throw i(this._thisDoc,this.lines,e,o,"EOF found expecting comma sep list");if("."==e.charAt(o))return t;if(r)var o=this.uri_ref2(e,o,n);else var o=this.bareWord(e,o,n);if(o<0)return-1;for(;;){var t=this.skipSpace(e,o);if(t<0)return t;var a=p(e,t,t+1);if(","!=a)return"."!=a?-1:t;if(r)var o=this.uri_ref2(e,t+1,n);else var o=this.bareWord(e,t+1,n);if(o<0)throw i(this._thisDoc,this.lines,e,o,"bad list content")}},n.prototype.objectList=function(e,t,n){var t=this.object(e,t,n);if(t<0)return-1;for(;;){var r=this.skipSpace(e,t);if(r<0)throw i(this._thisDoc,this.lines,e,r,"EOF found after object");if(","!=p(e,r,r+1))return r;var t=this.object(e,r+1,n);if(t<0)return t}},n.prototype.checkDot=function(e,t){var n=this.skipSpace(e,t);if(n<0)return n;if("."==p(e,n,n+1))return n+1;
if("}"==p(e,n,n+1))return n;if("]"==p(e,n,n+1))return n;throw i(this._thisDoc,this.lines,e,n,"expected '.' or '}' or ']' at end of statement")},n.prototype.uri_ref2=function(e,t,n){var r=new l([]),o=this.qname(e,t,r);if(o>=0){var s=r[0],u=s[0],c=s[1];if(null==u){g(0,"not used?");var h=this._baseURI+C}else{var h=this._bindings[u];if(!h){if("_"==u)return n.push(this.anonymousNode(c)),o;throw i(this._thisDoc,this.lines,e,t,"Prefix "+u+" not bound.")}}var f=this._store.sym(h+c);return a.Util.ArrayIndexOf(this._variables,f)>=0?n.push(this._variables[f]):n.push(f),o}var t=this.skipSpace(e,t);if(t<0)return-1;if("?"==e.charAt(t)){var v=new l([]),o=this.variable(e,t,v);return o>0?(n.push(v[0]),o):-1}if("<"==e.charAt(t)){for(var t=t+1,m=t;t<d(e);){if(">"==e.charAt(t)){var b=p(e,m,t);if(this._baseURI)var b=y(this._baseURI,b);else g(b.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if("#"==p(e,t-1,t)&&"#"!=p(b,-1,null))var b=b+"#";var f=this._store.sym(b);return a.Util.ArrayIndexOf(this._variables,f)>=0?n.push(this._variables[f]):n.push(f),t+1}var t=t+1}throw i(this._thisDoc,this.lines,e,o,"unterminated URI reference")}if(this.keywordsSet){var v=new l([]),o=this.bareWord(e,t,v);if(o<0)return-1;if(a.Util.ArrayIndexOf(this.keywords,v[0])>=0)throw i(this._thisDoc,this.lines,e,t,'Keyword "'+v[0]+'" not allowed here.');return n.push(this._store.sym(this._bindings[""]+v[0])),o}return-1},n.prototype.skipSpace=function(e,t){for(var n=" \n\r\t\f\x0B\u2028\u2029",r=t?t:0;r<e.length;r++){var i=e.charAt(r);if(n.indexOf(i)<0){if("#"!==e.charAt(r))return r;for(;;r++){if(r===e.length)return-1;if("\n"===e.charAt(r)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(r)&&(this.lines=this.lines+1)}return-1},n.prototype.variable=function(e,t,n){var r=this.skipSpace(e,t);if(r<0)return-1;if("?"!=p(e,r,r+1))return-1;var r=r+1,t=r;if("0123456789-".indexOf(e.charAt(r))>=0)throw i(this._thisDoc,this.lines,e,r,"Varible name can't start with '"+e.charAt(r)+"s'");for(;t<d(e)&&P.indexOf(e.charAt(t))<0;)var t=t+1;if(null==this._parentContext)throw i(this._thisDoc,this.lines,e,r,"Can't use ?xxx syntax for variable in outermost level: "+p(e,r-1,t));return n.push(this._store.variable(p(e,r,t))),t},n.prototype.bareWord=function(e,t,n){var r=this.skipSpace(e,t);if(r<0)return-1;var i=e.charAt(r);if("0123456789-".indexOf(i)>=0)return-1;if(P.indexOf(i)>=0)return-1;for(var t=r;t<d(e)&&P.indexOf(e.charAt(t))<0;)var t=t+1;return n.push(p(e,r,t)),t},n.prototype.qname=function(e,t,n){var t=this.skipSpace(e,t);if(t<0)return-1;var r=e.charAt(t);if("0123456789-+".indexOf(r)>=0)return-1;if(P.indexOf(r)<0)for(var i=r,t=t+1;t<d(e);){var r=e.charAt(t);if(!(P.indexOf(r)<0))break;var i=i+r,t=t+1}else var i="";if(t<d(e)&&":"==e.charAt(t)){for(var o=i,t=t+1,i="";t<d(e);){var r=e.charAt(t);if(!(P.indexOf(r)<0))break;var i=i+r,t=t+1}return n.push(new u([o,i])),t}return i&&this.keywordsSet&&a.Util.ArrayIndexOf(this.keywords,i)<0?(n.push(new u(["",i])),t):-1},n.prototype.object=function(e,t,n){var r=this.subject(e,t,n);if(r>=0)return r;var r=this.skipSpace(e,t);if(r<0)return-1;var t=r;if('"'==e.charAt(t)){if('"""'==p(e,t,t+3))var i='"""';else var i='"';var t=t+d(i),o=this.strconst(e,t,i),r=o[0],a=o[1];return n.push(this._store.literal(a)),_("New string const ",a,r),r}return-1},n.prototype.nodeOrLiteral=function(e,t,n){var r=this.node(e,t,n);if(r>=0)return r;var r=this.skipSpace(e,t);if(r<0)return-1;var t=r,o=e.charAt(t);if("-+0987654321".indexOf(o)>=0){D.lastIndex=0;var a=D.exec(e.slice(t));if(null!=a){var s=a[0];r=t+s.length,s.indexOf("T")>=0?n.push(this._store.literal(s,void 0,this._store.sym(k))):n.push(this._store.literal(s,void 0,this._store.sym(S)))}else{A.lastIndex=0;var a=A.exec(e.slice(t));if(null==a)throw i(this._thisDoc,this.lines,e,t,"Bad number or date syntax");r=t+A.lastIndex;var s=p(e,t,r);s.indexOf("e")>=0?n.push(this._store.literal(parseFloat(s),void 0,this._store.sym(R))):p(e,t,r).indexOf(".")>=0?n.push(this._store.literal(parseFloat(s),void 0,this._store.sym(I))):n.push(this._store.literal(parseInt(s),void 0,this._store.sym(N)))}return r}if('"'==e.charAt(t)){if('"""'==p(e,t,t+3))var u='"""';else var u='"';var t=t+d(u),c=null,h=this.strconst(e,t,u),r=h[0],f=h[1],v=null;if("@"==p(e,r,r+1)){L.lastIndex=0;var a=L.exec(e.slice(r+1));if(null==a)throw i(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");var t=L.lastIndex+r+1,v=p(e,r+1,t),r=t}if("^^"==p(e,r,r+2))var g=new l([]),r=this.uri_ref2(e,r+2,g),c=g[0];return n.push(this._store.literal(f,v,c)),r}return-1},n.prototype.strconst=function(e,t,n){for(var r=t,o="",a=this.lines;r<d(e);){var t=r+d(n);if(p(e,r,t)==n)return new u([t,o]);if('"'!=e.charAt(r)){M.lastIndex=0;var s=M.exec(e.slice(r));if(!s)throw i(this._thisDoc,a,e,r,"Closing quote missing in string at ^ in "+p(e,r-20,r)+"^"+p(e,r,r+20));var t=r+M.lastIndex-1,o=o+p(e,r,t),l=e.charAt(t);if('"'!=l)if("\r"!=l){if("\n"==l){if('"'==n)throw i(this._thisDoc,a,e,t,"newline found in string literal");this.lines=this.lines+1;var o=o+l,r=t+1;this.previousLine=this.startOfLine,this.startOfLine=r}else if("\\"==l){var r=t+1,l=p(e,r,r+1);if(!l)throw i(this._thisDoc,a,e,t,"unterminated string literal (2)");var c=v('abfrtvn\\"',l);if(c>=0)var h='a\b\f\r\t\x0B\n\\"'.charAt(c),o=o+h,r=r+1;else if("u"==l)var f=this.uEscape(e,r+1,a),r=f[0],l=f[1],o=o+l;else{if("U"!=l)throw i(this._thisDoc,this.lines,e,t,"bad escape");var f=this.UEscape(e,r+1,a),r=f[0],l=f[1],o=o+l}}}else var r=t+1;else var r=t}else var o=o+'"',r=r+1}throw i(this._thisDoc,this.lines,e,t,"unterminated string literal")},n.prototype.uEscape=function(e,t,n){for(var r=t,o=0,a=0;o<4;){var s=p(e,r,r+1),l=s.toLowerCase(),r=r+1;if(""==l)throw i(this._thisDoc,n,e,t,"unterminated string literal(3)");var c=v("0123456789abcdef",l);if(c<0)throw i(this._thisDoc,n,e,t,"bad string literal hex escape");var a=16*a+c,o=o+1}var d=String.fromCharCode(a);return new u([r,d])},n.prototype.UEscape=function(e,t,n){for(var r=t,o=0,a="\\U";o<8;){var s=p(e,r,r+1),l=s.toLowerCase(),r=r+1;if(""==l)throw i(this._thisDoc,n,e,t,"unterminated string literal(3)");var c=v("0123456789abcdef",l);if(c<0)throw i(this._thisDoc,n,e,t,"bad string literal hex escape");var a=a+l,o=o+1}var d=m("0x"+p(a,2,10)-0);return new u([r,d])},r.prototype.toString=function(){var e=this._str,t=this._i,n=0;if(t>60)var r="...",n=t-60;else var r="";if(d(e)-t>60)var i="...";else var i="";return'Line %i of <%s>: Bad syntax (%s) at ^ in:\n"%s%s^%s%s"'%new u([this.lines+1,this._uri,this._why,r,p(e,n,t),p(e,t,t+60),i])},t}(),a.IndexedFormula=function(){var e="http://www.w3.org/2002/07/owl#";return a.Literal.prototype.hashString=a.Literal.prototype.toNT,a.NamedNode.prototype.hashString=a.NamedNode.prototype.toNT,a.BlankNode.prototype.hashString=a.BlankNode.prototype.toNT,a.Collection.prototype.hashString=a.Collection.prototype.toNT,a.IndexedFormula=function(t){function n(e,t,n,r,i){e.typeCallback&&e.typeCallback(e,r,i);var o=e.classActions[r.hashString()],a=!1;if(o)for(var s=0;s<o.length;s++)a=a||o[s](e,t,n,r,i);return a}function r(e,t,n,r){var i=e.any(void 0,n,r);return!!i&&(e.equate(i,t),!0)}function i(e,t,n,r){var i=e.any(t,n,void 0);return!!i&&(e.equate(i,r),!0)}this.statements=[],this.optional=[],this.propertyActions=[],this.classActions=[],this.redirections=[],this.aliases=[],this.HTTPRedirects=[],this.subjectIndex=[],this.predicateIndex=[],this.objectIndex=[],this.whyIndex=[],this.index=[this.subjectIndex,this.predicateIndex,this.objectIndex,this.whyIndex],this.namespaces={},void 0===t&&(t=["sameAs","InverseFunctionalProperty","FunctionalProperty"]),this.propertyActions["<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"]=[n],a.Util.ArrayIndexOf(t,"sameAs")>=0&&(this.propertyActions["<http://www.w3.org/2002/07/owl#sameAs>"]=[function(e,t,n,r,i){return e.equate(t,r),!0}]),a.Util.ArrayIndexOf(t,"InverseFunctionalProperty")>=0&&(this.classActions["<"+e+"InverseFunctionalProperty>"]=[function(e,t,n,i,o){return e.newPropertyAction(t,r)}]),a.Util.ArrayIndexOf(t,"FunctionalProperty")>=0&&(this.classActions["<"+e+"FunctionalProperty>"]=[function(e,t,n,r,o){return e.newPropertyAction(t,i)}])},a.IndexedFormula.prototype=new a.Formula,a.IndexedFormula.prototype.constructor=a.IndexedFormula,a.IndexedFormula.SuperClass=a.Formula,a.IndexedFormula.prototype.newPropertyAction=function(e,t){var n=e.hashString();this.propertyActions[n]||(this.propertyActions[n]=[]),this.propertyActions[n].push(t);for(var r=this.statementsMatching(void 0,e,void 0),i=!1,o=0;o<r.length;o++)i=i||t(this,r[o].subject,e,r[o].object);return i},a.IndexedFormula.prototype.setPrefixForURI=function(e,t){"tab"===e&&this.namespaces.tab||"ns"!==e.slice(0,2)&&"default"!==e.slice(0,7)&&(this.namespaces[e]=t)},a.IndexedFormula.prototype.register=function(e,t){this.namespaces[e]=t},a.IndexedFormula.prototype.equate=function(e,t){e=this.canon(e),t=this.canon(t);var n=e.compareTerm(t);return!n||(n<0?this.replaceWith(t,e):this.replaceWith(e,t))},a.IndexedFormula.prototype.replaceWith=function(e,t){for(var n=e.hashString(),r=t.hashString(),i=function(e){var t=e[n];if(t){var i=e[r];i?e[r]=t.concat(i):e[r]=t,delete e[n]}},o=0;o<4;o++)i(this.index[o]);if(this.redirections[n]=t,e.uri){if(this.aliases[r]||(this.aliases[r]=[]),this.aliases[r].push(e),this.aliases[n])for(o=0;o<this.aliases[n].length;o++)this.redirections[this.aliases[n][o].hashString()]=t,this.aliases[r].push(this.aliases[n][o]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e.uri),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return i(this.classActions),i(this.propertyActions),!0},a.IndexedFormula.prototype.canon=function(e){if(!e)return e;var t=this.redirections[e.hashString()];return t?t:e},a.IndexedFormula.prototype.sameThings=function(e,t){if(e.sameTerm(t))return!0;var n=this.canon(e);if(!n)return!1;var r=this.canon(t);return!!r&&n.uri===r.uri},a.IndexedFormula.prototype.uris=function(e){var t=this.canon(e),n=this.aliases[t.hashString()];if(!t.uri)return[];var r=[t.uri];if(n)for(var i=0;i<n.length;i++)r.push(n[i].uri);return r},a.IndexedFormula.prototype.add=function(e,t,n,r){var i;if(1===arguments.length){if(e instanceof Array)for(i=0;i<e.length;i++)this.add(e[i]);else e instanceof a.Statement?this.add(e.subject,e.predicate,e.object,e.why):e instanceof a.IndexedFormula&&this.add(e.statements);return this}var o,s;r||(r=this.fetcher?this.fetcher.appNode:this.sym("chrome:theSession")),e=a.term(e),t=a.term(t),n=a.term(n),r=a.term(r),this.predicateCallback&&this.predicateCallback(this,t,r);var u=this.canon(t).hashString();o=this.propertyActions[u];var l=!1;if(o)for(i=0;i<o.length;i++)l=l||o[i](this,e,t,n,r);var c=[this.canon(e).hashString(),u,this.canon(n).hashString(),this.canon(r).hashString()];for(s=new a.Statement(e,t,n,r),i=0;i<4;i++){var d=this.index[i],p=c[i];d[p]||(d[p]=[]),d[p].push(s)}return this.statements.push(s),s},a.IndexedFormula.prototype.mentionsURI=function(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]},a.IndexedFormula.prototype.nextSymbol=function(e){for(var t=0;;t++){var n=e.uri+"#n"+t;if(!this.mentionsURI(n))return this.sym(n)}},a.IndexedFormula.prototype.anyStatementMatching=function(e,t,n,r){var i=this.statementsMatching(e,t,n,r,!0);if(i&&0!==i.length)return i[0]},a.IndexedFormula.prototype.statementsMatching=function(e,t,n,r,i){var o,s,u=[e,t,n,r],l=[],c=[],d=[],p=[];for(o=0;o<4;o++)l[o]=this.canon(a.term(u[o])),l[o]?(p.push(o),c[o]=l[o].hashString()):d.push(o);if(0===p.length)return this.statements;if(1===p.length)return o=p[0],s=this.index[o][c[o]],s&&i&&s.length>1&&(s=s.slice(0,1)),s=s||[];var h,f,v=1e10;for(f=0;f<p.length;f++){if(o=p[f],s=this.index[o][c[o]],!s)return[];s.length<v&&(v=s.length,h=f)}for(var g=p[h],m=this.index[g][c[g]],y=p.slice(0,h).concat(p.slice(h+1)),b=[],w=["subject","predicate","object","why"],x=0;x<m.length;x++){var _=m[x];for(f=0;f<y.length;f++)if(o=y[f],!this.canon(_[w[o]]).sameTerm(l[o])){_=null;break}if(null!=_&&(b.push(_),i))break}return b},a.IndexedFormula.prototype.removeDocument=function(e){for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),n=0;n<t.length;n++)this.removeStatement(t[n]);return this},a.IndexedFormula.prototype.remove=function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if(e instanceof a.IndexedFormula)return this.remove(e.statements);var n=this.statementsMatching(e.subject,e.predicate,e.object,e.why);if(!n.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(n[0]),this},a.IndexedFormula.prototype.removeMatches=function(e,t,n,r){return this.removeStatements(this.staementsMatching(e,t,n,r)),this},a.IndexedFormula.prototype.removeStatements=function(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this},a.IndexedFormula.prototype.removeStatement=function(e){for(var t=[e.subject,e.predicate,e.object,e.why],n=0;n<4;n++){var r=this.canon(t[n]),i=r.hashString();this.index[n][i]&&a.Util.RDFArrayRemove(this.index[n][i],e)}return a.Util.RDFArrayRemove(this.statements,e),this},a.IndexedFormula.prototype.checkStatementList=function(e,t){for(var n,r=["subject","predicate","object","why"],i=" found in "+r[t]+" index.",o=0;o<e.length;o++){n=e[o];for(var a=[n.subject,n.predicate,n.object,n.why],s=function(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.sameTerm(t.subject)&&e[n].predicate.sameTerm(t.predicate)&&e[n].object.sameTerm(t.object)&&e[n].why.sameTerm(t.why))return!0},u=0;u<4;u++){var l=this.canon(a[u]),c=l.hashString();if(!this.index[u][c])throw new Error("No "+name[u]+" index for statement "+n+"@"+n.why+i);if(!s(this.index[u][c],n))throw new Error("Index for "+name[u]+" does not have statement "+n+"@"+n.why+i)}if(!s(this.statements,n))throw new Error("Statement list does not statement "+n+"@"+n.why+i)}},a.IndexedFormula.prototype.check=function(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var n in t)t.hasOwnProperty(n)&&this.checkStatementList(t[n],e)}},a.IndexedFormula.prototype.removeMany=function(e,t,n,r,i){for(var o=this.statementsMatching(e,t,n,r,!1),a=[],s=0;s<o.length;s++)a.push(o[s]);for(i&&(a=a.slice(0,i)),s=0;s<a.length;s++)this.remove(a[s])},a.IndexedFormula.prototype.copyTo=function(e,t,n){n||(n=[]);var r=this.statementsMatching(e);a.Util.ArrayIndexOf(n,"two-direction")!==-1&&r.concat(this.statementsMatching(void 0,void 0,e));for(var i=0;i<r.length;i++){var o=r[i];switch(o.object.termType){case"symbol":this.add(t,o.predicate,o.object);break;case"literal":case"bnode":case"collection":this.add(t,o.predicate,o.object.copy(this))}a.Util.ArrayIndexOf(n,"delete")!==-1&&this.remove(o)}},a.Literal.prototype.copy=function(){return new a.Literal(this.value,this.lang,this.datatype)},a.BlankNode.prototype.copy=function(e){var t=new a.BlankNode;return e.copyTo(this,t),t},a.IndexedFormula.prototype.newUniversal=function(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t},a.IndexedFormula.prototype.newExistential=function(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)},a.IndexedFormula.prototype.declareExistential=function(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e},a.IndexedFormula.prototype.formula=function(e){return new a.IndexedFormula(e)},a.IndexedFormula.prototype.close=function(){return this},a.IndexedFormula.prototype.hashString=a.IndexedFormula.prototype.toNT,a.IndexedFormula}(),"undefined"==typeof v)var v={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};a.RDFaProcessor=function(e,t){this.options=t||{},this.kb=e,this.target=t.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()},a.RDFaProcessor.prototype.newBlankNode=function(){return this.blankCounter++,"_:"+this.blankCounter},a.RDFaProcessor.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",a.RDFaProcessor.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",a.RDFaProcessor.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",a.RDFaProcessor.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",a.RDFaProcessor.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",a.RDFaProcessor.nameChar="[-A-Z_a-z-----------0-F.0-9--]",a.RDFaProcessor.nameStartChar="[A-Za-z------------------------------------------------------------------------------------------------------------------------------------------------------_]",a.RDFaProcessor.NCNAME=new RegExp("^"+a.RDFaProcessor.nameStartChar+a.RDFaProcessor.nameChar+"*$"),a.RDFaProcessor.trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},a.RDFaProcessor.prototype.tokenize=function(e){return a.RDFaProcessor.trim(e).split(/\s+/)},a.RDFaProcessor.prototype.parseSafeCURIEOrCURIEOrURI=function(e,t,n){return e=a.RDFaProcessor.trim(e),"["==e.charAt(0)&&"]"==e.charAt(e.length-1)?(e=e.substring(1,e.length-1),e=e.trim(e),0==e.length?null:"_:"==e?this.theOne:this.parseCURIE(e,t,n)):this.parseCURIEOrURI(e,t,n)},a.RDFaProcessor.prototype.parseCURIE=function(e,t,n){var r=e.indexOf(":");if(r>=0){var i=e.substring(0,r);if(""==i){var o=t[""];return o?o+e.substring(r+1):null}if("_"==i)return"_:"+e.substring(r+1);if(a.RDFaProcessor.NCNAME.test(i)){var o=t[i];if(o)return o+e.substring(r+1)}}return null},a.RDFaProcessor.prototype.parseCURIEOrURI=function(e,t,n){var r=this.parseCURIE(e,t,n);return r?r:this.resolveAndNormalize(n,e)},a.RDFaProcessor.prototype.parsePredicate=function(e,t,n,r,i,o){if(""==e)return null;var a=this.parseTermOrCURIEOrAbsURI(e,t,o?null:n,r,i);return a&&0==a.indexOf("_:")?null:a},a.RDFaProcessor.prototype.parseTermOrCURIEOrURI=function(e,t,n,r,i){e=a.RDFaProcessor.trim(e);var o=this.parseCURIE(e,r,i);if(o)return o;var s=n[e];if(s)return s;var u=e.toLowerCase();return(s=n[u])?s:t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(i,e)},a.RDFaProcessor.prototype.parseTermOrCURIEOrAbsURI=function(e,t,n,r,i){e=a.RDFaProcessor.trim(e);var o=this.parseCURIE(e,r,i);if(o)return o;if(n){if(t&&!this.absURIRE.exec(e))return t+e;var s=n[e];if(s)return s;var u=e.toLowerCase();if(s=n[u])return s}return this.absURIRE.exec(e)?this.resolveAndNormalize(i,e):null},a.RDFaProcessor.prototype.parsePrefixMappings=function(e,t){for(var n=this.tokenize(e),r=null,i=0;i<n.length;i++)":"==n[i][n[i].length-1]?r=n[i].substring(0,n[i].length-1):r&&(t[r]=this.options.base?a.uri.join(n[i],this.options.base):n[i],r=null)},a.RDFaProcessor.prototype.copyMappings=function(e){var t={};for(var n in e)t[n]=e[n];return t},a.RDFaProcessor.prototype.ancestorPath=function(e){for(var t="";e&&e.nodeType!=v.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t},a.RDFaProcessor.prototype.setContext=function(e){"html"==e.localName&&"XHTML+RDFa 1.1"==e.getAttribute("version")?this.setXHTMLContext():"html"==e.localName||"http://www.w3.org/1999/xhtml"==e.namespaceURI?"undefined"!=typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"==document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"==document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"==document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"==document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()},a.RDFaProcessor.prototype.setInitialContext=function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]},a.RDFaProcessor.prototype.setXMLContext=function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1},a.RDFaProcessor.prototype.setHTMLContext=function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0},a.RDFaProcessor.prototype.setXHTMLContext=function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"},a.RDFaProcessor.prototype.init=function(){},a.RDFaProcessor.prototype.newSubjectOrigin=function(e,t){},a.RDFaProcessor.prototype.addTriple=function(e,t,n,r){var i,o,s,u;i="undefined"==typeof t?a.sym(this.options.base):this.toRDFNodeObject(t),s=this.toRDFNodeObject(n),o=this.toRDFNodeObject(r),u=a.sym(this.options.base),this.kb.add(i,s,o,u)},a.RDFaProcessor.prototype.toRDFNodeObject=function(e){if("undefined"!=typeof e){if("string"==typeof e)return"_:"==e.substring(0,2)?("undefined"==typeof this.blankNodes[e.substring(2)]&&(this.blankNodes[e.substring(2)]=new a.BlankNode(e.substring(2))),this.blankNodes[e.substring(2)]):a.sym(e);switch(e.type){case a.RDFaProcessor.objectURI:return"_:"==e.value.substring(0,2)?("undefined"==typeof this.blankNodes[e.value.substring(2)]&&(this.blankNodes[e.value.substring(2)]=new a.BlankNode(e.value.substring(2))),this.blankNodes[e.value.substring(2)]):a.sym(e.value);case a.RDFaProcessor.PlainLiteralURI:return new a.Literal(e.value,e.language||"");case a.RDFaProcessor.XMLLiteralURI:case a.RDFaProcessor.HTMLLiteralURI:var t="";return Object.keys(e.value).forEach(function(n){t+=a.Util.domToString(e.value[n],this.htmlOptions)}),new a.Literal(t,"",new a.NamedNode(e.type));default:return new a.Literal(e.value,"",new a.NamedNode(e.type))}}},a.RDFaProcessor.prototype.resolveAndNormalize=function(e,t){return a.uri.join(t,e)},a.RDFaProcessor.prototype.parseURI=function(e){return e},a.RDFaProcessor.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}],a.RDFaProcessor.deriveDateTimeType=function(e){for(var t=0;t<a.RDFaProcessor.dateTimeTypes.length;t++){var n=a.RDFaProcessor.dateTimeTypes[t].pattern.exec(e);if(n&&n[0].length==e.length)return a.RDFaProcessor.dateTimeTypes[t].type}return null},a.RDFaProcessor.prototype.process=function(e,t){var n;e.nodeType==v.DOCUMENT_NODE?(n=e.baseURI,e=e.documentElement,e.baseURI=n,this.setContext(e)):e.parentNode.nodeType==v.DOCUMENT_NODE&&this.setContext(e);var r=[],i=function(e){if(!e&&t&&t.baseURI)return t.baseURI;var n=e.indexOf("#");return n>=0&&(e=e.substring(0,n)),t&&t.baseURIMap&&(e=t.baseURIMap(e)),e};for(r.push({current:e,context:this.push(null,i(e.baseURI))});r.length>0;){var o=r.shift();if(o.parent){if(o.context.parent&&o.context.parent.listMapping==o.listMapping)continue;for(var s in o.listMapping){var u=o.listMapping[s];if(0!=u.length){for(var l=[],c=0;c<u.length;c++)l.push(this.newBlankNode());for(var c=0;c<l.length;c++)this.addTriple(o.parent,l[c],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",u[c]),this.addTriple(o.parent,l[c],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:a.RDFaProcessor.objectURI,value:c+1<l.length?l[c+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(o.parent,o.subject,s,{type:a.RDFaProcessor.objectURI,value:l[0]})}else this.addTriple(o.parent,o.subject,s,{type:a.RDFaProcessor.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var d=o.current,p=o.context,h=!1,f=null,g=null,m=null,y=p.prefixes,b=!1,w=[],x=p.listMapping,_=!p.parent,E=p.language,T=p.vocabulary,n=this.parseURI(i(d.baseURI));d.item=null;var C=d.getAttributeNode("vocab");if(C){var N=a.RDFaProcessor.trim(C.value);if(N.length>0){T=N;var R=n.spec;this.addTriple(d,R,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:a.RDFaProcessor.objectURI,value:T})}else T=this.vocabulary}for(var c=0;c<d.attributes.length;c++){var I=d.attributes[c];if("x"==I.nodeName.charAt(0)&&0==I.nodeName.indexOf("xmlns:")){b||(y=this.copyMappings(y),b=!0);var S=I.nodeName.substring(6),k=a.RDFaProcessor.trim(I.value);y[S]=this.options.base?a.uri.join(k,this.options.base):k}}var O=d.getAttributeNode("prefix");O&&(b||(y=this.copyMappings(y),b=!0),this.parsePrefixMappings(O.value,y));for(var P=null,c=0;!P&&c<this.langAttributes.length;c++)P=d.getAttributeNodeNS(this.langAttributes[c].namespaceURI,this.langAttributes[c].localName);if(P){var N=a.RDFaProcessor.trim(P.value);E=N.length>0?N:null}var A=d.getAttributeNode("rel"),D=d.getAttributeNode("rev"),M=d.getAttributeNode("typeof"),L=d.getAttributeNode("property"),j=d.getAttributeNode("datatype"),U=this.inHTMLMode?d.getAttributeNode("datetime"):null,F=d.getAttributeNode("content"),B=d.getAttributeNode("about"),q=d.getAttributeNode("src"),H=d.getAttributeNode("resource"),V=d.getAttributeNode("href"),z=d.getAttributeNode("inlist"),W=[];if(A)for(var X=this.tokenize(A.value),c=0;c<X.length;c++){var s=this.parsePredicate(X[c],T,p.terms,y,n,this.inHTMLMode&&null!=L);s&&W.push(s)}var G=[];if(D)for(var X=this.tokenize(D.value),c=0;c<X.length;c++){var s=this.parsePredicate(X[c],T,p.terms,y,n,this.inHTMLMode&&null!=L);s&&G.push(s)}!this.inHTMLMode||null==A&&null==D||null==L||(0==W.length&&(A=null),0==G.length&&(D=null)),A||D?(B&&(f=this.parseSafeCURIEOrCURIEOrURI(B.value,y,n)),M&&(m=f),f||(d.parentNode.nodeType==v.DOCUMENT_NODE?f=i(d.baseURI):p.parentObject&&(f=i(d.parentNode.baseURI)==p.parentObject?i(d.baseURI):p.parentObject)),H&&(g=this.parseSafeCURIEOrCURIEOrURI(H.value,y,n)),g||(V?g=this.resolveAndNormalize(n,encodeURI(V.value)):q?g=this.resolveAndNormalize(n,encodeURI(q.value)):!M||B||this.inXHTMLMode&&("head"==d.localName||"body"==d.localName)||(g=this.newBlankNode())),!M||B||!this.inXHTMLMode||"head"!=d.localName&&"body"!=d.localName?M&&!B&&(m=g):m=f):!L||F||j?(B&&(f=this.parseSafeCURIEOrCURIEOrURI(B.value,y,n)),!f&&H&&(f=this.parseSafeCURIEOrCURIEOrURI(H.value,y,n)),!f&&V&&(f=this.resolveAndNormalize(n,encodeURI(V.value))),!f&&q&&(f=this.resolveAndNormalize(n,encodeURI(q.value))),f||(d.parentNode.nodeType==v.DOCUMENT_NODE?f=i(d.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!=d.localName&&"body"!=d.localName?M?f=this.newBlankNode():p.parentObject&&(f=i(d.parentNode.baseURI)==p.parentObject?i(d.baseURI):p.parentObject,L||(h=!0)):f=i(d.parentNode.baseURI)==p.parentObject?i(d.baseURI):p.parentObject),M&&(m=f)):(B&&(f=this.parseSafeCURIEOrCURIEOrURI(B.value,y,n),M&&(m=f)),f||d.parentNode.nodeType!=v.DOCUMENT_NODE?!f&&p.parentObject&&(f=i(d.parentNode.baseURI)==p.parentObject?i(d.baseURI):p.parentObject):(f=i(d.baseURI),M&&(m=f)),M&&!m&&(H&&(m=this.parseSafeCURIEOrCURIEOrURI(H.value,y,n)),!m&&V&&(m=this.resolveAndNormalize(n,encodeURI(V.value))),!m&&q&&(m=this.resolveAndNormalize(n,encodeURI(q.value))),m||!this.inXHTMLMode&&!this.inHTMLMode||"head"!=d.localName&&"body"!=d.localName||(m=f),m||(m=this.newBlankNode()),g=m));if(f&&(B||H||m)){var Y=f;M&&!B&&!H&&g&&(Y=g),this.newSubjectOrigin(d,Y)}if(m)for(var X=this.tokenize(M.value),c=0;c<X.length;c++){var Q=this.parseTermOrCURIEOrAbsURI(X[c],T,p.terms,y,n);Q&&this.addTriple(d,m,a.RDFaProcessor.typeURI,{type:a.RDFaProcessor.objectURI,value:Q})}if(f&&f!=p.parentObject&&(x={},_=!0),g){if(A&&z)for(var c=0;c<W.length;c++){var u=x[W[c]];u||(u=[],x[W[c]]=u),u.push({type:a.RDFaProcessor.objectURI,value:g})}else if(A)for(var c=0;c<W.length;c++)this.addTriple(d,f,W[c],{type:a.RDFaProcessor.objectURI,value:g});if(D)for(var c=0;c<G.length;c++)this.addTriple(d,g,G[c],{type:a.RDFaProcessor.objectURI,value:f})}else{if(f&&!g&&(A||D)&&(g=this.newBlankNode()),A&&z)for(var c=0;c<W.length;c++){var u=x[W[c]];u||(u=[],x[s]=u),w.push({predicate:W[c],list:u})}else if(A)for(var c=0;c<W.length;c++)w.push({predicate:W[c],forward:!0});if(D)for(var c=0;c<G.length;c++)w.push({predicate:G[c],forward:!1})}if(L){var $=null,K=null;j?($=""==j.value?a.RDFaProcessor.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(j.value,T,p.terms,y,n),K=U&&!F?U.value:$==a.RDFaProcessor.XMLLiteralURI||$==a.RDFaProcessor.HTMLLiteralURI?null:F?F.value:d.textContent):F?($=a.RDFaProcessor.PlainLiteralURI,K=F.value):U?(K=U.value,$=a.RDFaProcessor.deriveDateTimeType(K),$||($=a.RDFaProcessor.PlainLiteralURI)):A||D||(H&&(K=this.parseSafeCURIEOrCURIEOrURI(H.value,y,n)),!K&&V?K=this.resolveAndNormalize(n,encodeURI(V.value)):!K&&q&&(K=this.resolveAndNormalize(n,encodeURI(q.value))),
K&&($=a.RDFaProcessor.objectURI)),$||(M&&!B?($=a.RDFaProcessor.objectURI,K=m):(K=d.textContent,this.inHTMLMode&&"time"==d.localName&&($=a.RDFaProcessor.deriveDateTimeType(K)),$||($=a.RDFaProcessor.PlainLiteralURI)));for(var X=this.tokenize(L.value),c=0;c<X.length;c++){var s=this.parsePredicate(X[c],T,p.terms,y,n);if(s)if(z){var u=x[s];u||(u=[],x[s]=u),u.push($==a.RDFaProcessor.XMLLiteralURI||$==a.RDFaProcessor.HTMLLiteralURI?{type:$,value:d.childNodes}:{type:$?$:a.RDFaProcessor.PlainLiteralURI,value:K,language:E})}else $==a.RDFaProcessor.XMLLiteralURI||$==a.RDFaProcessor.HTMLLiteralURI?this.addTriple(d,f,s,{type:$,value:d.childNodes}):this.addTriple(d,f,s,{type:$?$:a.RDFaProcessor.PlainLiteralURI,value:K,language:E})}}if(f&&!h)for(var c=0;c<p.incomplete.length;c++)p.incomplete[c].list?p.incomplete[c].list.push({type:a.RDFaProcessor.objectURI,value:f}):p.incomplete[c].forward?this.addTriple(d,p.subject,p.incomplete[c].predicate,{type:a.RDFaProcessor.objectURI,value:f}):this.addTriple(d,f,p.incomplete[c].predicate,{type:a.RDFaProcessor.objectURI,value:p.subject});var J=null,Z=f;h?(J=this.push(p,p.subject),J.parentObject=i(d.parentNode.baseURI)==p.parentObject?i(d.baseURI):p.parentObject,J.incomplete=p.incomplete,J.language=E,J.prefixes=y,J.vocabulary=T):(J=this.push(p,f),J.parentObject=g?g:f?f:p.subject,J.prefixes=y,J.incomplete=w,g&&(Z=g,x={},_=!0),J.listMapping=x,J.language=E,J.vocabulary=T),_&&r.unshift({parent:d,context:p,subject:Z,listMapping:x});for(var ee=d.lastChild;ee;ee=ee.previousSibling)ee.nodeType==v.ELEMENT_NODE&&(ee.baseURI=d.baseURI,r.unshift({current:ee,context:J}))}}this.inHTMLMode&&this.copyProperties();for(var c=0;c<this.finishedHandlers.length;c++)this.finishedHandlers[c](e)},a.RDFaProcessor.prototype.copyProperties=function(){},a.RDFaProcessor.prototype.push=function(e,t){return{parent:e,subject:t?t:e?e.subject:null,parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}},a.parseRDFaDOM=function(e,t,n){var r=new a.RDFaProcessor(t,{base:n});e.baseURI=n,r.process(e)},a.sparqlUpdateParser=function(e,t,n){var r,i,o,s=["INSERT","DELETE","WHERE"],u=a.Namespace("http://www.w3.org/ns/pim/patch#"),l=a.N3Parser(t,t,n,n,null,null,"",null),c={},d=function(e,t,n,r,i){return"Line "+(t+1)+" of <"+e+">: Bad syntax:\n   "+i+'\n   at: "'+n.slice(r,r+30)+'"'};r=0;var p=t.sym(n+"#query");for(c.query=p;;){var i=l.skipSpace(e,r);if(i<0)return c;if(";"===e[i]){if(r=l.skipSpace(e,i+1),r<0)return c;i=r}var h=!1;for(o=0;o<s.length;o++){var f=s[o];if(e.slice(i,i+f.length)===f){if(r=l.skipSpace(e,i+f.length),r<0)throw d(l._thisDoc,l.lines,e,i+f.length,"found EOF, needed {...} after "+f);if(("INSERT"===f||"DELETE"===f)&&"DATA"===e.slice(r,r+4)){if(i=l.skipSpace(e,r+4),i<0)throw d(l._thisDoc,l.lines,e,r+4,"needed {...} after INSERT DATA "+f);r=i}var v=[];if(i=l.node(e,r,v),i<0)throw d(l._thisDoc,l.lines,e,r,"bad syntax or EOF in {...} after "+f);c[f.toLowerCase()]=v[0],t.add(p,u(f.toLowerCase()),v[0]),h=!0,r=i}}if(!h&&"@prefix"===e.slice(i,i+7)){var r=l.directive(e,i);if(r<0)throw d(l._thisDoc,l.lines,e,r,"bad syntax or EOF after @prefix ");r=l.checkDot(e,r),h=!0}if(!h)throw d(l._thisDoc,l.lines,e,i,"Unknown syntax at start of statememt: '"+e.slice(i).slice(0,20)+"'")}},a.IndexedFormula.prototype.applyPatch=function(e,t,n){var r=this,i=function(i){if(e["delete"]){var a=e["delete"];o&&(a=a.substitute(o)),a=a.statements;var s=[],u=a.map(function(e){var n=r.statementsMatching(e.subject,e.predicate,e.object,t);return 0===n.length?(s.push(e),null):n[0]});if(s.length)return n("Couldn't find to delete: "+s[0]);u.map(function(e){r.remove(e)})}if(e.insert){var a=e.insert;o&&(a=a.substitute(o)),a=a.statements,a.map(function(e){e.why=t,r.add(e.subject,e.predicate,e.object,e.why)})}i()},o=null;if(e.where){var s=new a.Query("patch");s.pat=e.where,s.pat.statements.map(function(e){e.why=t});var u=[];r.query(s,function(e){u.push(e)},r.fetcher,function(){return 0==u.length?n("No match found to be patched:"+e.where):u.length>1?n("Patch ambiguous. No patch done."):(o=u[0],void i(n))})}else i(n)},a.Query=function(e,t){this.pat=new a.IndexedFormula,this.vars=[],this.name=e,this.id=t},a.QuerySource=function(){this.queries=[],this.listeners=[],this.addQuery=function(e){var t;for(null!==e.name&&""!==e.name||(e.name="Query #"+(this.queries.length+1)),e.id=this.queries.length,this.queries.push(e),t=0;t<this.listeners.length;t++)null!==this.listeners[t]&&this.listeners[t].addQuery(e)},this.removeQuery=function(e){var t;for(t=0;t<this.listeners.length;t++)null!==this.listeners[t]&&this.listeners[t].removeQuery(e);null!==this.queries[e.id]&&delete this.queries[e.id]},this.addListener=function(e){var t;for(this.listeners.push(e),t=0;t<this.queries.length;t++)null!==this.queries[t]&&e.addQuery(this.queries[t])},this.removeListener=function(e){var t;for(t=0;t<this.queries.length;t++)null!==this.queries[t]&&e.removeQuery(this.queries[t]);for(t=0;t<this.listeners.length;t++)this.listeners[t]===e&&delete this.listeners[t]}},a.Variable.prototype.isVar=1,a.BlankNode.prototype.isVar=1,a.BlankNode.prototype.isBlank=1,a.NamedNode.prototype.isVar=0,a.Literal.prototype.isVar=0,a.Formula.prototype.isVar=0,a.Collection.prototype.isVar=0,a.IndexedFormula.prototype.query=function(e,t,n,r){function i(e,t){return e.nvars!==t.nvars?e.nvars-t.nvars:e.index.length-t.index.length}var o=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+="    "+t+" -> "+e[t]);return n},s=function(e){var t,n="Bindings: ",r=e.length;for(t=0;t<r;t++)n+=o(e[t][0])+";\n\t";return n},u=function(e,t,n,r){var i=n[e];if(void 0===i){if(e.isVar){var o=[];return o[e]=t,[[o,null]]}i=e}if(!i.complexType)return r.redirections[i]&&(i=r.redirections[i]),r.redirections[t]&&(t=r.redirections[t]),i.sameTerm(t)?[[[],null]]:[];if(e instanceof Array)return t instanceof Array?l(e,t,n):[];throw new Error("query.js: oops - code not written yet")},l=function(e,t,n,r){var i;if(e.length!==t.length)return[];if(!e.length)return[[[],null]];var o=u(e[0],t[0],n,r);if(0===o.length)return o;var a,s,c,d,p,h,f,v=[],g=o.length;for(a=0;a<g;a++){s=o[a][0],f=[];for(p in s)s.hasOwnProperty(p)&&(f[p]=s[p]);for(p in n)n.hasOwnProperty(p)&&(f[p]=n[p]);for(i=l(e.slice(1),t.slice(1),f,r),d=i.length,c=0;c<d;c++){h=i[c][0];for(p in s)s.hasOwnProperty(p)&&(h[p]=s[p]);v.push([h,null])}}return v},c=function(e,t){var n=t[e];return void 0===n?e:n},d=function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},p=function(e,t){return this.trunkBindings=t,this.originalCallback=e,this.branches=[],this};p.prototype.checkAllDone=function(){var e;for(e=0;e<this.branches.length;e++)if(!this.branches[e].done)return;a.log.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},p.prototype.doCallBacks=function(e,t){var n;if(e<0)return this.originalCallback(t);for(n=0;n<this.branches[e].results.length;n++)this.doCallBacks(e-1,d(t,this.branches[e].results[n]))};var h=function(e,t){return this.count=0,this.success=!1,this.done=!1,this.callback=e,this.onDone=t,this};h.prototype.reportMatch=function(e){this.callback(e),this.success=!0},h.prototype.reportDone=function(){this.done=!0,a.log.info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var f=function(e){return this.count=0,this.done=!1,this.results=[],this.junction=e,e.branches.push(this),this};f.prototype.reportMatch=function(e){this.results.push(e)},f.prototype.reportDone=function(){a.log.debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),a.log.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var v=function(e,t,n){var r,i,o,a,s;for(t.nvars=0,t.index=null,i=[t.subject,t.predicate,t.object],s=[e.subjectIndex,e.predicateIndex,e.objectIndex],a=0;a<3;a++)if(i[a].isVar&&void 0===n[i[a]])t.nvars++;else{if(r=c(i[a],n),e.redirections[r.hashString()]&&(r=e.redirections[r.hashString()]),o=s[a][r.hashString()],!o)return t.index=[],!1;(null===t.index||t.index.length>o.length)&&(t.index=o)}return null===t.index&&(t.index=e.statements),!0},g=0,m=function(e,n,r,i,s,u,l){a.log.debug("Match begins, Branch count now: "+l.count+" for "+l.pattern_debug);var c=e.fetcher?e.fetcher:null,d=n.statements;if(0===d.length){if(a.log.debug("FOUND MATCH WITH BINDINGS:"+o(r)),0===n.optional.length)l.reportMatch(r);else{a.log.debug("OPTIONAL: "+n.optional);var h,v=new p(t,r),y=[];for(h=0;h<n.optional.length;h++)y[h]=new f(v),y[h].pattern_debug=n.optional[h];for(h=0;h<n.optional.length;h++)y[h].count=y[h].count+1,m(e,n.optional[h],r,"",s,t,y[h])}return l.count--,void a.log.debug("Match ends -- success , Branch count now: "+l.count+" for "+l.pattern_debug)}var w,x,_=d.length;if(c){var E="match"+g++,T=function(t,o){var a=t.uri.split("#")[0];c.nowOrWhenFetched(a,void 0,function(o,a,c){o&&console.log("Error following link to <"+t.uri+"> in query: "+a),m(e,n,r,i,s,u,l)})};for(x=0;x<_;x++){if(w=d[x],void 0!==r[w.subject]&&r[w.subject].uri&&c&&"unrequested"===c.getState(a.Util.uri.docpart(r[w.subject].uri)))return void T(r[w.subject],E);if(void 0!==r[w.object]&&r[w.object].uri&&c&&"unrequested"===c.getState(a.Util.uri.docpart(r[w.object].uri)))return void T(r[w.object],E)}}b(e,n,r,i,s,u,l)},y=function(e,t){var n,r,i=!0;for(n in e)e.hasOwnProperty(n)&&t[n]&&(r=t[n].test,r&&!r(e[n])&&(i=!1));return i},b=function(e,t,n,r,u,c,d){var p,h,f,g,b,w,x,_=t.statements,E=_.length;for(p=0;p<E;p++)x=_[p],a.log.info("match2: item="+x+", bindingsSoFar="+o(n)),v(e,x,n);_.sort(i),x=_[0];var T=e.formula();T.optional=t.optional,T.constraints=t.constraints,T.statements=_.slice(1),a.log.debug(r+"match2 searching "+x.index.length+" for "+x+"; bindings so far="+o(n));var C,N,R,I=x.index.length,S=0;for(C=0;C<I;C++)for(R=x.index[C],N=l([x.subject,x.predicate,x.object],[R.subject,R.predicate,R.object],n,e),a.log.info(r+" From first: "+N.length+": "+s(N)),f=N.length,h=0;h<f;h++)if(b=[],w=N[h][0],y(w,t.constraints)){for(g in w)w.hasOwnProperty(g)&&(b[g]=w[g]);for(g in n)n.hasOwnProperty(g)&&(b[g]=n[g]);d.count++,S++,m(e,T,b,r+"  ",u,c,d)}else a.log.debug("Branch count CS: "+d.count);d.count--,0===S&&a.log.debug("Match2 fails completely on "+x),a.log.debug("Match2 ends, Branch count: "+d.count+" for "+d.pattern_debug),0===d.count&&(a.log.debug("Branch finished."),d.reportDone())},w=this;a.log.debug("Query on "+this.statements.length);var x=new h(t,r);x.count++,setTimeout(function(){m(w,e.pat,e.pat.initBindings,"",n,t,x)},0)},a.queryToSPARQL=function(e){function t(e){for(var t=s()+"SELECT ",n=0;n<e.vars.length;n++)t+=e.vars[n]+" ";return t+="\n"}function n(e){var t="",n=e.statements;for(var r in n)a.log.debug("Found statement: "+n),t+=s()+n[r]+"\n";return t}function r(e){var t="";for(var n in e.constraints){var r=e.constraints[n];t+=s()+"FILTER ( "+r.describe(n)+" ) \n"}return t}function i(e){for(var t="",o=0;o<e.optional.length;o++)a.log.debug("Found optional query"),t+=s()+"OPTIONAL { \n",l++,t+=n(e.optional[o]),t+=r(e.optional[o]),t+=i(e.optional[o]),l--,t+=s()+"}\n";return t}function o(e){var t=s()+"WHERE \n{ \n";return l++,t+=n(e),t+=r(e),t+=i(e),l--,t+="}"}function s(){for(var e="",t=0;t<l;t++)e+="    ";return e}function u(e){return t(e)+o(e.pat)}var l=0;return u(e)},a.SPARQLToQuery=function(e,t,n){function r(e){if(A[e])return A[e];var t=n.variable(e);return A[e]=t,t}function i(e){return"string"==typeof e&&e.match(/[^ \n\t]/)}function o(e){return"string"==typeof e&&e.match(/^[\?\$]/)}function s(e){return"string"==typeof e?e.replace(/^&lt;/,"<").replace(/&gt;$/,">"):e}function u(e){return"string"==typeof e&&e.match(/^<[^>]*>$/)}function l(e){return"string"==typeof e&&(e.match(/^_:/)||e.match(/^$/))}function c(e){return"string"==typeof e&&e.match(/:$/)}function d(e){return"string"==typeof e&&e.match(/^:|^[^_][^:]*:/)}function p(e){var t=e.split(":");return t[0]}function h(e){var t=e.split(":");return t[1]}function f(e){return u(e)?e.slice(1,e.length-1):e}function v(e){var t=e.indexOf("'")===-1?null:e.indexOf("'"),r=e.indexOf('"')===-1?null:e.indexOf('"');if(!t&&!r){var i=new Array(1);return i[0]=e,i}var o,s,u=new Array(2);if(!t||r&&r<t)o='"',s=r;else{if(r&&!(t&&t<r))return a.log.error("SQARQL QUERY OOPS!"),u;o="'",s=t}u[0]=e.slice(0,s);var l=e.slice(s+1).indexOf(o);if(l===-1)return a.log.error("SPARQL parsing error: no matching parentheses in literal "+e),e;var c;return e.slice(l+s+2).match(/^\^\^/)?(c=e.slice(l+s+2).indexOf(" "),u[1]=n.literal(e.slice(s+1,s+1+l),"",n.sym(f(e.slice(s+4+l,s+2+l+c)))),u=u.concat(v(e.slice(l+s+3+c)))):e.slice(l+s+2).match(/^@/)?(c=e.slice(l+s+2).indexOf(" "),u[1]=n.literal(e.slice(s+1,s+1+l),e.slice(s+3+l,s+2+l+c),null),u=u.concat(v(e.slice(l+s+2+c)))):(u[1]=n.literal(e.slice(s+1,s+1+l),"",null),a.log.info("Literal found: "+u[1]),u=u.concat(v(e.slice(l+s+2)))),u}function g(e){e=e.replace(/\(/g," ( ").replace(/\)/g," ) ").replace(/</g," <").replace(/>/g,"> ").replace(/{/g," { ").replace(/}/g," } ").replace(/[\t\n\r]/g," ").replace(/; /g," ; ").replace(/\. /g," . ").replace(/, /g," , "),a.log.info("New str into spaceDelimit: \n"+e);var t=[],n=e.split(" ");for(var r in n)i(n[r])&&(t=t.concat(n[r]));return t}function m(e){for(var t=e,n=0;n<t.length;n++)if("a"===t[n]&&(t[n]="<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"),"is"===t[n]&&"of"===t[n+2]){t.splice(n,1),t.splice(n+1,1);var r=t[n-1];t[n-1]=t[n+1],t[n+1]=r}return t}function y(e){for(var t=[],i=0;i<e.length;i++)"string"==typeof e[i]?(e[i]=s(e[i]),o(e[i])?t[i]=r(e[i].slice(1)):l(e[i])?(a.log.info(e[i]+" was identified as a bnode."),t[i]=n.bnode()):u(e[i])?(a.log.info(e[i]+" was identified as a symbol."),t[i]=n.sym(f(e[i]))):d(e[i])?(a.log.info(e[i]+" was identified as a prefixed symbol"),L[p(e[i])]?t[i]=n.sym(e[i]=L[p(e[i])]+h(e[i])):(a.log.error("SPARQL error: "+e[i]+" with prefix "+p(e[i])+" does not have a correct prefix entry."),t[i]=e[i])):t[i]=e[i]):t[i]=e[i];return t}function b(e){var t=v(e),n=[];for(var r in t)n="string"==typeof t[r]?n.concat(g(t[r])):n.concat(t[r]);return n=m(n),a.log.info("SPARQL Tokens: "+n),n}function w(e,t){for(var n=0;n<t.length;n++)if("string"==typeof t[n]&&t[n].toLowerCase()===e.toLowerCase())return n;return null}function x(e,t){for(var n=[],r=0;r<t.length;r++)"string"==typeof t[r]&&t[r].toLowerCase()===e.toLowerCase()&&n.push(r);return n}function _(e,t){a.log.info("SPARQL vars: "+e);for(var n in e)if(o(e[n])){a.log.info("Added "+e[n]+" to query variables from SPARQL");var i=r(e[n].slice(1));t.vars.push(i),i.label=e[n].slice(1)}else a.log.warn("Incorrect SPARQL variable in SELECT: "+e[n])}function E(e){var t=x("PREFIX",e),n=[];for(var r in t){var i=e[t[r]+1],o=e[t[r]+2];if(c(i))if(u(o)){a.log.info("Prefix found: "+i+" -> "+o);var s=p(i),l=f(o);n[s]=l}else a.log.error("Invalid SPARQL symbol: "+o);else a.log.error("Invalid SPARQL prefix: "+i)}return n}function T(e,t,n){a.log.info("Looking for a close bracket of type "+n+" in "+e);for(var r=0,i=0;i<e.length;i++)if(e[i]===t&&r++,e[i]===n&&r--,r<0)return i;return a.log.error("Statement had no close parenthesis in SPARQL query"),0}function C(e){return this.describe=function(t){return t+" > "+e.toNT()},this.test=function(t){return t.value.match(/[0-9]+(\.[0-9]+)?([eE][+-]?[0-9]+)?/)?parseFloat(t.value)>parseFloat(e):t.toNT()>e.toNT()},this}function N(e){return this.describe=function(t){return t+" < "+e.toNT()},this.test=function(t){return t.value.match(/[0-9]+(\.[0-9]+)?([eE][+-]?[0-9]+)?/)?parseFloat(t.value)<parseFloat(e):t.toNT()<e.toNT()},this}function R(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.sameTerm(t)},this}function I(e){this.describe=function(t){return"REGEXP( '"+e+"' , "+t+" )"},this.test=function(t){var n=e,r=new RegExp(n);return!!t.value&&r.test(t.value)}}function S(e,t){3!==e.length||"variable"!==e[0].termType||"symbol"!==e[2].termType&&"literal"!==e[2].termType?6===e.length&&"string"==typeof e[0]&&"regexp"===e[0].toLowerCase()&&"("===e[1]&&")"===e[5]&&","===e[3]&&"variable"===e[4].termType&&"literal"===e[2].termType&&(a.log.debug("Constraint added: "+e),t.constraints[e[4]]=new I(e[2].value)):"="===e[1]?(a.log.debug("Constraint added: "+e),t.constraints[e[0]]=new R(e[2])):">"===e[1]?(a.log.debug("Constraint added: "+e),t.constraints[e[0]]=new C(e[2])):"<"===e[1]?(a.log.debug("Constraint added: "+e),t.constraints[e[0]]=new N(e[2])):a.log.warn("I don't know how to handle the constraint: "+e)}function k(e,t){a.log.debug("Optional query: "+e+" not yet implemented.");var r=n.formula();O(e,r),t.optional.push(r)}function O(e,t){var n,r=y(e);a.log.debug("WHERE: "+r);for(var i;w("OPTIONAL",r);)i=w("OPTIONAL",r),a.log.debug("OPT: "+i+" "+r[i]+" in "+r),"{"!==r[i+1]&&a.log.warn("Bad optional opening bracket in word "+i),n=T(r.slice(i+2),"{","}"),n===-1?a.log.error("No matching bracket in word "+i):(k(r.slice(i+2,i+2+n),t),i=w("OPTIONAL",r),n=T(r.slice(i+2),"{","}"),r.splice(i,n+3));for(a.log.debug("WHERE after optionals: "+r);w("FILTER",r);){var o=w("FILTER",r);"("!==r[o+1]&&a.log.warn("Bad filter opening bracket in word "+o),n=T(r.slice(o+2),"(",")"),n===-1?a.log.error("No matching bracket in word "+o):(S(r.slice(o+2,o+2+n),t),o=w("FILTER",r),n=T(r.slice(o+2),"(",")"),r.splice(o,n+3))}a.log.debug("WHERE after filters and optionals: "+r),P(r,t)}function P(e,t){var n=new Array(1);n[0]=-1;for(var r=n.concat(x(".",e)),i=[],o=0;o<r.length-1;o++)i[o]=e.slice(r[o]+1,r[o+1]);for(o in i){a.log.info("s+p+o "+o+" = "+i[o]);var s=i[o][0];i[o].splice(0,1);var u=n.concat(x(";",i[o]));u.push(i[o].length);for(var l=[],c=0;c<u.length-1;c++)l[c]=i[o].slice(u[c]+1,u[c+1]);for(o in l){a.log.info("p+o "+o+" = "+i[o]);var d=l[o][0];l[o].splice(0,1);var p=n.concat(x(",",l[o]));p.push(l[o].length);var h=[];for(c=0;c<p.length-1;c++)h[c]=l[o].slice(p[c]+1,p[c+1]);for(o in h){var f=h[o][0];a.log.info("Subj="+s+" Pred="+d+" Obj="+f),t.add(s,d,f)}}}}var A=[];a.log.info("SPARQL input: \n"+e);var D=new a.Query,M=b(e),L=E(M);L.rdf||(L.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"),L.rdfs||(L.rdfs="http://www.w3.org/2000/01/rdf-schema#");var j=w("SELECT",M),U=w("WHERE",M);if(j<0||U<0||j>U)return a.log.error("Invalid or nonexistent SELECT and WHERE tags in SPARQL query"),!1;if(_(M.slice(j+1,U),D),O(M.slice(U+2,M.length-1),D.pat),t)return D;for(var F in D.pat.statements){var B=D.pat.statements[F];"symbol"===B.subject.termType&&a.fetcher&&a.fetcher.lookUpThing(B.subject,"sparql:"+B.subject),"symbol"===B.object.termType&&a.fetcher&&a.fetcher.lookUpThing(B.object,"sparql:"+B.object)}return D},a.SPARQLResultsInterpreter=function(e,t,n){function r(e){return"string"==typeof e&&e.match(/^:|^[^_][^:]*:/)}function i(e){var t=e.split(":");return t[0]}function o(e){var t=e.split(":");return t[1]}function s(e){if(!e.name.match(/^xmlns/))return!1;var t=e.name.replace(/^xmlns/,"").replace(/^:/,"").replace(/ /g,"");h[t]=e.value,a.log.info("Prefix: "+t+"\nValue: "+e.value)}function u(e){var t,n;return r(e)?(t=i(e),n=o(e)):(t="",n=e),h[t]?h[t]+n:void a.log.error("Incorrect SPARQL results - bad prefix")}function l(e){for(var t=e.childNodes[0],n=0;n<e.childNodes.length;n++)if(3===e.childNodes[n].nodeType){t=e.childNodes[n];break}return u(e.nodeName)===g+"uri"?kb.sym(t.nodeValue):u(e.nodeName)===g+"literal"?kb.literal(t.nodeValue):u(e.nodeName)===g+"unbound"?"unbound":(a.log.warn("Don't know how to handle xml binding term "+e),!1)}function c(e){for(var n=[],r=!1,i=0;i<e.childNodes.length;i++)if(1===e.childNodes[i].nodeType)if(u(e.childNodes[i].nodeName)===g+"binding"){for(var o=e.childNodes[i],s=makeVar(o.getAttribute("name")),c=null,d=0;d<o.childNodes.length;d++)if(1===o.childNodes[d].nodeType){c=l(o.childNodes[d]);break}if(!c)return a.log.warn("Bad binding"),!1;a.log.info("var: "+s+" binding: "+c),r=!0,"unbound"!==c&&(n[s]=c)}else a.log.warn("Bad binding node inside result");r&&t&&setTimeout(function(){t(n)},0),f.push(n)}var d,p,h=[],f=[],v=e.childNodes[0],g="http://www.w3.org/2005/sparql-results#";h[""]="";var m;if("sparql"!==v.nodeName)return void a.log.error("Bad SPARQL results XML");for(m=0;m<v.attributes.length;m++)s(v.attributes[m]);for(m=0;m<v.childNodes.length;m++)a.log.info("Type: "+v.childNodes[m].nodeType+"\nName: "+v.childNodes[m].nodeName+"\nValue: "+v.childNodes[m].nodeValue),1===v.childNodes[m].nodeType&&u(v.childNodes[m].nodeName)===g+"head"?d=v.childNodes[m]:1===v.childNodes[m].nodeType&&u(v.childNodes[m].nodeName)===g+"results"&&(p=v.childNodes[m]);if(!p&&!d)return void a.log.error("Bad SPARQL results XML");for(m=0;m<d.childNodes.length;m++)1===d.childNodes[m].nodeType&&u(d.childNodes[m].nodeName)===g+"variable"&&a.log.info("Var: "+d.childNodes[m].getAttribute("name"));for(m=0;m<p.childNodes.length;m++)u(p.childNodes[m].nodeName)===g+"result"&&(a.log.info("Result # "+m),c(p.childNodes[m]));return n&&n(),f},a.UpdateManager=function(){var e=function(e){if(this.store=e,e.updater)throw"You can't have two UpdateManagers for the same store";e.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=a.Namespace("http://www.w3.org/2007/ont/link#"),this.ns.http=a.Namespace("http://www.w3.org/2007/ont/http#"),this.ns.httph=a.Namespace("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=a.Namespace("http://www.w3.org/ns/ldp#"),this.ns.rdf=a.Namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=a.Namespace("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=a.Namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=a.Namespace("http://www.w3.org/2002/07/owl#"),this.patchControl=[]};return e.prototype.patchControlFor=function(e){return this.patchControl[e.uri]||(this.patchControl[e.uri]=[]),this.patchControl[e.uri]},e.prototype.editable=function(e,t){if(!e)return!1;if(t||(t=this.store),"file:///"===e.slice(0,8)){if(t.holds(t.sym(e),a.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),a.sym("http://www.w3.org/2007/ont/link#MachineEditableDocument")))return"LOCALFILE";var n=t.statementsMatching(t.sym(e),void 0,void 0);return console.log("sparql.editable: Not MachineEditableDocument file "+e+"\n"),console.log(n.map(function(e){return e.toNT()}).join("\n")),!1}var r,i=!1,o=t.each(void 0,this.ns.link("requestedURI"),a.uri.docpart(e));if(t.holds(a.sym(e),this.ns.rdf("type"),this.ns.ldp("Resource")))return"SPARQL";for(var s,u,l=0;l<o.length;l++)if(r=o[l],void 0!==r){var c=t.any(r,this.ns.link("response"));if(void 0!==r){var d=t.each(c,this.ns.httph("accept-patch"));if(d.length)for(s=0;s<d.length;s++)if(u=d[s].value.trim(),u.indexOf("application/sparql-update")>=0)return"SPARQL";var p=t.each(c,this.ns.httph("ms-author-via"));if(p.length)for(s=0;s<p.length;s++){if(u=p[s].value.trim(),u.indexOf("SPARQL")>=0)return"SPARQL";if(u.indexOf("DAV")>=0)return"DAV"}var h=t.each(c,this.ns.http("status"));if(h.length)for(s=0;s<h.length;s++)200!==h[s]&&404!==h[s]||(i=!0)}else console.log("sparql.editable: No response for "+e+"\n")}if(0===o.length)console.log("sparql.editable: No request for "+e+"\n");else if(i)return!1;console.log("sparql.editable: inconclusive for "+e+"\n")},e.prototype.anonymize=function(e){return"_:"===e.toNT().substr(0,2)&&this._mentioned(e)?"?"+e.toNT().substr(2):e.toNT()},e.prototype.anonymizeNT=function(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."},e.prototype._statement_bnodes=function(e){return[e.subject,e.predicate,e.object].filter(function(e){return e.isBlank})},e.prototype._statement_array_bnodes=function(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(this._statement_bnodes(e[n]));t.sort();for(var r=[],i=0;i<t.length;i++)0!==i&&t[i].sameTerm(t[i-1])||r.push(t[i]);return r},e.prototype._cache_ifps=function(){this.ifps={};for(var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty")),t=0;t<e.length;t++)this.ifps[e[t].uri]=!0;for(this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty")),t=0;t<e.length;t++)this.fps[e[t].uri]=!0},e.prototype._bnode_context2=function(e,t,n){for(var r,i,o=this.store.statementsMatching(void 0,void 0,e,t),a=0;a<o.length;a++)if(this.fps[o[a].predicate.uri]){if(r=o[a].subject,!r.isBlank)return[o[a]];if(n&&(i=this._bnode_context2(r,t,n-1)))return i.concat([o[a]])}for(o=this.store.statementsMatching(e,void 0,void 0,t),a=0;a<o.length;a++)if(this.ifps[o[a].predicate.uri]){if(r=o[a].object,!r.isBlank)return[o[a]];if(n&&(i=this._bnode_context2(r,t,n-1)))return i.concat([o[a]])}return null},e.prototype._bnode_context_1=function(e,t){for(var n=0;n<3;n++){var r=this._bnode_context2(e,t,n);if(null!==r)return r}throw new Error("Unable to uniquely identify bnode: "+e.toNT())},e.prototype._mentioned=function(e){return 0!==this.store.statementsMatching(e).length||0!==this.store.statementsMatching(void 0,e).length||0!==this.store.statementsMatching(void 0,void 0,e).length},e.prototype._bnode_context=function(e,t){var n=[];if(e.length){this._cache_ifps();for(var r=0;r<e.length;r++){var i=e[r];this._mentioned(i)&&(n=n.concat(this._bnode_context_1(i,t)))}}return n},e.prototype._statement_context=function(e){var t=this._statement_bnodes(e);return this._bnode_context(t,e.why)},e.prototype._context_where=function(e){var t=this;return e&&0!==e.length?"WHERE { "+e.map(function(e){return t.anonymizeNT(e)}).join("\n")+" }\n":""},e.prototype._fire=function(e,t,n){if(!e)throw new Error("No URI given for remote editing operation: "+t);console.log("sparql: sending update to <"+e+">");var r=a.Util.XMLHTTPFactory();r.options={},r.onreadystatechange=function(){if(4===r.readyState){var i=!r.status||r.status>=200&&r.status<300;i?console.log("sparql: update Ok for <"+e+">"):console.log("sparql: update failed for <"+e+"> status="+r.status+", "+r.statusText+", body length="+r.responseText.length+"\n   for query: "+t),n(e,i,r.responseText,r)}},r.open("PATCH",e,!0),r.setRequestHeader("Content-type","application/sparql-update"),r.send(t)},e.prototype.update_statement=function(e){if(!e||e.why){var t=this,n=this._statement_context(e);return{statement:e?[e.subject,e.predicate,e.object,e.why]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t._context_where(n),set_object:function(e,n){var r=this.where;r+="DELETE DATA { "+this.statementNT+" } ;\n",r+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(e)+"  . }\n",t._fire(this.statement[3].uri,r,n)}}}},e.prototype.insert_statement=function(e,t){var n=e instanceof Array?e[0]:e,r=this._context_where(this._statement_context(n));if(e instanceof Array){for(var i="",o=0;o<e.length;o++)i+=e[o]+"\n";r+="INSERT DATA { "+i+" }\n"}else r+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this._fire(n.why.uri,r,t)},e.prototype.delete_statement=function(e,t){var n=e instanceof Array?e[0]:e,r=this._context_where(this._statement_context(n));if(e instanceof Array){for(var i="",o=0;o<e.length;o++)i+=e[o]+"\n";r+="DELETE DATA { "+i+" }\n"}else r+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this._fire(n.why.uri,r,t)},e.prototype.requestDownstreamAction=function(e,t){var n=this.patchControlFor(e);if(n.pendingUpstream){if(n.downstreamAction){if(n.downstreamAction===t)return this;throw new Error("Can't wait for > 1 differnt downstream actions")}n.downstreamAction=t}else t(e)},e.prototype.clearUpstreamCount=function(e){var t=this.patchControlFor(e);t.upstreamCount=0},e.prototype.getUpdatesVia=function(e){var t=this.store.fetcher.getHeader(e,"updates-via");return t&&t.length?t[0].trim():null},e.prototype.addDownstreamChangeListener=function(e,t){var n=this.patchControlFor(e);n.downstreamChangeListeners||(n.downstreamChangeListeners=[]),n.downstreamChangeListeners.push(t),this.setRefreshHandler(e,this.reloadAndSync)},e.prototype.reloadAndSync=function(e){var t=this.patchControlFor(e);if(t.reloading)return void console.log("   Already reloading - stop");t.reloading=!0;var n=1e3,r=function(){console.log("try reload - timeout = "+n),this.reload(this.store,e,function(i,o,a){if(t.reloading=!1,i){if(t.downstreamChangeListeners)for(var s=0;s<t.downstreamChangeListeners.length;s++)console.log("        Calling downstream listener "+s),t.downstreamChangeListeners[s]()}else 0===a.status?(console.log("Network error refreshing the data. Retrying in "+n/1e3),t.reloading=!0,n=2*n,setTimeout(r,n)):console.log("Error "+a.status+"refreshing the data:"+o+". Stopped"+e)})};r()},e.prototype.setRefreshHandler=function(e,t){var n=this.getUpdatesVia(e),r=(this.store,t),i=this,o=this,s=1500,u=0;if(!n)return console.log("Server doies not support live updates thoughUpdates-Via :-("),!1;n=a.uri.join(n,e.uri),n=n.replace(/^http:/,"ws:").replace(/^https:/,"wss:"),console.log("Web socket URI "+n);var l=function(){var t;if("undefined"!=typeof WebSocket)t=new WebSocket(n);else if("undefined"!=typeof Services)t=Services.wm.getMostRecentWindow("navigator:browser").WebSocket(n);else{if("undefined"==typeof window||!window.WebSocket)return void console.log("Live update disabled, as WebSocket not supported by platform :-(");t=window.WebSocket(n)}t.onopen=function(){console.log("    websocket open"),s=1500,this.send("sub "+e.uri),u&&(console.log("Web socket has been down, better check for any news."),o.requestDownstreamAction(e,r))};var a=i.patchControlFor(e);a.upstreamCount=0,t.onclose=function(e){console.log("*** Websocket closed with code "+e.code+", reason '"+e.reason+"' clean = "+e.clean),s*=2,u+=1,console.log("Retrying in "+s+"ms"),setTimeout(function(){console.log("Trying websocket again"),l()},s)},t.onmessage=function(t){if(t.data&&"pub"===t.data.slice(0,3)){if(a.upstreamCount&&(a.upstreamCount-=1,a.upstreamCount>=0))return void console.log("just an echo");a.upstreamCount=0,console.log("Assume a real downstream change"),i.requestDownstreamAction(e,r)}}};return l(),!0},e.prototype.update=function(e,t,n){try{var r=this.store,i=e?e instanceof a.IndexedFormula?e.statements:e instanceof Array?e:[e]:[],o=t?t instanceof a.IndexedFormula?t.statements:t instanceof Array?t:[t]:[];if(!(i instanceof Array))throw new Error("Type Error "+typeof i+": "+i);if(!(o instanceof Array))throw new Error("Type Error "+typeof o+": "+o);if(0===i.length&&0===o.length)return n(null,!0);var s=i.length?i[0].why:o[0].why,u=this.patchControlFor(s),l=Date.now(),c=["subject","predicate","object","why"],d=["insert","delete"],p={"delete":i,insert:o};d.map(function(e){p[e].map(function(e){if(!s.sameTerm(e.why))throw new Error("update: destination "+s+" inconsistent with delete quad "+e.why);c.map(function(t){if("undefined"==typeof e[t])throw new Error("update: undefined "+t+" of statement.")})})});var h=this.editable(s.uri,r);if(!h)throw new Error("Can't make changes in uneditable "+s);var f,v,g,m;if(h.indexOf("SPARQL")>=0){var y=[];i.length&&(y=this._statement_array_bnodes(i)),o.length&&(y=y.concat(this._statement_array_bnodes(o)));var b=this._bnode_context(y,s),w=this._context_where(b),x="";if(w.length){if(i.length){for(x+="DELETE { ",f=0;f<i.length;f++)x+=this.anonymizeNT(i[f])+"\n";x+=" }\n"}if(o.length){for(x+="INSERT { ",f=0;f<o.length;f++)x+=this.anonymizeNT(o[f])+"\n";x+=" }\n"}x+=w}else{if(i.length){for(x+="DELETE DATA { ",f=0;f<i.length;f++)x+=this.anonymizeNT(i[f])+"\n";x+=" } \n"}if(o.length){for(i.length&&(x+=" ; "),x+="INSERT DATA { ",f=0;f<o.length;f++)x+=this.anonymizeNT(o[f])+"\n";x+=" }\n"}}u.pendingUpstream=u.pendingUpstream?u.pendingUpstream+1:1,"undefined"!=typeof u.upstreamCount&&(u.upstreamCount+=1),this._fire(s.uri,x,function(e,t,a,c){if(c.elapsedTime_ms=Date.now()-l,console.log("    sparql: Return "+(t?"success":"FAILURE "+c.status)+" elapsed "+c.elapsedTime_ms+"ms"),t){try{r.remove(i)}catch(d){t=!1,a="Remote Ok BUT error deleting "+i.length+" from store!!! "+d}for(var p=0;p<o.length;p++)r.add(o[p].subject,o[p].predicate,o[p].object,s)}if(n(e,t,a,c),
u.pendingUpstream-=1,0===u.pendingUpstream&&u.downstreamAction){var h=u.downstreamAction;delete u.downstreamAction,console.log("delayed downstream action:"),h(s)}})}else if(h.indexOf("DAV")>=0){var _=r.any(s,this.ns.link("request"));if(!_)throw new Error("No record of our HTTP GET request for document: "+s);var E=r.any(_,this.ns.link("response"));if(!E)return null;var T=r.the(E,this.ns.httph("content-type")).value;for(v=r.statementsMatching(void 0,void 0,void 0,s).slice(),f=0;f<i.length;f++)a.Util.RDFArrayRemove(v,i[f]);for(f=0;f<o.length;f++)v.push(o[f]);switch(m=a.Serializer(r),m.suggestNamespaces(r.namespaces),m.setBase(s.uri),T){case"application/rdf+xml":g=m.statementsToXML(v);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":g=m.statementsToN3(v);break;default:throw new Error("Content-type "+T+" not supported for data write")}var C,N=r.the(E,this.ns.httph("content-location"));N&&(C=a.uri.join(N.value,C));var R=a.Util.XMLHTTPFactory();R.options={},R.onreadystatechange=function(){if(4===R.readyState){var e=!R.status||R.status>=200&&R.status<300;if(e){for(var t=0;t<i.length;t++)r.remove(i[t]);for(t=0;t<o.length;t++)r.add(o[t].subject,o[t].predicate,o[t].object,s)}n(s.uri,e,R.responseText)}},R.open("PUT",C,!0),R.setRequestHeader("Content-type",T),R.send(g)}else{if(!(h.indexOf("LOCALFILE")>=0))throw new Error("Unhandled edit method: '"+h+"' for "+s);try{for(console.log("Writing back to local file\n"),v=r.statementsMatching(void 0,void 0,void 0,s).slice(),f=0;f<i.length;f++)a.Util.RDFArrayRemove(v,i[f]);for(f=0;f<o.length;f++)v.push(o[f]);m=a.Serializer(r),m.suggestNamespaces(r.namespaces),m.setBase(s.uri);var I=s.uri.lastIndexOf(".");if(I<1)throw new Error("Rewriting file: No filename extension: "+s.uri);var S=s.uri.slice(I+1);switch(S){case"rdf":case"owl":case"xml":g=m.statementsToXML(v);break;case"n3":case"nt":case"ttl":g=m.statementsToN3(v);break;default:throw new Error("File extension ."+S+" not supported for data write")}console.log("Writing back: <<<"+g+">>>");var k=s.uri.slice(7),O=Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);if(O.initWithPath(k),!O.exists())throw new Error("Rewriting file <"+s.uri+"> but it does not exist!");var P=Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);for(P.init(O,42,parseInt("0666",8),0),P.write(g,g.length),P.close(),f=0;f<i.length;f++)r.remove(i[f]);for(f=0;f<o.length;f++)r.add(o[f].subject,o[f].predicate,o[f].object,s);n(s.uri,!0,"")}catch(A){n(s.uri,!1,"Exception trying to write back file <"+s.uri+">\n")}}}catch(A){n(void 0,!1,"Exception in update: "+A)}},e.prototype.put=function(e,t,n,r){var i,o=this.store;if("string"==typeof t)i=t;else{var s=a.Serializer(o);switch(s.suggestNamespaces(o.namespaces),s.setBase(e.uri),n){case"application/rdf+xml":i=s.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":i=s.statementsToN3(t);break;default:throw new Error("Content-type "+n+" not supported for data PUT")}}var u=a.Util.XMLHTTPFactory();u.options={},u.onreadystatechange=function(){if(4===u.readyState){var n=!u.status||u.status>=200&&u.status<300;n&&"string"!=typeof t&&t.map(function(e){o.addStatement(e)}),n&&(delete o.fetcher.nonexistant[e.uri],delete o.fetcher.requested[e.uri]),r(e.uri,n,u.responseText,u)}},u.open("PUT",e.uri,!0),u.setRequestHeader("Content-type",n),u.send(i)},e.prototype.reload=function(e,t,n){var r=Date.now();e.fetcher.nowOrWhenFetched(t.uri,{force:!0,noMeta:!0,clearPreviousData:!0},function(e,i,o){if(e)if(o.onErrorWasCalled||200!==o.status)console.log("    Non-HTTP error reloading data! onErrorWasCalled="+o.onErrorWasCalled+" status: "+o.status),n(!1,"Non-HTTP error reloading data: "+i,o);else{var a=Date.now()-r;t.reloadTime_total||(t.reloadTime_total=0),t.reloadTime_count||(t.reloadTime_count=0),t.reloadTime_total+=a,t.reloadTime_count+=1,console.log("    Fetch took "+a+"ms, av. of "+t.reloadTime_count+" = "+t.reloadTime_total/t.reloadTime_count+"ms."),n(!0)}else console.log("    ERROR reloading data: "+i),n(!1,"Error reloading data: "+i,o)})},e.prototype.oldReload=function(e,t,n){var r=a.graph(),i=a.fetcher(r),o=Date.now();i.nowOrWhenFetched(t.uri,{force:!0,noMeta:!0,clearPreviousData:!0},function(i,a,s){if(i)if(s.onErrorWasCalled||200!==s.status)console.log("    Non-HTTP error reloading data! onErrorWasCalled="+s.onErrorWasCalled+" status: "+s.status),n(!1,"Non-HTTP error reloading data: "+a,s);else{var u=e.statementsMatching(void 0,void 0,void 0,t).slice(),l=r.statementsMatching(void 0,void 0,void 0,t).slice();console.log("    replacing "+u.length+" with "+l.length+" out of total statements "+e.statements.length),e.remove(u),e.add(l);var c=Date.now()-o;0===l.length&&console.log("????????????????? 0000000"),t.reloadTime_total||(t.reloadTime_total=0),t.reloadTime_count||(t.reloadTime_count=0),t.reloadTime_total+=c,t.reloadTime_count+=1,console.log("    fetch took "+c+"ms, av. of "+t.reloadTime_count+" = "+t.reloadTime_total/t.reloadTime_count+"ms."),n(!0)}else console.log("    ERROR reloading data: "+a),n(!1,"Error reloading data: "+a,s)})},e}(),a.jsonParser=function(){return{parseJSON:function(e,t,n){var r,i,o,a={},s=n.sym(t);for(var u in e){0===u.indexOf("_:")?a[u]?r=a[u]:(r=n.bnode(u),a[u]=r):r=n.sym(u);var l=e[u];for(var c in l){var d=l[c];i=n.sym(c);for(var p in d){var h=d[p];if("uri"===h.type)o=n.sym(h.value),n.add(r,i,o,s);else if("bnode"===h.type)a[h.value]?o=a[h.value]:(o=n.bnode(h.value),a[h.value]=o),n.add(r,i,o,s);else{if("literal"!==h.type)throw new Error("error: unexpected termtype: "+p.type);o=h.datatype?n.literal(h.value,void 0,n.sym(h.datatype)):h.lang?n.literal(h.value,h.lang):n.literal(h.value),n.add(r,i,o,s)}}}}}}}(),a.Serializer=function(){function e(e){return encodeURI(e)}function t(e){for(var t,n="",r=0;r<e.length;r++)t=e.charCodeAt(r),n+=t>65535?"\\U"+("00000000"+t.toString(16)).slice(-8):t>126?"\\u"+("0000"+t.toString(16)).slice(-4):e[r];return n}var n=function(e){this.flags="",this.base=null,this.prefixes=[],this.namespaces=[],this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e};n.prototype.setBase=function(e){this.base=e},n.prototype.setFlags=function(e){this.flags=e?e:""},n.prototype.toStr=function(e){var t=e.toNT();return"formula"==e.termType&&(this.formulas[t]=e),t},n.prototype.fromStr=function(e){if("{"==e[0]){var t=this.formulas[e];return t||alert("No formula object for "+e),t}return this.store.fromNT(e)},n.prototype.suggestPrefix=function(e,t){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t&&(e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))},n.prototype.suggestNamespaces=function(e){for(var t in e)this.suggestPrefix(t,e[t])},n.prototype.checkIntegrity=function(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw"Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!";for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw"Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!"},n.prototype.makeUpPrefix=function(e){function t(t){return!!n.prototype.validPrefix.test(t)&&("ns"!==t&&(!(t in this.namespaces)&&(this.prefixes[e]=t,this.namespaces[t]=e,r=t,!0)))}var r,i=e;t=t.bind(this),"#/".indexOf(i[i.length-1])>=0&&(i=i.slice(0,-1));var o=i.lastIndexOf("/");o>=0&&(i=i.slice(o+1));for(var a=0;a<i.length&&this.prefixchars.indexOf(i[a]);)a++;if(i=i.slice(0,a),i.length<6&&t(i))return r;if(t(i.slice(0,3)))return r;if(t(i.slice(0,2)))return r;if(t(i.slice(0,4)))return r;if(t(i.slice(0,1)))return r;if(t(i.slice(0,5)))return r;n.prototype.validPrefix.test(i)||(i="n");for(var a=0;;a++)if(t(i.slice(0,3)+a))return r},n.prototype.rootSubjects=function(e){for(var t={},n={},r={},i=0;i<e.length;i++){var o=e[i];[o.subject,o.predicate,o.object].map(function(e){"bnode"==e.termType&&(r[e.toNT()]=!0)});var a=e[i].object;t.hasOwnProperty(a)||(t[a]=[]),t[a].push(o.subject);var s=n[this.toStr(o.subject)];s||(s=[]),s.push(o),n[this.toStr(o.subject)]=s}var u=[];for(var l in n)if(n.hasOwnProperty(l)){var a=this.fromStr(l);"bnode"==a.termType&&t[a]&&1==t[a].length||u.push(a)}this.incoming=t;for(var c={},i=0;i<u.length;i++)c[u[i].toNT()]=!0;return{roots:u,subjects:n,rootsHash:c,incoming:t}},n.prototype.toN3=function(e){return this.statementsToN3(e.statements)},n.prototype._notQNameChars="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",n.prototype._notNameChars=n.prototype._notQNameChars+":",n.prototype.statementsToN3=function(e){function t(e){for(var t=this.rootSubjects(e),n=t.roots,i=[],o=0;o<n.length;o++){var a=n[o];i.push(r(a,t))}return i}function r(e,t){return"bnode"!=e.termType||t.incoming[e]?[u(e,t)].concat([o(e,t)]).concat(["."]):s(e,t,!0).concat(["."])}function o(e,t){var n=[],r=null,i=t.subjects[this.toStr(e)];if("undefined"==typeof i)throw"Cant find statements for "+e;i.sort();for(var o=[],a=0;a<i.length;a++){var l=i[a];l.predicate.uri==r?o.push(","):(r&&(n=n.concat([o]).concat([";"]),o=[]),n.push(p[l.predicate.uri]?p[l.predicate.uri]:u(l.predicate,t))),r=l.predicate.uri,o.push(s(l.object,t))}return n=n.concat([o])}function s(e,t,n){return"bnode"==e.termType&&t.subjects[this.toStr(e)]&&(n||void 0==t.rootsHash[e.toNT()])?["["].concat(o(e,t)).concat(["]"]):u(e,t)}function u(e,n){switch(e.termType){case"formula":var r=["{"];return r=r.concat(t(e.statements)),r.concat(["}"]);case"collection":var r=["("];for(i=0;i<e.elements.length;i++)r.push([s(e.elements[i],n)]);return r.push(")"),r;default:return this.atomicTermToN3(e)}}function l(){var e="";this.defaultNamespace&&(e+="@prefix : <"+this.defaultNamespace+">.\n");for(var t in this.prefixes)this.prefixes.hasOwnProperty(t)&&this.namespacesUsed[t]&&(e+="@prefix "+this.prefixes[t]+": <"+a.uri.refTo(this.base,t)+">.\n");return e+"\n"}var c=4,d=80,p={};this.flags.indexOf("s")<0&&(p["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(p["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(p["http://www.w3.org/2000/10/swap/log#implies"]="=>");var h=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},f=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n],i="string"==typeof r?r:f(r);0!=n&&","!=i&&";"!=i&&(t+=" "),t+=i}return t},v=function(e,t){var n="",r=1e5;t||(t=0);for(var i=0;i<e.length;i++){var o=e[i];if("string"!=typeof o){var a=v(o,t+1);if(a.length<10*(d-c*t)&&a.indexOf('"""')<0){var s=f(o);s.length<d-c*t&&(o="   "+s,a="")}a&&(r=1e4),n+=a}if("string"==typeof o){if("1"==o.length&&"\n"==n.slice(-1)){if(",.;".indexOf(o)>=0){n=n.slice(0,-1)+o+"\n",r+=1;continue}if("])}".indexOf(o)>=0){n=n.slice(0,-1)+" "+o+"\n",r+=2;continue}}if(r<c*t+4)n=n.slice(0,-1)+" "+o+"\n",r+=o.length+1;else{var s=h(c*t)+o;n+=s+"\n",r=s.length}}}return n};t=t.bind(this),o=o.bind(this),s=s.bind(this),n.prototype.termToN3=u,u=u.bind(this),l=l.bind(this);var g=t(e);return l()+v(g,-1)},n.prototype.atomicTermToN3=function(e,t){switch(e.termType){case"bnode":case"variable":return e.toNT();case"literal":if(e.datatype)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return e.value.toString();case"http://www.w3.org/2001/XMLSchema#boolean":return e.value?"true":"false"}var n=this.stringToN3(e.value);return e.lang?n+="@"+e.lang:e.datatype&&(n+="^^"+this.termToN3(e.datatype,t)),n;case"symbol":return this.symbolToN3(e);default:throw"Internal: atomicTermToN3 cannot handle "+e+" of termType+"+e.termType}},n.prototype.validPrefix=new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/),n.prototype.forbidden1=new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm),n.prototype.forbidden3=new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm),n.prototype.stringToN3=function(e,t){t||(t="e");var r,i,o="",a=0,s=0;for(e.length>20&&'"'!=e.slice(-1)&&t.indexOf("n")<0&&(e.indexOf("\n")>0||e.indexOf('"')>0)?(r='"""',i=n.prototype.forbidden3):(r='"',i=n.prototype.forbidden1),a=0;a<e.length;){i.lastIndex=0;var u=i.exec(e.slice(a));if(null==u)break;s=a+i.lastIndex-1,o+=e.slice(a,s);var l=e[s];if('"'==l&&'"""'==r&&'"""'!=e.slice(s,s+3))o+=l;else{var c='\b\f\r\t\x0B\n\\"'.indexOf(l);o+=c>=0?"\\"+'bfrtvn\\"'[c]:t.indexOf("e")>=0?"\\u"+("000"+l.charCodeAt(0).toString(16).toLowerCase()).slice(-4):l}a=s+1}return r+o+e.slice(a)+r},n.prototype.symbolToN3=function(r){var i=r.uri,o=i.indexOf("#");if(o<0&&this.flags.indexOf("/")<0&&(o=i.lastIndexOf("/")),o>=0&&this.flags.indexOf("p")<0&&(0===i.indexOf("http")||0===i.indexOf("ws")||0===i.indexOf("file"))){for(var s=!0,u=o+1;u<i.length;u++)if(n.prototype._notNameChars.indexOf(i[u])>=0){s=!1;break}if(i.slice(0,o+1)==this.base+"#")return"<#"+i.slice(o+1)+">";if(s){var l=i.slice(o+1),c=i.slice(0,o+1);if(this.defaultNamespace&&this.defaultNamespace==c&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(l)<0?l:":"+l;this.checkIntegrity();var d=this.prefixes[c];if(d||(d=this.makeUpPrefix(c)),d)return this.namespacesUsed[c]=!0,d+":"+l}}return i=this.flags.indexOf("r")<0&&this.base?a.uri.refTo(this.base,i):this.flags.indexOf("u")>=0?t(i):e(i),"<"+i+">"},n.prototype.writeStore=function(e){var t=this.store,n=t.fetcher,r=n&&n.appNode,i=this.store.index[3];for(s in i){var o=t.fromNT(s);r&&o.sameTerm(r)||e("\n"+this.atomicTermToN3(o)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,o))+" }.\n")}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(n){e("\n<"+n.object.value+"> log:metadata {\n");var r=t.statementsMatching(void 0,void 0,void 0,n.subject);e(this.statementsToN3(this.statementsToN3(r))),e("}.\n")}),r&&metaSources.push(r);var a=[];metaSources.map(function(e){a=a.concat(t.statementsMatching(void 0,void 0,void 0,e))}),e(this.statementsToN3(a))},n.prototype.statementsToXML=function(e){function t(e){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var t=this.rootSubjects(e),n=t.roots,i=[],o=0;o<n.length;o++)r=n[o],i.push(s(r,t));return i}function i(e){return"undefined"==typeof e?"@@@undefined@@@@":e.replace(/[&<"]/g,function(e){switch(e[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}function o(e){return i(this.base?a.Util.uri.refTo(this.base,e.uri):e.uri)}function s(e,t){var n,r,l,d,p=[],h=t.subjects[this.toStr(e)];if("undefined"==typeof h)throw"Serializing XML - Cant find statements for "+e;h.sort(function(e,t){var n=e.predicate.uri,r=t.predicate.uri;if(n.substring(0,f.length)==f||r.substring(0,f.length)==f)return n.localeCompare(r);var i=n.substring(f.length),o=r.substring(f.length),a=parseInt(i),s=parseInt(o);return isNaN(a)||isNaN(s)||a!=i||s!=o?n.localeCompare(r):a-s});for(var v=0;v<h.length;v++)if(l=h[v],"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!=l.predicate.uri||n||"symbol"!=l.object.termType){if(d=l.predicate,d.uri.substr(0,f.length)==f){var g=d.uri.substr(f.length),m=parseInt(g);g==m.toString()&&(d=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(r=c(d),l.object.termType){case"bnode":p=1==t.incoming[l.object].length?p.concat(["<"+r+">",s(l.object,t),"</"+r+">"]):p.concat(["<"+r+' rdf:nodeID="'+l.object.toNT().slice(2)+'"/>']);break;case"symbol":p=p.concat(["<"+r+' rdf:resource="'+o(l.object)+'"/>']);break;case"literal":p=p.concat(["<"+r+(l.object.datatype?' rdf:datatype="'+i(l.object.datatype.uri)+'"':"")+(l.object.lang?' xml:lang="'+l.object.lang+'"':"")+">"+i(l.object.value)+"</"+r+">"]);break;case"collection":p=p.concat(["<"+r+' rdf:parseType="Collection">',u(l.object,t),"</"+r+">"]);break;default:throw"Can't serialize object of type "+l.object.termType+" into XML"}}else n=l.object;var y=n?c(n):"rdf:Description",b="";return"bnode"==e.termType?t.incoming[e]&&1==t.incoming[e].length||(b=' rdf:nodeID="'+e.toNT().slice(2)+'"'):b=' rdf:about="'+o(e)+'"',["<"+y+b+">"].concat([p]).concat(["</"+y+">"])}function u(e,t){for(var n=[],r=0;r<e.elements.length;r++)n.push(s(e.elements[r],t));return n}function l(e,t){var n=[],r=t.subjects[this.toStr(e)];if(void 0==r)return n;r.sort();for(var a=0;a<r.length;a++){var s=r[a];switch(s.object.termType){case"bnode":n=t.rootsHash[s.object.toNT()]?n.concat(["<"+c(s.predicate)+' rdf:nodeID="'+s.object.toNT().slice(2)+'">',"</"+c(s.predicate)+">"]):n.concat(["<"+c(s.predicate)+' rdf:parseType="Resource">',l(s.object,t),"</"+c(s.predicate)+">"]);break;case"symbol":n=n.concat(["<"+c(s.predicate)+' rdf:resource="'+o(s.object)+'"/>']);break;case"literal":n=n.concat(["<"+c(s.predicate)+(s.object.datatype?' rdf:datatype="'+i(s.object.datatype.uri)+'"':"")+(s.object.lang?' xml:lang="'+s.object.lang+'"':"")+">"+i(s.object.value)+"</"+c(s.predicate)+">"]);break;case"collection":n=n.concat(["<"+c(s.predicate)+' rdf:parseType="Collection">',u(s.object,t),"</"+c(s.predicate)+">"]);break;default:throw"Can't serialize object of type "+s.object.termType+" into XML"}}return n}function c(e){var t=e.uri,r=t.indexOf("#");if(r<0&&this.flags.indexOf("/")<0&&(r=t.lastIndexOf("/")),r<0)throw"Cannot make qname out of <"+t+">";for(var i=r+1;i<t.length;i++)if(n.prototype._notNameChars.indexOf(t[i])>=0)throw'Invalid character "'+t[i]+'" cannot be in XML qname for URI: '+t;var o=t.slice(r+1),a=t.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace==a&&this.flags.indexOf("d")<0)return o;var s=this.prefixes[a];return s||(s=this.makeUpPrefix(a)),h[a]=!0,s+":"+o}var d=4,p=80,h=[];h["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var f="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",v=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},g=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n],i="string"==typeof r?r:g(r);t+=i}return t},m=function(e,t){var n="",r=1e5;t||(t=0);for(var i=0;i<e.length;i++){var o=e[i];if("string"!=typeof o){var a=m(o,t+1);if(a.length<10*(p-d*t)&&a.indexOf('"""')<0){var s=g(o);s.length<p-d*t&&(o="   "+s,a="")}a&&(r=1e4),n+=a}if("string"==typeof o)if(r<d*t+4)n=n.slice(0,-1)+" "+o+"\n",r+=o.length+1;else{var s=v(d*t)+o;n+=s+"\n",r=s.length}}return n};t=t.bind(this),o=o.bind(this),s=s.bind(this),l=l.bind(this),c=c.bind(this);var y=t(e),b="<rdf:RDF";this.defaultNamespace&&(b+=' xmlns="'+i(this.defaultNamespace)+'"');for(var w in h)h.hasOwnProperty(w)&&(b+="\n xmlns:"+this.prefixes[w]+'="'+i(w)+'"');b+=">";var x=[b,y,"</rdf:RDF>"];return m(x,-1)};var o=function(e){return new n(e)};return o}();var a,l,d,g=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty;if("undefined"!=typeof a&&null!==a||(a={}),a.UpdatesSocket=function(){function e(e,t){var n;this.parent=e,this.via=t,this.subscribe=g(this.subscribe,this),this.onError=g(this.onError,this),this.onMessage=g(this.onMessage,this),this.onClose=g(this.onClose,this),this.onOpen=g(this.onOpen,this),this._subscribe=g(this._subscribe,this),this._send=g(this._send,this),this.connected=!1,this.pending={},this.subscribed={},this.socket={};try{this.socket=new WebSocket(t),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}catch(r){n=r,this.onError(n)}}return e.prototype._decode=function(e){var t,n,r,i,o,a,s;i={},o=function(){var n,r,i,o;for(i=e.split("&"),o=[],n=0,r=i.length;n<r;n++)t=i[n],o.push(t.split("="));return o}();for(n in o)t=o[n],a=[decodeURIComponent(t[0]),decodeURIComponent(t[1])],r=a[0],s=a[1],null==i[r]&&(i[r]=[]),i[r].push(s);return i},e.prototype._send=function(e,t,n){var r,i;return i=[e,t,n].join(" "),"function"==typeof(r=this.socket).send?r.send(i):void 0},e.prototype._subscribe=function(e){return this._send("sub",e,""),this.subscribed[e]=!0,this.subscribed[e]},e.prototype.onOpen=function(e){var t,n;this.connected=!0,t=[];for(n in this.pending)delete this.pending[n],t.push(this._subscribe(n));return t},e.prototype.onClose=function(e){var t;this.connected=!1;for(t in this.subscribed)this.pending[t]=!0;return this.subscribed={},this.subscribed},e.prototype.onMessage=function(e){var t,n;return n=e.data.split(" "),"ping"===n[0]?"function"==typeof(t=this.socket).send?t.send("pong "+n.slice(1).join(" ")):void 0:"pub"===n[0]?this.parent.onUpdate(n[1],this._decode(n[2])):void 0},e.prototype.onError=function(e){throw new Error("onError"+e)},e.prototype.subscribe=function(e){return this.connected?this._subscribe(e):(this.pending[e]=!0,this.pending[e])},e}(),a.UpdatesVia=function(){function e(e){this.fetcher=e,this.onUpdate=g(this.onUpdate,this),this.onHeaders=g(this.onHeaders,this),this.register=g(this.register,this),this.graph={},this.via={},this.fetcher.addCallback("headers",this.onHeaders)}return e.prototype.register=function(e,t){return null==this.via[e]&&(this.via[e]=new a.UpdatesSocket(this,e)),this.via[e].subscribe(t)},e.prototype.onHeaders=function(e){var t,n,r;return null==e.headers||("undefined"==typeof WebSocket||null===WebSocket||(t=e.headers.etag,r=e.headers["updates-via"],n=e.uri,t&&r&&(this.graph[n]={etag:t,via:r},this.register(r,n)),!0))},e.prototype.onUpdate=function(e,t){return this.fetcher.refresh(a.sym(e))},e}(),null!=("undefined"!=typeof e&&null!==e?e.exports:void 0))for(l in a)p.call(a,l)&&(d=a[l],e.exports[l]=d);var m=n(197),y=n(200),b=n(206);a.Fetcher=function(e,t,n){this.store=e,this.thisURI="http://dig.csail.mit.edu/2005/ajar/ajaw/rdf/sources.js#SourceFetcher",this.timeout=t||3e4,this.async=null==n||n,this.appNode=this.store.bnode(),this.store.fetcher=this,this.requested={},this.redirectedTo={},this.fetchCallbacks={},this.nonexistant={},this.lookedUp={},this.handlers=[],this.mediatypes={};var r=this,i=this.store,o={};o.link=a.Namespace("http://www.w3.org/2007/ont/link#"),o.http=a.Namespace("http://www.w3.org/2007/ont/http#"),o.httph=a.Namespace("http://www.w3.org/2007/ont/httph#"),o.rdf=a.Namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),o.rdfs=a.Namespace("http://www.w3.org/2000/01/rdf-schema#"),o.dc=a.Namespace("http://purl.org/dc/elements/1.1/"),r.mediatypes["image/*"]={q:.9},a.Fetcher.crossSiteProxy=function(e){return a.Fetcher.crossSiteProxyTemplate?a.Fetcher.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):void 0},a.Fetcher.RDFXMLHandler=function(e){e&&(this.dom=e[0]),this.handlerFactory=function(e){e.handle=function(t){var n=r.store;this.dom||(this.dom=a.Util.parseXML(e.responseText));var i=this.dom.documentElement;if("parsererror"===i.nodeName)throw r.failFetch(e,"Badly formed XML in "+e.resource.uri),new Error("Badly formed XML in "+e.resource.uri);var s=new a.RDFParser(n);try{s.parse(this.dom,e.original.uri,e.original)}catch(u){r.addStatus(e.req,"Syntax error parsing RDF/XML! "+u),console.log("Syntax error parsing RDF/XML! "+u)}e.options.noMeta||n.add(e.original,o.rdf("type"),o.link("RDFDocument"),r.appNode),t()}}},a.Fetcher.RDFXMLHandler.toString=function(){return"RDFXMLHandler"},a.Fetcher.RDFXMLHandler.register=function(e){e.mediatypes["application/rdf+xml"]={}},a.Fetcher.RDFXMLHandler.pattern=new RegExp("application/rdf\\+xml"),a.Fetcher.XHTMLHandler=function(e){e&&(this.dom=e[0]),this.handlerFactory=function(e){e.handle=function(t){var n,i;this.dom||(this.dom=a.Util.parseXML(e.responseText));var s=r.store,u=this.dom.getElementsByTagName("title");u.length>0&&s.add(e.resource,o.dc("title"),s.literal(u[0].textContent),e.resource);for(var l=this.dom.getElementsByTagName("link"),c=l.length-1;c>=0;c--)n=l[c].getAttribute("rel"),i=!1,n||(n=l[c].getAttribute("rev"),i=!0),n&&r.linkData(e,n,l[c].getAttribute("href"),e.resource,i);for(var d=this.dom.getElementsByTagName("script"),p=0;p<d.length;p++){var h=d[p].getAttribute("type");a.parsable[h]&&a.parse(d[p].textContent,s,e.original.uri,h)}if(e.options.noMeta||s.add(e.resource,o.rdf("type"),o.link("WebPage"),r.appNode),!e.options.noRDFa&&a.parseRDFaDOM)try{a.parseRDFaDOM(this.dom,s,e.original.uri)}catch(f){var v="Error trying to parse "+e.resource+" as RDFa:\n"+f+":\n"+f.stack;return void r.failFetch(e,v)}t()}}},a.Fetcher.XHTMLHandler.toString=function(){return"XHTMLHandler"},a.Fetcher.XHTMLHandler.register=function(e){e.mediatypes["application/xhtml+xml"]={}},a.Fetcher.XHTMLHandler.pattern=new RegExp("application/xhtml"),a.Fetcher.XMLHandler=function(){this.handlerFactory=function(e){e.handle=function(t){for(var n=a.Util.parseXML(e.responseText),i=0;i<n.childNodes.length;i++)if(1===n.childNodes[i].nodeType){var o=n.childNodes[i].namespaceURI;if(o&&o===o.rdf)return r.addStatus(e.req,"Has XML root element in the RDF namespace, so assume RDF/XML."),void r.switchHandler("RDFXMLHandler",e,t,[n]);break}if(n.doctype&&"html"===n.doctype.name&&n.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&n.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/))return r.addStatus(e.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n"),void r.switchHandler("XHTMLHandler",e,t);var s=n.getElementsByTagName("html")[0];if(s){var u=s.getAttribute("xmlns");if(u&&u.match(/^http:\/\/www.w3.org\/1999\/xhtml/))return r.addStatus(e.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n"),void r.switchHandler("XHTMLHandler",e,t)}r.failFetch(e,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+e.responseText.slice(0,80))}}},a.Fetcher.XMLHandler.toString=function(){return"XMLHandler"},a.Fetcher.XMLHandler.register=function(e){e.mediatypes["text/xml"]={q:.2},e.mediatypes["application/xml"]={q:.2}},a.Fetcher.XMLHandler.pattern=new RegExp("(text|application)/(.*)xml"),a.Fetcher.HTMLHandler=function(){this.handlerFactory=function(e){e.handle=function(t){var n=e.responseText;if(n.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/))return r.addStatus(e.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n"),void r.switchHandler("XHTMLHandler",e,t);if(n.match(/.*<!DOCTYPE\s+html[^<]+-\/\/W3C\/\/DTD XHTML[^<]+http:\/\/www.w3.org\/TR\/xhtml[^<]+>/))return r.addStatus(e.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n"),void r.switchHandler("XHTMLHandler",e,t);if(n.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/))return r.addStatus(e.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n"),void r.switchHandler("XHTMLHandler",e,t);var i=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(n);if(i){var a=r.store;return a.add(e.resource,o.dc("title"),a.literal(i[1]),e.resource),a.add(e.resource,o.rdf("type"),o.link("WebPage"),r.appNode),void t()}r.addStatus(e.req,"non-XML HTML document, not parsed for data."),r.doneFetch(e)}}},a.Fetcher.HTMLHandler.toString=function(){return"HTMLHandler"},a.Fetcher.HTMLHandler.register=function(e){e.mediatypes["text/html"]={q:.3}},a.Fetcher.HTMLHandler.pattern=new RegExp("text/html"),a.Fetcher.TextHandler=function(){this.handlerFactory=function(e){e.handle=function(t){var n=e.responseText;return n.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)?(r.addStatus(e.req,"Warning: "+e.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n"),void r.switchHandler("XMLHandler",e,t)):n.slice(0,500).match(/xmlns:/)?(r.addStatus(e.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n"),void r.switchHandler("XMLHandler",e,t)):(r.addStatus(e.req,"Plain text document, no known RDF semantics."),void r.doneFetch(e))}}},a.Fetcher.TextHandler.toString=function(){return"TextHandler"},a.Fetcher.TextHandler.register=function(e){e.mediatypes["text/plain"]={q:.1}},a.Fetcher.TextHandler.pattern=new RegExp("text/plain"),a.Fetcher.N3Handler=function(){this.handlerFactory=function(e){e.handle=function(t){var n=a.N3Parser(i,i,e.original.uri,e.original.uri,null,null,"",null);try{n.loadBuf(e.responseText)}catch(s){var u="Error trying to parse "+e.resource+" as Notation3:\n"+s+":\n"+s.stack;return void r.failFetch(e,u)}r.addStatus(e.req,"N3 parsed: "+n.statementCount+" triples in "+n.lines+" lines."),r.store.add(e.original,o.rdf("type"),o.link("RDFDocument"),r.appNode);[e.original.uri];r.doneFetch(e)}}},a.Fetcher.N3Handler.toString=function(){return"N3Handler"},a.Fetcher.N3Handler.register=function(e){e.mediatypes["text/n3"]={q:"1.0"},e.mediatypes["application/x-turtle"]={q:1},e.mediatypes["text/turtle"]={q:1}},a.Fetcher.N3Handler.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)"),a.Util.callbackify(this,["request","recv","headers","load","fail","refresh","retract","done"]),this.addHandler=function(e){r.handlers.push(e),e.register(r)},this.switchHandler=function(e,t,n,i){for(var o=null,s=0;s<this.handlers.length;s++)""+this.handlers[s]===e&&(o=this.handlers[s]);if(!o)throw new Error("web.js: switchHandler: name="+e+" , this.handlers ="+this.handlers+"\nswitchHandler: switching to "+o+"; sf="+r+"; typeof $rdf.Fetcher="+typeof a.Fetcher+";\n\t $rdf.Fetcher.HTMLHandler="+a.Fetcher.HTMLHandler+"\n\n\tsf.handlers="+r.handlers+"\n");new o(i).handlerFactory(t),t.handle(n)},this.addStatus=function(e,t){var n=new Date;t="["+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()+"] "+t;var r=this.store,i=r.the(e,o.link("status"));i&&i.append?i.append(r.literal(t)):a.log.warn("web.js: No list to add to: "+i+","+t)},this.failFetch=function(e,t){for(this.addStatus(e.req,t),e.options.noMeta||i.add(e.original,o.link("error"),t),e.resource.sameTerm(e.original)?console.log("@@ Recording failure for "+e.original+": "+e.status):console.log("@@ Recording failure original "+e.original+"( as "+e.resource+") : "+e.status),this.requested[a.uri.docpart(e.original.uri)]=e.status;this.fetchCallbacks[e.original.uri]&&this.fetchCallbacks[e.original.uri].length;)this.fetchCallbacks[e.original.uri].shift()(!1,"Fetch of <"+e.original.uri+"> failed: "+t,e);return delete this.fetchCallbacks[e.original.uri],this.fireCallbacks("fail",[e.original.uri,t]),e.abort(),e},this.linkData=function(e,t,n,r,s){if(n){var u,l=i.sym(a.uri.join(n,e.original.uri));if("alternate"===t||"seeAlso"===t||"meta"===t||"describedby"===t){if(l.uri===e.original.uri)return;u=o.rdfs("seeAlso")}else u="type"===t?a.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):i.sym(a.uri.join(t,"http://www.iana.org/assignments/link-relations/"));s?i.add(l,u,e.original,r):i.add(e.original,u,l,r)}},this.parseLinkHeader=function(e,t){var n;try{n=e.getResponseHeader("link")}catch(r){}if(n)for(var i=/<[^>]*>\s*(\s*;\s*[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,o=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,a=n.match(i),s=0;s<a.length;s++)for(var u=a[s].split(">"),l=u[0].substring(1),c=u[1],d=c.match(o),p=0;p<d.length;p++){var h=d[p],f=h.split("="),v=f[1].replace(/["']/g,"");this.linkData(e,v,l,t)}},this.doneFetch=function(e){for(this.addStatus(e.req,"Done."),this.requested[e.original.uri]="done";this.fetchCallbacks[e.original.uri]&&this.fetchCallbacks[e.original.uri].length;)this.fetchCallbacks[e.original.uri].shift()(!0,void 0,e);delete this.fetchCallbacks[e.original.uri],this.fireCallbacks("done",[e.original.uri])};var s=[a.Fetcher.RDFXMLHandler,a.Fetcher.XHTMLHandler,a.Fetcher.XMLHandler,a.Fetcher.HTMLHandler,a.Fetcher.TextHandler,a.Fetcher.N3Handler];s.map(this.addHandler),this.nowKnownAs=function(e,t){this.lookedUp[e.uri]?this.lookedUp[t.uri]||this.lookUpThing(t,e):this.lookedUp[t.uri]&&(this.lookedUp[e.uri]||this.lookUpThing(e,t))},this.webOperation=function(e,t,n){t=t.uri||t,n=n||{};var r=this;return new Promise(function(i,o){var s=a.Util.XMLHTTPFactory();s.options=n,n.noMeta||"undefined"==typeof tabulator||r.saveRequestMetadata(s,tabulator.kb,t),s.onreadystatechange=function(){if(4===s.readyState){var e=!s.status||s.status>=200&&s.status<300;n.noMeta||"undefined"==typeof tabulator||r.saveResponseMetadata(s,tabulator.kb),e&&i(s),o(s.status+" "+s.statusText)}},s.open(e,t,!0),n.contentType&&s.setRequestHeader("Content-type",n.contentType),s.send(n.data?n.data:void 0);
})},this.webCopy=function(e,t,n){var r=this;return e=e.uri||e,new Promise(function(i,o){this.webOperation("GET",e).then(function(e){r.webOperation("PUT",t,{data:e.responseText,contentType:n})}).then(function(e){i(e)})["catch"](function(e){o(e)})})},this.lookUpThing=function(e,t,n,r,o){var s,u=i.uris(e),l=!0,c="",d={};if(n===!1||n===!0?(s=n,n={force:s}):(void 0===n&&(n={}),s=!!n.force),"undefined"!=typeof u)for(var p=0;p<u.length;p++){var h=u[p];d[h]=!0,this.lookedUp[h]=!0;var f=this,v=function(e){f.requestURI(a.uri.docpart(e),t,n,function(t,n,i){t?r&&r(!0,e):(r&&r(!1,n),l=!1,c+=n+"\n"),delete d[h],Object.keys(d).length>0||o&&o(l,c)})};v(h)}return u.length},this.load=function(e,t){var n=this;if(e instanceof Array){var r=e.map(function(e){return n.load(e)});return Promise.all(r)}return e=e.uri||e,new Promise(function(r,i){n.nowOrWhenFetched(e,t,function(e,t,n){e?r(n):i(t)})})},this.nowOrWhenFetched=function(e,t,n,r){e=e.uri||e,"function"==typeof t?(r={},n=t):"undefined"==typeof t||(r=t instanceof a.NamedNode?{referingTerm:t}:t),this.requestURI(e,t,r||{},n)},this.get=this.nowOrWhenFetched,this.getHeader=function(e,t){for(var n=this.store,r=n.each(void 0,o.link("requestedURI"),e.uri),i=0;i<r.length;i++){var a=r[i];if(void 0!==a){var s=n.any(a,o.link("response"));if(void 0!==a){var u=n.each(s,o.httph(t.toLowerCase()));return u.length?u.map(function(e){return e.value}):[]}}}},this.proxyIfNecessary=function(e){return"undefined"!=typeof tabulator&&tabulator.isExtension?e:a.Fetcher.crossSiteProxyTemplate&&"undefined"!=typeof document&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===e.slice(0,5)?a.Fetcher.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(e)):e},this.saveRequestMetadata=function(e,t,n){var r=t.bnode();if(e.resource=a.sym(n),e.req=r,!e.options.noMeta){var i=new Date,s="["+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"] ";t.add(r,o.rdfs("label"),t.literal(s+" Request for "+n),this.appNode),t.add(r,o.link("requestedURI"),t.literal(n),this.appNode),e.original&&e.original.uri!==n&&t.add(r,o.link("orginalURI"),t.literal(e.original.uri),this.appNode),t.add(r,o.link("status"),t.collection(),this.appNode)}return r},this.saveResponseMetadata=function(e,t){var n=t.bnode();if(e.req&&t.add(e.req,o.link("response"),n),t.add(n,o.http("status"),t.literal(e.status),n),t.add(n,o.http("statusText"),t.literal(e.statusText),n),e.headers={},"http"===a.uri.protocol(e.resource.uri)||"https"===a.uri.protocol(e.resource.uri)){e.headers=a.Util.getHTTPHeaders(e);for(var r in e.headers)t.add(n,o.httph(r.toLowerCase()),e.headers[r].trim(),n)}return n},this.requestURI=function(e,t,n,r){e=e.uri||e,e=e.split("#")[0],"boolean"==typeof n&&(n={force:n}),"undefined"==typeof n&&(n={});var i=!!n.force,s=this.store,u=arguments,l=n.baseURI||e;n.userCallback=r;var c=a.uri.protocol(e);if("tel"===c||"mailto"===c||"urn"===c)return console.log("Unsupported protocol in: "+e),r(!1,"Unsupported protocol",{status:900})||void 0;var d=s.sym(e),p=this.getState(e);if(i)delete this.nonexistant[e];else{if("fetched"===p)return r?r(!0):void 0;if("failed"===p)return r?r(!1,"Previously failed. "+this.requested[e],{status:this.requested[e]}):void 0}if(this.fireCallbacks("request",u),r&&(this.fetchCallbacks[e]?this.fetchCallbacks[e].push(r):this.fetchCallbacks[e]=[r]),this.requested[e]!==!0){this.requested[e]=!0,!n.noMeta&&t&&t.uri&&s.add(d.uri,o.link("requestedBy"),t.uri,this.appNode);var h=a.Util.XMLHTTPFactory(),f=h.req=s.bnode();h.original=a.sym(l),h.options=n,h.resource=d;var v=this,g=new Date,m="["+g.getHours()+":"+g.getMinutes()+":"+g.getSeconds()+"] ";n.noMeta||(s.add(f,o.rdfs("label"),s.literal(m+" Request for "+e),this.appNode),s.add(f,o.link("requestedURI"),s.literal(e),this.appNode),s.add(f,o.link("status"),s.collection(),this.appNode));var y=function(){if(!h.withCredentials)return!1;if(h.retriedWithCredentials)return!0;h.retriedWithCredentials=!0,console.log("web: Retrying with no credentials for "+h.resource),h.abort(),delete v.requested[e];var r={};for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r.withCredentials=!1,v.addStatus(h.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),v.requestURI(e,t,r,h.userCallback),!0},b=function(e){return function(t){if(e.onErrorWasCalled=!0,"undefined"!=typeof document&&a.Fetcher.crossSiteProxyTemplate&&document.location&&!e.proxyUsed){var n=a.uri.hostpart,r=""+document.location,i=e.resource.uri;if(n(r)&&n(i)&&n(r)!==n(i))if(401===e.status||403===e.status||404===e.status)w(e)();else{if(y(e))return;var s=a.Fetcher.crossSiteProxy(i);if(console.log("web: Direct failed so trying proxy "+s),v.addStatus(e.req,"BLOCKED -> Cross-site Proxy to <"+s+">"),e.aborted)return;var u=v.store,l=e.req;e.options.noMeta||u.add(l,o.http("redirectedTo"),u.sym(s),l),e.abort(),e.aborted=!0,v.addStatus(l,"redirected to new request"),v.requested[e.resource.uri]="redirected",v.redirectedTo[e.resource.uri]=s,v.fetchCallbacks[e.resource.uri]&&(v.fetchCallbacks[s]||(v.fetchCallbacks[s]=[]),v.fetchCallbacks[s]===v.fetchCallbacks[s].concat(v.fetchCallbacks[e.resource.uri]),delete v.fetchCallbacks[e.resource.uri]);var c=v.requestURI(s,e.resource,e.options,e.userCallback);if(c&&(c.proxyUsed=!0,c.original=e.original,console.log("Proxying but original still "+c.original)),c&&c.req)return void(e.options.noMeta||u.add(e.req,u.sym("http://www.w3.org/2007/ont/link#redirectedRequest"),c.req,v.appNode))}e.status=999}}},w=function(t){return function(){var r=function(){if(!t.handleResponseDone){t.handleResponseDone=!0;var r=null,s=t.req;v.fireCallbacks("recv",u);var l=v.store;if(v.saveResponseMetadata(t,l),v.fireCallbacks("headers",[{uri:e,headers:t.headers}]),0===t.status){if(console.log("Masked error - status 0 for "+t.resource.uri),y(t))return;return void(t.status=900)}if(t.status>=400){if(404===t.status&&(l.fetcher.nonexistant[t.resource.uri]=!0),t.responseText.length>10){var c=l.bnode();l.add(c,o.http("content"),l.literal(t.responseText),c),t.statusText&&l.add(c,o.http("statusText"),l.literal(t.statusText),c)}return void v.failFetch(t,"HTTP error for "+t.resource+": "+t.status+" "+t.statusText)}var d,p=t.headers["content-location"],h=function(e){var t=s;if(p){var n=l.any(t,o.link("requestedURI"));n!==p&&l.add(l.sym(p),o.rdf("type"),e,v.appNode)}for(;;){var r=l.any(t,o.link("requestedURI"));if(r&&r.value&&l.add(l.sym(r.value),o.rdf("type"),e,v.appNode),t=l.any(void 0,l.sym("http://www.w3.org/2007/ont/link#redirectedRequest"),t),!t)break;var i=l.any(t,l.sym("http://www.w3.org/2007/ont/link#response"));if(!i)break;var a=l.any(i,l.sym("http://www.w3.org/2007/ont/http#status"));if(!a)break;if("301"!==a&&"302"!==a)break}},f={rdf:"application/rdf+xml",owl:"application/rdf+xml",n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"};if(200===t.status){h(o.link("Document"));var g=t.headers["content-type"];n.forceContentType&&(t.headers["content-type"]=n.forceContentType),(!g||g.indexOf("application/octet-stream")>=0)&&(d=f[t.resource.uri.split(".").pop()],d&&(t.headers["content-type"]=d)),g&&(0!==g.indexOf("image/")&&0!==g.indexOf("application/pdf")||h(l.sym("http://purl.org/dc/terms/Image"))),n.clearPreviousData&&l.removeDocument(t.resource)}if("file"!==a.uri.protocol(t.resource.uri)&&"chrome"!==a.uri.protocol(t.resource.uri)||(n.forceContentType?t.headers["content-type"]=n.forceContentType:(d=f[t.resource.uri.split(".").pop()],d?t.headers["content-type"]=d:t.headers["content-type"]="text/xml")),p){var m=a.uri.join(t.resource.uri,p);if(!i&&m!==t.resource.uri&&v.requested[m]&&"done"===v.requested[m])return v.doneFetch(t),void t.abort();v.requested[m]=!0}for(var b=0;b<v.handlers.length;b++)if(t.headers["content-type"]&&t.headers["content-type"].match(v.handlers[b].pattern)){r=new v.handlers[b];break}if(v.parseLinkHeader(t,s),!r)return void v.doneFetch(t);try{r.handlerFactory(t)}catch(w){v.failFetch(t,"Exception handling content-type "+t.headers["content-type"]+" was: "+w)}}};switch(t.readyState){case 0:var s,l=t.resource.uri;if(this.crossSiteProxyTemplate&&"undefined"!=typeof document&&document.location){var c=a.uri.hostpart,d=""+document.location;if(c(d)&&c(l)&&c(d)!==c(l)){if(s=this.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(l)),v.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+s+">"),t.aborted)return;var p=v.store,h=t.req;p.add(h,o.http("redirectedTo"),p.sym(s),h);var f=t.req=p.bnode();p.add(h,o.http("redirectedRequest"),f,t.req);var g=new Date,m="["+g.getHours()+":"+g.getMinutes()+":"+g.getSeconds()+"] ";p.add(f,o.rdfs("label"),p.literal(m+" Request for "+s),this.appNode),p.add(f,o.link("status"),p.collection(),this.appNode),p.add(f,o.link("requestedURI"),p.literal(s),this.appNode);var b=p.bnode();p.add(h,o.link("response"),b),t.abort(),t.aborted=!0,t.redirected=!0,v.addStatus(h,"redirected XHR"),v.fetchCallbacks[t.resource.uri]&&(v.fetchCallbacks[s]||(v.fetchCallbacks[s]=[]),v.fetchCallbacks[s]===v.fetchCallbacks[s].concat(v.fetchCallbacks[t.resource.uri]),delete v.fetchCallbacks[t.resource.uri]),v.fireCallbacks("redirected",u),v.requested[t.resource.uri]="redirected";var w=v.requestURI(s,t.resource,t.options||{},t.userCallback);if(w&&w.req)return void p.add(t.req,p.sym("http://www.w3.org/2007/ont/link#redirectedRequest"),w.req,v.appNode)}}v.failFetch(t,"HTTP Blocked. (ReadyState 0) Cross-site violation for <"+e+">");break;case 3:break;case 4:if(r(),t.handle&&void 0!==t.responseText){if("redirected"===v.requested[t.resource.uri])break;v.fireCallbacks("load",u),t.handle(function(){v.doneFetch(t)})}else t.redirected?v.addStatus(t.req,"Aborted and redirected to new request."):v.addStatus(t.req,"Fetch over. No data handled. Aborted = "+t.aborted)}}},x=e;"undefined"!=typeof tabulator&&tabulator.preferences.get("offlineModeUsingLocalhost")&&"http://"===x.slice(0,7)&&"localhost/"!==x.slice(7,17)&&(x="http://localhost/"+x.slice(7),a.log.warn("Localhost kludge for offline use: actually getting <"+x+">"));var _="https:"===x.slice(0,6);void 0!==n.withCredentials&&(_=n.withCredentials);var E=this.proxyIfNecessary(x);h.onerror=b(h),h.onreadystatechange=w(h),h.timeout=v.timeout,h.withCredentials=_,h.actualProxyURI=E,h.req=f,h.options=n,h.options=n,h.resource=d,h.requestedURI=x,h.ontimeout=function(){v.failFetch(h,"requestTimeout")};try{h.open("GET",E,this.async)}catch(T){return this.failFetch(h,"XHR open for GET failed for <"+x+">:\n\t"+T)}if(i&&h.setRequestHeader("Cache-control","no-cache"),"undefined"!=typeof tabulator&&tabulator.isExtension&&h.channel&&("http"===a.uri.protocol(h.resource.uri)||"https"===a.uri.protocol(h.resource.uri)))try{h.channel.notificationCallbacks={getInterface:function(e){return e.equals(Components.interfaces.nsIChannelEventSink)?{onChannelRedirect:function(e,r,i){if(!h.aborted){var s=v.store,l=r.URI.spec,c=h.req;if(!h.options.noMeta){v.addStatus(h.req,"Redirected: "+h.status+" to <"+l+">"),s.add(c,o.http("redirectedTo"),s.sym(l),h.req);var d=h.req=s.bnode();s.add(c,o.http("redirectedRequest"),d,this.appNode);var p=new Date,f="["+p.getHours()+":"+p.getMinutes()+":"+p.getSeconds()+"] ";s.add(d,o.rdfs("label"),s.literal(f+" Request for "+l),this.appNode),s.add(d,o.link("status"),s.collection(),this.appNode),s.add(d,o.link("requestedURI"),s.literal(l),this.appNode);var g=s.bnode();s.add(c,o.link("response"),g),s.add(g,o.http("status"),s.literal(h.status),g),h.statusText&&s.add(g,o.http("statusText"),s.literal(h.statusText),g)}if(h.status-0!==303&&(s.HTTPRedirects[h.resource.uri]=l),h.status-0===301&&t){var m=a.uri.docpart(t.uri),y="Warning: "+h.resource+" has moved to <"+l+">.";t&&(y+=" Link in <"+m+" >should be changed",s.add(m,s.sym("http://www.w3.org/2007/ont/link#warning"),y,v.appNode))}h.abort(),h.aborted=!0,v.fetchCallbacks[h.resource.uri]&&(v.fetchCallbacks[l]||(v.fetchCallbacks[l]=[]),v.fetchCallbacks[l]===v.fetchCallbacks[l].concat(v.fetchCallbacks[h.resource.uri]),delete v.fetchCallbacks[h.resource.uri]),v.addStatus(c,"redirected"),v.fireCallbacks("redirected",u),v.requested[h.resource.uri]="redirected",v.redirectedTo[h.resource.uri]=l;var b=l.indexOf("#");b>=0&&(h.options.noMeta||s.add(h.resource,s.sym("http://www.w3.org/2007/ont/link#warning"),"Warning: "+h.resource+" HTTP redirects to"+l+' which should not contain a "#" sign'),l=l.slice(0,b));var w=v.requestURI(l,h.resource,h.options,h.userCallback);w&&w.req&&!n.noMeta&&s.add(h.req,s.sym("http://www.w3.org/2007/ont/link#redirectedRequest"),w.req,v.appNode)}},asyncOnChannelRedirect:function(e,n,r,i){if(!h.aborted){var s=v.store,u=n.URI.spec,l=h.req;v.addStatus(h.req,"Redirected: "+h.status+" to <"+u+">"),s.add(l,o.http("redirectedTo"),s.sym(u),h.req);var c=h.req=s.bnode();s.add(l,o.http("redirectedRequest"),c,h.req);var d=new Date,p="["+d.getHours()+":"+d.getMinutes()+":"+d.getSeconds()+"] ";s.add(c,o.rdfs("label"),s.literal(p+" Request for "+u),this.appNode),s.add(c,o.link("status"),s.collection(),this.appNode),s.add(c,o.link("requestedURI"),s.literal(u),this.appNode);var f=s.bnode();if(s.add(l,o.link("response"),f),s.add(f,o.http("status"),s.literal(h.status),f),h.statusText&&s.add(f,o.http("statusText"),s.literal(h.statusText),f),h.status-0!==303&&(s.HTTPRedirects[h.resource.uri]=u),h.status-0===301&&t){var g=a.uri.docpart(t.uri),m="Warning: "+h.resource+" has moved to <"+u+">.";t&&(m+=" Link in <"+g+" >should be changed",s.add(g,s.sym("http://www.w3.org/2007/ont/link#warning"),m,v.appNode))}h.abort(),h.aborted=!0;var y=u.indexOf("#");if(y>=0){var b="Warning: "+h.resource+" HTTP redirects to"+u+' which do not normally contain a "#" sign';s.add(h.resource,s.sym("http://www.w3.org/2007/ont/link#warning"),b),u=u.slice(0,y)}v.requested[h.resource.uri]="redirected",v.redirectedTo[h.resource.uri]=u;var w=v.requestURI(u,h.resource,h.options,h.userCallback);w&&(w.original=h.original,w.req&&s.add(h.req,s.sym("http://www.w3.org/2007/ont/link#redirectedRequest"),w.req,v.appNode))}}}:Components.results.NS_NOINTERFACE}}}catch(C){return v.failFetch(h,"@@ Couldn't set callback for redirects: "+C)}try{var N="";for(var R in this.mediatypes){""!==N&&(N+=", "),N+=R;for(var I in this.mediatypes[R])N+=";"+I+"="+this.mediatypes[R][I]}h.setRequestHeader("Accept",N),this.addStatus(h.req,"Accept: "+N)}catch(C){throw new Error("Can't set Accept header: "+C)}try{h.send(null)}catch(T){return this.failFetch(h,"XHR send failed:"+T)}return setTimeout(function(){4!==h.readyState&&v.isPending(h.resource.uri)&&v.failFetch(h,"requestTimeout")},this.timeout),this.addStatus(h.req,"HTTP Request sent."),h}},this.objectRefresh=function(e){var t=i.uris(e);if("undefined"!=typeof t)for(var n=0;n<t.length;n++)this.refresh(this.store.sym(a.uri.docpart(t[n])))},this.unload=function(e){this.store.removeMany(void 0,void 0,void 0,e),delete this.requested[e.uri]},this.refresh=function(e,t){this.fireCallbacks("refresh",arguments),this.requestURI(e.uri,void 0,{force:!0,clearPreviousData:!0},t)},this.retract=function(e){this.store.removeMany(void 0,void 0,void 0,e),e.uri&&delete this.requested[a.uri.docpart(e.uri)],this.fireCallbacks("retract",arguments)},this.getState=function(e){return"undefined"==typeof this.requested[e]?"unrequested":this.requested[e]===!0?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"},this.isPending=function(e){return this.requested[e]===!0}},a.fetcher=function(e,t,n){return new a.Fetcher(e,t,n)},a.parsable={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},a.parse=function(e,t,n,r,i){function o(){i&&i(null,t)}function s(e){if("application/ld+json"!==r||"application/nquads"!==r||"application/n-quads"!==r){if(!i)throw new Error("Error trying to parse <"+n+"> as "+r+":\n"+e+":\n"+e.stack);i(e,t)}}function u(e,n){e&&i(e,t);try{f.parse(n,l)}catch(e){i(e,t)}}function l(e,n,r){if(e&&i(e,t),n)g.push(n);else{for(var o=0;o<g.length;o++)c(t,g[o]);i(null,t)}}function c(e,t){var n=d(t.subject),r=d(t.predicate),i=d(t.object),o=null;t.graph&&(o=d(t.graph)),e.add(n,r,i,o)}function d(e){var t;if(v.isLiteral(e)){t=v.getLiteralValue(e);var n=v.getLiteralLanguage(e),r=new a.NamedNode(v.getLiteralType(e));return new a.Literal(t,n,r)}return v.isIRI(e)?new a.NamedNode(e):v.isBlank(e)?(t=e.substring(2,e.length),new a.BlankNode(t)):null}try{if("text/n3"===r||"text/turtle"===r){var p=a.N3Parser(t,t,n,n,null,null,"",null);p.loadBuf(e),o()}else if("application/rdf+xml"===r){var h=new a.RDFParser(t);h.parse(a.Util.parseXML(e),n,t.sym(n)),o()}else if("application/xhtml+xml"===r)a.parseRDFaDOM(a.Util.parseXML(e,{contentType:"application/xhtml+xml"}),t,n),o();else if("text/html"===r)a.parseRDFaDOM(a.Util.parseXML(e,{contentType:"text/html"}),t,n),o();else if("application/sparql-update"===r)a.sparqlUpdateParser(e,t,n),o();else{if("application/ld+json"!==r&&"application/nquads"!==r&&"application/n-quads"!==r)throw new Error("Don't know how to parse "+r+" yet");var f=b.Parser(),v=b.Util,g=[];if("application/ld+json"===r){var m;try{m=JSON.parse(e)}catch(w){i(w,null)}y.toRDF(m,{format:"application/nquads"},u)}else u(null,e)}}catch(x){s(x)}},a.serialize=function(e,t,n,r,i){function o(e,t){return i?void i(e,t):t}var s=null;try{var u,l=a.Serializer(t),c=t.statementsMatching(void 0,void 0,void 0,e);switch(l.suggestNamespaces(t.namespaces),l.setBase(n),r){case"application/rdf+xml":return s=l.statementsToXML(c),o(null,s);case"text/n3":case"application/n3":return s=l.statementsToN3(c),o(null,s);case"text/turtle":case"application/x-turtle":return l.setFlags("si"),s=l.statementsToN3(c),o(null,s);case"application/ld+json":u=l.statementsToN3(c),a.convert.convertToJson(u,i);break;case"application/n-quads":case"application/nquads":u=l.statementsToN3(c),s=a.convert.convertToNQuads(u,i);break;default:throw new Error("Serialize: Content-type "+r+" not supported for data write.")}}catch(d){if(i)return d;throw d}},"undefined"==typeof a.convert&&(a.convert={}),a.convert.convertToJson=function(e,t){var n,r=b.Parser(),i=b.Writer({format:"N-Quads"});m.waterfall([function(t){r.parse(e,t)},function(e,t,n){null!==e&&i.addTriple(e),"function"==typeof n&&i.end(n)},function(e,t){try{y.fromRDF(e,{format:"application/nquads"},t)}catch(n){t(n)}},function(e,r){n=JSON.stringify(e),t(null,n)}],function(e,r){t(e,n)})},a.convert.convertToNQuads=function(e,t){var n,r=b.Parser(),i=b.Writer({format:"N-Quads"});m.waterfall([function(t){r.parse(e,t)},function(e,t,n){null!==e&&i.addTriple(e),"function"==typeof n&&i.end(n)},function(e,r){n=e,t(null,n)}],function(e,r){t(e,n)})},"undefined"!=typeof e&&e.exports&&(t=e.exports=a),t.$rdf=a,a.buildTime="2016-06-01T15:36:17"}(this)}).call(t,n(192)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=XMLHttpRequest},function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(e,t,n){function r(t){var r=e[t];!r&&a&&(r=2==e.length?function(n){e(t,n)}:e),i[t]=r&&function(e){r("[xmldom "+t+"]\t"+e+s(n))}||function(){}}if(!e){if(t instanceof o)return t;e=t}var i={},a=e instanceof Function;return n=n||{},r("warning"),r("error"),r("fatalError"),i}function o(){this.cdata=!1}function a(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function u(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function l(e,t){e.currentElement?e.currentElement.appendChild(t):e.document.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new c,a=n.domBuilder||new o,s=n.errorHandler,u=n.locator,l=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&a.setDocumentLocator(u),r.errorHandler=i(s,a,u),r.domBuilder=n.domBuilder||a,/\/x?html?$/.test(t)&&(d.nbsp="",d.copy="",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,l,d):r.errorHandler.error("invalid document source"),a.document},o.prototype={startDocument:function(){this.document=(new d).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.document,o=i.createElementNS(e,n||t),s=r.length;l(this,o),this.currentElement=o,this.locator&&a(this.locator,o);for(var u=0;u<s;u++){var e=r.getURI(u),c=r.getValue(u),n=r.getQName(u),d=i.createAttributeNS(e,n);d.getOffset&&a(d.getOffset(1),d),d.value=d.nodeValue=c,o.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.document.createProcessingInstruction(e,t);this.locator&&a(this.locator,n),l(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=u.apply(this,arguments),this.currentElement&&e){if(this.cdata){var r=this.document.createCDATASection(e);this.currentElement.appendChild(r)}else{var r=this.document.createTextNode(e);this.currentElement.appendChild(r)}this.locator&&a(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=u.apply(this,arguments);var r=this.document.createComment(e);this.locator&&a(this.locator,r),l(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.document.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&a(this.locator,i),l(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){o.prototype[e]=function(){return null}});var c=n(195).XMLReader,d=t.DOMImplementation=n(196).DOMImplementation;t.XMLSerializer=n(196).XMLSerializer,t.DOMParser=r},function(e,t,n){function r(){}function i(e,t,n,r,i){function c(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function f(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?c(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function v(t){if(t>E){var n=e.substring(E,t).replace(/&#?\w+;/g,f);w&&g(E),r.characters(n,0,t-E),E=t}}function g(t,n){for(;t>=y&&(n=b.exec(e));)m=n.index,y=m+n[0].length,w.lineNumber++;w.columnNumber=t-m+1}for(var m=0,y=0,b=/.+(?:\r\n?|\n)|.*$/g,w=r.locator,x=[{currentNSMap:t}],_={},E=0;;){try{var T=e.indexOf("<",E);if(T<0){if(!e.substr(E).match(/^\s*$/)){var C=r.document,N=C.createTextNode(e.substr(E));C.appendChild(N),r.currentElement=N}return}switch(T>E&&v(T),e.charAt(T+1)){case"/":var R=e.indexOf(">",T+3),I=e.substring(T+2,R),S=x.pop(),k=S.localNSMap;if(S.tagName!=I&&i.fatalError("end tag name: "+I+" is not match the current start tagName:"+S.tagName),r.endElement(S.uri,S.localName,I),k)for(var O in k)r.endPrefixMapping(O);R++;break;case"?":w&&g(T),R=p(e,T,r);break;case"!":w&&g(T),R=d(e,T,r,i);break;default:w&&g(T);var P=new h,R=a(e,T,P,f,i),A=P.length;if(w){if(A)for(var D=0;D<A;D++){var M=P[D];g(M.offset),M.offset=o(w,{})}g(R)}!P.closed&&l(e,R,P.tagName,_)&&(P.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),s(P,r,x),"http://www.w3.org/1999/xhtml"!==P.uri||P.closed?R++:R=u(e,R,P.tagName,f,r)}}catch(L){i.error("element parse error: "+L),R=-1}R>E?E=R:v(Math.max(T,E)+1)}}function o(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function a(e,t,n,r,i){for(var o,a,s=++t,u=b;;){var l=e.charAt(s);switch(l){case"=":if(u===w)o=e.slice(t,s),u=_;else{if(u!==x)throw new Error("attribute equal must after attrName");u=_}break;case"'":case'"':if(u===_){if(t=s+1,s=e.indexOf(l,t),!(s>0))throw new Error("attribute value no end '"+l+"' match");a=e.slice(t,s).replace(/&#?\w+;/g,r),n.add(o,a,t-1),u=T}else{if(u!=E)throw new Error('attribute value must after "="');a=e.slice(t,s).replace(/&#?\w+;/g,r),n.add(o,a,t),i.warning('attribute "'+o+'" missed start quot('+l+")!!"),t=s+1,u=T}break;case"/":switch(u){case b:n.setTagName(e.slice(t,s));case T:case C:case N:u=N,n.closed=!0;case E:case w:case x:break;default:throw new Error("attribute invalid close char('/')")}break;case"":i.error("unexpected end of input");case">":switch(u){case b:n.setTagName(e.slice(t,s));case T:case C:case N:break;case E:case w:a=e.slice(t,s),"/"===a.slice(-1)&&(n.closed=!0,a=a.slice(0,-1));case x:u===x&&(a=o),u==E?(i.warning('attribute "'+a+'" missed quot(")!!'),n.add(o,a.replace(/&#?\w+;/g,r),t)):(i.warning('attribute "'+a+'" missed value!! "'+a+'" instead!!'),n.add(a,a,t));break;case _:throw new Error("attribute value missed!!")}return s;case"":l=" ";default:if(l<=" ")switch(u){case b:n.setTagName(e.slice(t,s)),u=C;break;case w:o=e.slice(t,s),u=x;break;case E:var a=e.slice(t,s).replace(/&#?\w+;/g,r);i.warning('attribute "'+a+'" missed quot(")!!'),n.add(o,a,t);case T:u=C}else switch(u){case x:i.warning('attribute "'+o+'" missed value!! "'+o+'" instead!!'),n.add(o,o,t),t=s,u=w;break;case T:i.warning('attribute space is required"'+o+'"!!');case C:u=w,t=s;break;case _:u=E,t=s;break;case N:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function s(e,t,n){for(var r=e.tagName,i=null,o=n[n.length-1].currentNSMap,a=e.length;a--;){var s=e[a],u=s.qName,l=s.value,d=u.indexOf(":");if(d>0)var p=s.prefix=u.slice(0,d),h=u.slice(d+1),f="xmlns"===p&&h;else h=u,p=null,f="xmlns"===u&&"";s.localName=h,f!==!1&&(null==i&&(i={},c(o,o={})),o[f]=i[f]=l,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,l))}for(var a=e.length;a--;){s=e[a];var p=s.prefix;p&&("xml"===p&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==p&&(s.uri=o[p]))}var d=r.indexOf(":");d>0?(p=e.prefix=r.slice(0,d),h=e.localName=r.slice(d+1)):(p=null,h=e.localName=r);var v=e.uri=o[p||""];if(t.startElement(v,h,r,e),e.closed){if(t.endElement(v,h,r),i)for(p in i)t.endPrefixMapping(p)}else e.currentNSMap=o,e.localNSMap=i,n.push(e)}function u(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return t+1}function l(e,t,n,r){var i=r[n];return null==i&&(i=r[n]=e.lastIndexOf("</"+n+">")),i<t}function c(e,t){for(var n in e)t[n]=e[n]}function d(e,t,n,r){var i=e.charAt(t+2);switch(i){case"-":if("-"===e.charAt(t+3)){var o=e.indexOf("-->",t+4);return o>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var a=v(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],l=s>3&&/^public$/i.test(a[2][0])&&a[3][0],c=s>4&&a[4][0],d=a[s-1];return n.startDTD(u,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),d.index+d[0].length}}return-1}function p(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function h(e){}function f(e,t){return e.__proto__=t,e}function v(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}var g=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=new RegExp("[\\-\\.0-9"+g.source.slice(1,-1)+"-\\u203F-]"),y=new RegExp("^"+g.source+m.source+"*(?::"+g.source+m.source+"*)?$"),b=0,w=1,x=2,_=3,E=4,T=5,C=6,N=7;r.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),c(t,t={}),i(e,t,n,r,this.errorHandler),r.endDocument()}},h.prototype={setTagName:function(e){if(!y.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!y.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getOffset:function(e){return this[e].offset},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},f({},f.prototype)instanceof f||(f=function(e,t){function n(){}n.prototype=t,n=new n;for(t in e)n[t]=e[t];return n}),t.XMLReader=r},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t){function n(){}var i=e.prototype;if(Object.create){var o=Object.create(t.prototype);i.__proto__=o}i instanceof t||(n.prototype=t.prototype,n=new n,r(i,n),e.prototype=i=n),i.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),i.constructor=e)}function o(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,re[e]),this.message=re[e],Error.captureStackTrace&&Error.captureStackTrace(this,o);return n.code=e,t&&(this.message=this.message+": "+t),n}function a(){}function s(e,t){this._node=e,this._refresh=t,u(this)}function u(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);B(e,"length",n.length),r(n,e),e._inc=t}}function l(){}function c(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function d(e,t,n,r){if(r?t[c(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&b(i,e,r),y(i,e,n))}}function p(e,t,n){var r=c(t,n);if(!(r>=0))throw o(ie,new Error);for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(b(a,e,n),n.ownerElement=null)}}function h(e){if(this._features={},e)for(var t in e)this._features=e[t]}function f(){}function v(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function g(e,t){if(t(e))return!0;if(e=e.firstChild)do if(g(e,t))return!0;while(e=e.nextSibling)}function m(){}function y(e,t,n){e&&e._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function b(e,t,n,r){e&&e._inc++;var i=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&delete t._nsMap[n.prefix?n.localName:""]}function w(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function x(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,w(e.ownerDocument,e),t}function _(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===ee){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do i.parentNode=e;while(i!==o&&(i=i.nextSibling));return w(e.ownerDocument||e,e),t.nodeType==ee&&(t.firstChild=t.lastChild=null),t}function E(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);var r=e.lastChild}var r=e.lastChild;return t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,w(e.ownerDocument,e,t),t}function T(){this._nsMap={}}function C(){}function N(){}function R(){}function I(){}function S(){}function k(){}function O(){}function P(){}function A(){}function D(){}function M(){}function L(){}function j(e,t,n,r){switch(e.nodeType){case z:var i=e.attributes,o=i.length,a=e.firstChild,s=e.tagName;r=H===e.namespaceURI||r,t.push("<",s),n&&t.sort.apply(i,n);for(var u=0;u<o;u++)j(i.item(u),t,n,r);if(a||r&&!/^(?:meta|link|img|br|hr|input|button)$/i.test(s)){if(t.push(">"),r&&/^script$/i.test(s))a&&t.push(a.data);else for(;a;)j(a,t,n,r),a=a.nextSibling;t.push("</",s,">")}else t.push("/>");
return;case J:case ee:for(var a=e.firstChild;a;)j(a,t,n,r),a=a.nextSibling;return;case W:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,v),'"');case X:return t.push(e.data.replace(/[<&]/g,v));case G:return t.push("<![CDATA[",e.data,"]]>");case K:return t.push("<!--",e.data,"-->");case Z:var l=e.publicId,c=e.systemId;if(t.push("<!DOCTYPE ",e.name),l)t.push(' PUBLIC "',l),c&&"."!=c&&t.push('" "',c),t.push('">');else if(c&&"."!=c)t.push(' SYSTEM "',c,'">');else{var d=e.internalSubset;d&&t.push(" [",d,"]"),t.push(">")}return;case $:return t.push("<?",e.target," ",e.data,"?>");case Y:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function U(e,t,n){var r;switch(t.nodeType){case z:r=t.cloneNode(!1),r.ownerDocument=e;case ee:break;case W:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(U(e,i,n)),i=i.nextSibling;return r}function F(e,t,n){var r=new t.constructor;for(var i in t){var o=t[i];"object"!=typeof o&&o!=r[i]&&(r[i]=o)}switch(t.childNodes&&(r.childNodes=new a),r.ownerDocument=e,r.nodeType){case z:var s=t.attributes,u=r.attributes=new l,c=s.length;u._ownerElement=r;for(var d=0;d<c;d++)r.setAttributeNode(F(e,s.item(d),!0));break;case W:n=!0}if(n)for(var p=t.firstChild;p;)r.appendChild(F(e,p,n)),p=p.nextSibling;return r}function B(e,t,n){e[t]=n}function q(e){switch(e.nodeType){case 1:case 11:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(q(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}var H="http://www.w3.org/1999/xhtml",V={},z=V.ELEMENT_NODE=1,W=V.ATTRIBUTE_NODE=2,X=V.TEXT_NODE=3,G=V.CDATA_SECTION_NODE=4,Y=V.ENTITY_REFERENCE_NODE=5,Q=V.ENTITY_NODE=6,$=V.PROCESSING_INSTRUCTION_NODE=7,K=V.COMMENT_NODE=8,J=V.DOCUMENT_NODE=9,Z=V.DOCUMENT_TYPE_NODE=10,ee=V.DOCUMENT_FRAGMENT_NODE=11,te=V.NOTATION_NODE=12,ne={},re={},ie=(ne.INDEX_SIZE_ERR=(re[1]="Index size error",1),ne.DOMSTRING_SIZE_ERR=(re[2]="DOMString size error",2),ne.HIERARCHY_REQUEST_ERR=(re[3]="Hierarchy request error",3),ne.WRONG_DOCUMENT_ERR=(re[4]="Wrong document",4),ne.INVALID_CHARACTER_ERR=(re[5]="Invalid character",5),ne.NO_DATA_ALLOWED_ERR=(re[6]="No data allowed",6),ne.NO_MODIFICATION_ALLOWED_ERR=(re[7]="No modification allowed",7),ne.NOT_FOUND_ERR=(re[8]="Not found",8)),oe=(ne.NOT_SUPPORTED_ERR=(re[9]="Not supported",9),ne.INUSE_ATTRIBUTE_ERR=(re[10]="Attribute in use",10));ne.INVALID_STATE_ERR=(re[11]="Invalid state",11),ne.SYNTAX_ERR=(re[12]="Syntax error",12),ne.INVALID_MODIFICATION_ERR=(re[13]="Invalid modification",13),ne.NAMESPACE_ERR=(re[14]="Invalid namespace",14),ne.INVALID_ACCESS_ERR=(re[15]="Invalid access",15);o.prototype=Error.prototype,r(ne,o),a.prototype={length:0,item:function(e){return this[e]||null},toString:function(){for(var e=[],t=0;t<this.length;t++)j(this[t],e);return e.join("")}},s.prototype.item=function(e){return u(this),this[e]},i(s,a),l.prototype={length:0,item:a.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new o(oe);var n=this.getNamedItem(e.nodeName);return d(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new o(oe);return t=this.getNamedItemNS(e.namespaceURI,e.localName),d(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return p(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return p(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},h.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new m;if(r.implementation=this,r.childNodes=new a,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new k;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},f.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return _(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return x(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return F(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==X&&e.nodeType==X?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},r(V,f),r(V,f.prototype),m.prototype={nodeName:"#document",nodeType:J,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==ee){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&1==e.nodeType&&(this.documentElement=e),_(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),x(this,e)},importNode:function(e,t){return U(this,e,t)},getElementById:function(e){var t=null;return g(this.documentElement,function(n){if(1==n.nodeType&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new T;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new a;var n=t.attributes=new l;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new D;return e.ownerDocument=this,e.childNodes=new a,e},createTextNode:function(e){var t=new R;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new I;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new S;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new M;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new C;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new A;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new T,r=t.split(":"),i=n.attributes=new l;return n.childNodes=new a,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new C,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},i(m,f),T.prototype={nodeType:z,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===ee?this.insertBefore(e,null):E(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new s(this,function(t){var n=[];return g(t,function(r){r===t||r.nodeType!=z||"*"!==e&&r.tagName!=e||n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new s(this,function(n){var r=[];return g(n,function(i){i===n||i.nodeType!==z||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)}),r})}},m.prototype.getElementsByTagName=T.prototype.getElementsByTagName,m.prototype.getElementsByTagNameNS=T.prototype.getElementsByTagNameNS,i(T,f),C.prototype.nodeType=W,i(C,f),N.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(re[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),i=this.data.substring(e+t);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}},i(N,f),R.prototype={nodeName:"#text",nodeType:X,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},i(R,N),I.prototype={nodeName:"#comment",nodeType:K},i(I,N),S.prototype={nodeName:"#cdata-section",nodeType:G},i(S,N),k.prototype.nodeType=Z,i(k,f),O.prototype.nodeType=te,i(O,f),P.prototype.nodeType=Q,i(P,f),A.prototype.nodeType=Y,i(A,f),D.prototype.nodeName="#document-fragment",D.prototype.nodeType=ee,i(D,f),M.prototype.nodeType=$,i(M,f),L.prototype.serializeToString=function(e,t){return e.toString(t)},f.prototype.toString=function(e){var t=[];return j(this,t,e),t.join("")};try{Object.defineProperty&&(Object.defineProperty(s.prototype,"length",{get:function(){return u(this),this.$$length}}),Object.defineProperty(f.prototype,"textContent",{get:function(){return q(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=value,this.nodeValue=e}}}),B=function(e,t,n){e["$$"+t]=n})}catch(ae){}t.DOMImplementation=h,t.XMLSerializer=L},function(e,t,n){var r,i;(function(n,o){/*!
	 * async
	 * https://github.com/caolan/async
	 *
	 * Copyright 2010-2014 Caolan McMahon
	 * Released under the MIT license
	 */
!function(){function a(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(s,arguments)}}var s,u,l={};s=this,null!=s&&(u=s.async),l.noConflict=function(){return s.async=u,l};var c=Object.prototype.toString,d=Array.isArray||function(e){return"[object Array]"===c.call(e)},p=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)},h=function(e,t){if(e.map)return e.map(t);var n=[];return p(e,function(e,r,i){n.push(t(e,r,i))}),n},f=function(e,t,n){return e.reduce?e.reduce(t,n):(p(e,function(e,r,i){n=t(n,e,r,i)}),n)},v=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof n&&n.nextTick?(l.nextTick=n.nextTick,"undefined"!=typeof o?l.setImmediate=function(e){o(e)}:l.setImmediate=l.nextTick):"function"==typeof o?(l.nextTick=function(e){o(e)},l.setImmediate=l.nextTick):(l.nextTick=function(e){setTimeout(e,0)},l.setImmediate=l.nextTick),l.each=function(e,t,n){function r(t){t?(n(t),n=function(){}):(i+=1,i>=e.length&&n())}if(n=n||function(){},!e.length)return n();var i=0;p(e,function(e){t(e,a(r))})},l.forEach=l.each,l.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n():i())})};i()},l.forEachSeries=l.eachSeries,l.eachLimit=function(e,t,n,r){var i=g(t);i.apply(null,[e,n,r])},l.forEachLimit=l.eachLimit;var g=function(e){return function(t,n,r){if(r=r||function(){},!t.length||e<=0)return r();var i=0,o=0,a=0;!function s(){if(i>=t.length)return r();for(;a<e&&o<t.length;)o+=1,a+=1,n(t[o-1],function(e){e?(r(e),r=function(){}):(i+=1,a-=1,i>=t.length?r():s())})}()}},m=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[l.each].concat(t))}},y=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[g(e)].concat(n))}},b=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[l.eachSeries].concat(t))}},w=function(e,t,n,r){if(t=h(t,function(e,t){return{index:t,value:e}}),r){var i=[];e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};l.map=m(w),l.mapSeries=b(w),l.mapLimit=function(e,t,n,r){return x(t)(e,n,r)};var x=function(e){return y(e,w)};l.reduce=function(e,t,n,r){l.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})},l.inject=l.reduce,l.foldl=l.reduce,l.reduceRight=function(e,t,n,r){var i=h(e,function(e){return e}).reverse();l.reduce(i,t,n,r)},l.foldr=l.reduceRight;var _=function(e,t,n,r){var i=[];t=h(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(e){r(h(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};l.filter=m(_),l.filterSeries=b(_),l.select=l.filter,l.selectSeries=l.filterSeries;var E=function(e,t,n,r){var i=[];t=h(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(e){r(h(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};l.reject=m(E),l.rejectSeries=b(E);var T=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};l.detect=m(T),l.detectSeries=b(T),l.some=function(e,t,n){l.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(e){n(!1)})},l.any=l.some,l.every=function(e,t,n){l.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(e){n(!0)})},l.all=l.every,l.sortBy=function(e,t,n){l.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);var r=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};n(null,h(t.sort(r),function(e){return e.value}))})},l.auto=function(e,t){t=t||function(){};var n=v(e),r=n.length;if(!r)return t();var i={},o=[],a=function(e){o.unshift(e)},s=function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e)return void o.splice(t,1)},u=function(){r--,p(o.slice(0),function(e){e()})};a(function(){if(!r){var e=t;t=function(){},e(null,i)}}),p(n,function(n){var r=d(e[n])?e[n]:[e[n]],o=function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),e){var o={};p(v(i),function(e){o[e]=i[e]}),o[n]=r,t(e,o),t=function(){}}else i[n]=r,l.setImmediate(u)},c=r.slice(0,Math.abs(r.length-1))||[],h=function(){return f(c,function(e,t){return e&&i.hasOwnProperty(t)},!0)&&!i.hasOwnProperty(n)};if(h())r[r.length-1](o,i);else{var g=function(){h()&&(s(g),r[r.length-1](o,i))};a(g)}})},l.retry=function(e,t,n){var r=5,i=[];"function"==typeof e&&(n=t,t=e,e=r),e=parseInt(e,10)||r;var o=function(r,o){for(var a=function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},o)}};e;)i.push(a(t,!(e-=1)));l.series(i,function(e,t){t=t[t.length-1],(r||n)(t.err,t.result)})};return n?o():o},l.waterfall=function(e,t){if(t=t||function(){},!d(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var r=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=e.next();o?i.push(r(o)):i.push(t),l.setImmediate(function(){e.apply(null,i)})}}};r(l.iterator(e))()};var C=function(e,t,n){if(n=n||function(){},d(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(v(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};l.parallel=function(e,t){C({map:l.map,each:l.each},e,t)},l.parallelLimit=function(e,t,n){C({map:x(t),each:g(t)},e,n)},l.series=function(e,t){if(t=t||function(){},d(e))l.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};l.eachSeries(v(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},l.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},l.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var N=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};l.concat=m(N),l.concatSeries=b(N),l.whilst=function(e,t,n){e()?t(function(r){return r?n(r):void l.whilst(e,t,n)}):n()},l.doWhilst=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?l.doWhilst(e,t,n):n()})},l.until=function(e,t,n){e()?n():t(function(r){return r?n(r):void l.until(e,t,n)})},l.doUntil=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?n():l.doUntil(e,t,n)})},l.queue=function(e,t){function n(e,t,n,r){return e.started||(e.started=!0),d(t)||(t=[t]),0==t.length?l.setImmediate(function(){e.drain&&e.drain()}):void p(t,function(t){var i={data:t,callback:"function"==typeof r?r:null};n?e.tasks.unshift(i):e.tasks.push(i),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),l.setImmediate(e.process)})}void 0===t&&(t=1);var r=0,i={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){n(i,e,!1,t)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(e,t){n(i,e,!0,t)},process:function(){if(!i.paused&&r<i.concurrency&&i.tasks.length){var t=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),r+=1;var n=function(){r-=1,t.callback&&t.callback.apply(t,arguments),i.drain&&i.tasks.length+r===0&&i.drain(),i.process()},o=a(n);e(t.data,o)}},length:function(){return i.tasks.length},running:function(){return r},idle:function(){return i.tasks.length+r===0},pause:function(){i.paused!==!0&&(i.paused=!0)},resume:function(){if(i.paused!==!1){i.paused=!1;for(var e=1;e<=i.concurrency;e++)l.setImmediate(i.process)}}};return i},l.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function r(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function i(e,t,i,o){return e.started||(e.started=!0),d(t)||(t=[t]),0==t.length?l.setImmediate(function(){e.drain&&e.drain()}):void p(t,function(t){var a={data:t,priority:i,callback:"function"==typeof o?o:null};e.tasks.splice(r(e.tasks,a,n)+1,0,a),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),l.setImmediate(e.process)})}var o=l.queue(e,t);return o.push=function(e,t,n){i(o,e,t,n)},delete o.unshift,o},l.cargo=function(e,t){var n=!1,r=[],i={tasks:r,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){d(e)||(e=[e]),p(e,function(e){r.push({data:e,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===t&&i.saturated()}),l.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var a="number"==typeof t?r.splice(0,t):r.splice(0,r.length),s=h(a,function(e){return e.data});i.empty&&i.empty(),n=!0,e(s,function(){n=!1;var e=arguments;p(a,function(t){t.callback&&t.callback.apply(null,e)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var R=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&p(n,function(t){console[e](t)}))}]))}};l.log=R("log"),l.dir=R("dir"),l.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),a=t.apply(null,i);a in n?l.nextTick(function(){o.apply(null,n[a])}):a in r?r[a].push(o):(r[a]=[o],e.apply(null,i.concat([function(){n[a]=arguments;var e=r[a];delete r[a];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},l.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},l.times=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return l.map(r,t,n)},l.timesSeries=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return l.mapSeries(r,t,n)},l.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();l.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}},l.compose=function(){return l.seq.apply(null,Array.prototype.reverse.call(arguments))};var I=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};l.applyEach=m(I),l.applyEachSeries=b(I),l.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},"undefined"!=typeof e&&e.exports?e.exports=l:(r=[],i=function(){return l}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()}).call(t,n(198),n(199).setImmediate)},function(e,t){function n(){d&&l&&(d=!1,l.length?c=l.concat(c):p=-1,c.length&&r())}function r(){if(!d){var e=a(n);d=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,d=!1,s(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var a,s,u=e.exports={};!function(){try{a=setTimeout}catch(e){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(e){s=function(){throw new Error("clearTimeout is not defined")}}}();var l,c=[],d=!1,p=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new i(e,t)),1!==c.length||d||a(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,n){(function(e,r){function i(e,t){this._id=e,this._clearFn=t}var o=n(198).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},l=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=l++,r=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(t,n(199).setImmediate,n(199).clearImmediate)},function(e,t,n){var r,i;(function(o,a,s,u){/**
	 * A JavaScript implementation of the JSON-LD API.
	 *
	 * @author Dave Longley
	 *
	 * @license BSD 3-Clause License
	 * Copyright (c) 2011-2015 Digital Bazaar, Inc.
	 * All rights reserved.
	 *
	 * Redistribution and use in source and binary forms, with or without
	 * modification, are permitted provided that the following conditions are met:
	 *
	 * Redistributions of source code must retain the above copyright notice,
	 * this list of conditions and the following disclaimer.
	 *
	 * Redistributions in binary form must reproduce the above copyright
	 * notice, this list of conditions and the following disclaimer in the
	 * documentation and/or other materials provided with the distribution.
	 *
	 * Neither the name of the Digital Bazaar, Inc. nor the names of its
	 * contributors may be used to endorse or promote products derived from
	 * this software without specific prior written permission.
	 *
	 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
	 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
	 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
	 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
	 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
	 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
	 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
	 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
	 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
	 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
	 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	 */
!function(){var l="undefined"!=typeof o&&o.versions&&o.versions.node,c=!l&&("undefined"!=typeof window||"undefined"!=typeof self);c&&"undefined"==typeof a&&("undefined"!=typeof window?a=window:"undefined"!=typeof self?a=self:"undefined"!=typeof $&&(a=$));var d=function(e){function t(){}function r(e){for(var t=[],n=Object.keys(e).sort(),r=0;r<n.length;++r){var i=n[r],o=e[i];q(o)||(o=[o]);for(var a=0;a<o.length;++a){var s=o[a];if(null!==s){if(!V(s))throw new Ae("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});t.push({"@value":s,"@language":i.toLowerCase()})}}}return t}function i(e,t){if(q(t))for(var n=0;n<t.length;++n)t[n]=i(e,t[n]);else if(J(t))t["@list"]=i(e,t["@list"]);else if(F(t)){Z(t)&&(t["@id"]=e.getId(t["@id"]));for(var r=Object.keys(t).sort(),o=0;o<r.length;++o){var a=r[o];"@id"!==a&&(t[a]=i(e,t[a]))}}return t}function d(t,n,r){if(null===r||void 0===r)return null;var i=D(t,n,{vocab:!0});if("@id"===i)return D(t,r,{base:!0});if("@type"===i)return D(t,r,{vocab:!0,base:!0});var o=e.getContextValue(t,n,"@type");if("@id"===o||"@graph"===i&&V(r))return{"@id":D(t,r,{base:!0})};if("@vocab"===o)return{"@id":D(t,r,{vocab:!0,base:!0})};if(U(i))return r;var a={};if(null!==o)a["@type"]=o;else if(V(r)){var s=e.getContextValue(t,n,"@language");null!==s&&(a["@language"]=s)}return["boolean","number","string"].indexOf(typeof r)===-1&&(r=r.toString()),a["@value"]=r,a}function p(e,t,n){for(var r=[],i=Object.keys(e).sort(),o=0;o<i.length;++o)for(var a=i[o],s=e[a],u=Object.keys(s).sort(),l=0;l<u.length;++l){var c=u[l],d=s[c];if("@type"===c)c=Ne;else if(U(c))continue;for(var p=0;p<d.length;++p){var v=d[p],g={};if(g.type=0===a.indexOf("_:")?"blank node":"IRI",g.value=a,ee(a)){var m={};if(m.type=0===c.indexOf("_:")?"blank node":"IRI",m.value=c,ee(c)&&("blank node"!==m.type||n.produceGeneralizedRdf))if(J(v))h(v["@list"],t,g,m,r);else{var y=f(v);y&&r.push({subject:g,predicate:m,object:y})}}}}return r}function h(e,t,n,r,i){for(var o={type:"IRI",value:Ee},a={type:"IRI",value:Te},s={type:"IRI",value:Ce},u=0;u<e.length;++u){var l=e[u],c={type:"blank node",value:t.getId()};i.push({subject:n,predicate:r,object:c}),n=c,r=o;var d=f(l);d&&i.push({subject:n,predicate:r,object:d}),r=a}i.push({subject:n,predicate:r,object:s})}function f(e){var t={};if(K(e)){t.type="literal";var n=e["@value"],r=e["@type"]||null;G(n)?(t.value=n.toString(),t.datatype=r||me):W(n)||r===ye?(W(n)||(n=parseFloat(n)),t.value=n.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t.datatype=r||ye):z(n)?(t.value=n.toFixed(0),t.datatype=r||be):"@language"in e?(t.value=n,t.datatype=r||ke,t.language=e["@language"]):(t.value=n,t.datatype=r||we)}else{var i=F(e)?e["@id"]:e;t.type=0===i.indexOf("_:")?"blank node":"IRI",t.value=i}return"IRI"!==t.type||ee(t.value)?t:null}function v(e,t){if("IRI"===e.type||"blank node"===e.type)return{"@id":e.value};var n={"@value":e.value};if(e.language)n["@language"]=e.language;else{var r=e.datatype;if(r||(r=we),t){if(r===me)"true"===n["@value"]?n["@value"]=!0:"false"===n["@value"]&&(n["@value"]=!1);else if(X(n["@value"]))if(r===be){var i=parseInt(n["@value"],10);i.toFixed(0)===n["@value"]&&(n["@value"]=i)}else r===ye&&(n["@value"]=parseFloat(n["@value"]));[me,be,ye,we].indexOf(r)===-1&&(n["@type"]=r)}else r!==we&&(n["@type"]=r)}return n}function g(e,t){for(var n=["subject","predicate","object"],r=0;r<n.length;++r){var i=n[r];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language===t.object.language&&e.object.datatype===t.object.datatype}function m(t,n,r,i,o,a){if(q(t))for(var s=0;s<t.length;++s)m(t[s],n,r,i,void 0,a);else{if(!F(t))return void(a&&a.push(t));if(K(t)){if("@type"in t){var u=t["@type"];0===u.indexOf("_:")&&(t["@type"]=u=i.getId(u))}return void(a&&a.push(t))}if("@type"in t)for(var l=t["@type"],s=0;s<l.length;++s){var u=l[s];0===u.indexOf("_:")&&i.getId(u)}Y(o)&&(o=Z(t)?i.getId(t["@id"]):t["@id"]),a&&a.push({"@id":o});var c=n[r],d=c[o]=c[o]||{};d["@id"]=o;for(var p=Object.keys(t).sort(),h=0;h<p.length;++h){var f=p[h];if("@id"!==f)if("@reverse"!==f)if("@graph"!==f)if("@type"!==f&&U(f)){if("@index"===f&&f in d&&(t[f]!==d[f]||t[f]["@id"]!==d[f]["@id"]))throw new Ae("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:d});d[f]=t[f]}else{var v=t[f];if(0===f.indexOf("_:")&&(f=i.getId(f)),0!==v.length)for(var g=0;g<v.length;++g){var y=v[g];if("@type"===f&&(y=0===y.indexOf("_:")?i.getId(y):y),Q(y)||$(y)){var b=Z(y)?i.getId(y["@id"]):y["@id"];e.addValue(d,f,{"@id":b},{propertyIsArray:!0,allowDuplicate:!1}),m(y,n,r,i,b)}else if(J(y)){var w=[];m(y["@list"],n,r,i,o,w),y={"@list":w},e.addValue(d,f,y,{propertyIsArray:!0,allowDuplicate:!1})}else m(y,n,r,i,o),e.addValue(d,f,y,{propertyIsArray:!0,allowDuplicate:!1})}else e.addValue(d,f,[],{propertyIsArray:!0})}else{o in n||(n[o]={});var x="@merged"===r?r:o;m(t[f],n,x,i)}else{var _={"@id":o},E=t["@reverse"];for(var T in E)for(var C=E[T],N=0;N<C.length;++N){var R=C[N],I=R["@id"];Z(R)&&(I=i.getId(I)),m(R,n,r,i,I),e.addValue(c[I],T,_,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function y(e){for(var t=e["@default"],n=Object.keys(e).sort(),r=0;r<n.length;++r){var i=n[r];if("@default"!==i){var o=e[i],a=t[i];a?"@graph"in a||(a["@graph"]=[]):t[i]=a={"@id":i,"@graph":[]};for(var s=a["@graph"],u=Object.keys(o).sort(),l=0;l<u.length;++l){var c=o[u[l]];$(c)||s.push(c)}}}return t}function b(e,t,n,r,i){E(n),n=n[0];for(var o=e.options,a={embed:_(n,o,"embed"),explicit:_(n,o,"explicit"),requireAll:_(n,o,"requireAll")},s=T(e,t,n,a),u=Object.keys(s).sort(),l=0;l<u.length;++l){var c=u[l],d=s[c];if("@link"===a.embed&&c in e.link)R(r,i,e.link[c]);else{null===i&&(e.uniqueEmbeds={});var p={};if(p["@id"]=c,e.link[c]=p,"@never"===a.embed||x(d,e.subjectStack))R(r,i,p);else{"@last"===a.embed&&(c in e.uniqueEmbeds&&N(e,c),e.uniqueEmbeds[c]={parent:r,property:i}),e.subjectStack.push(d);for(var h=Object.keys(d).sort(),f=0;f<h.length;f++){var v=h[f];if(U(v))p[v]=te(d[v]);else if(!a.explicit||v in n)for(var g=d[v],m=0;m<g.length;++m){var y=g[m];if(J(y)){var C={"@list":[]};R(p,v,C);var I=y["@list"];for(var S in I)if(y=I[S],$(y)){var k=v in n?n[v][0]["@list"]:w(a);b(e,[y["@id"]],k,C,"@list")}else R(C,"@list",te(y))}else if($(y)){var k=v in n?n[v]:w(a);b(e,[y["@id"]],k,p,v)}else R(p,v,te(y))}}for(var h=Object.keys(n).sort(),f=0;f<h.length;++f){var v=h[f];if(!U(v)){var O=n[v][0],P=_(O,o,"omitDefault");if(!(P||v in p)){var A="@null";"@default"in O&&(A=te(O["@default"])),q(A)||(A=[A]),p[v]=[{"@preserve":A}]}}}R(r,i,p),e.subjectStack.pop()}}}}function w(e){var t={};for(var n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function x(e,t){for(var n=t.length-1;n>=0;--n)if(t[n]["@id"]===e["@id"])return!0;return!1}function _(e,t,n){var r="@"+n,i=r in e?e[r][0]:t[n];return"embed"===n&&(i===!0?i="@last":i===!1?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function E(e){if(!q(e)||1!==e.length||!F(e[0]))throw new Ae("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function T(e,t,n,r){for(var i={},o=0;o<t.length;++o){var a=t[o],s=e.subjects[a];C(s,n,r)&&(i[a]=s)}return i}function C(t,n,r){if("@type"in n&&(1!==n["@type"].length||!F(n["@type"][0]))){for(var i=n["@type"],o=0;o<i.length;++o)if(e.hasValue(t,"@type",i[o]))return!0;return!1}var a=!0,s=!1;for(var u in n){if(U(u)){if("@id"!==u&&"@type"!==u)continue;if(a=!1,"@id"===u&&V(n[u])){if(t[u]!==n[u])return!1;s=!0;continue}}if(a=!1,u in t){if(q(n[u])&&0===n[u].length&&void 0!==t[u])return!1;s=!0}else{var l=q(n[u])&&F(n[u][0])&&"@default"in n[u][0];if(r.requireAll&&!l)return!1}}return a||s}function N(t,n){var r=t.uniqueEmbeds,i=r[n],o=i.parent,a=i.property,s={"@id":n};if(q(o)){for(var u=0;u<o.length;++u)if(e.compareValues(o[u],s)){o[u]=s;break}}else{var l=q(o[a]);e.removeValue(o,a,s,{propertyIsArray:l}),e.addValue(o,a,s,{propertyIsArray:l})}var c=function(e){for(var t=Object.keys(r),n=0;n<t.length;++n){var i=t[n];i in r&&F(r[i].parent)&&r[i].parent["@id"]===e&&(delete r[i],c(i))}};c(n)}function R(t,n,r){F(t)?e.addValue(t,n,r,{propertyIsArray:!0}):t.push(r)}/**
	 * Removes the @preserve keywords as the last step of the framing algorithm.
	 *
	 * @param ctx the active context used to compact the input.
	 * @param input the framed, compacted output.
	 * @param options the compaction options used.
	 *
	 * @return the resulting output.
	 */
function I(t,n,r){if(q(n)){for(var i=[],o=0;o<n.length;++o){var a=I(t,n[o],r);null!==a&&i.push(a)}n=i}else if(F(n)){
// remove @preserve
if("@preserve"in n)return"@null"===n["@preserve"]?null:n["@preserve"];if(K(n))return n;if(J(n))return n["@list"]=I(t,n["@list"],r),n;var s=O(t,"@id");if(s in n){var u=n[s];if(u in r.link){var l=r.link[u].indexOf(n);if(l!==-1)return r.link[u][l];r.link[u].push(n)}else r.link[u]=[n]}for(var c in n){var a=I(t,n[c],r),d=e.getContextValue(t,c,"@container");r.compactArrays&&q(a)&&1===a.length&&null===d&&(a=a[0]),n[c]=a}}return n}function S(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1}function k(e,t,n,r,i,o){null===o&&(o="@null");var a=[];if("@id"!==o&&"@reverse"!==o||!$(n))a.push(o);else{"@reverse"===o&&a.push("@reverse");var s=O(e,n["@id"],null,{vocab:!0});s in e.mappings&&e.mappings[s]&&e.mappings[s]["@id"]===n["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}a.push("@none");for(var u=e.inverse[t],l=0;l<r.length;++l){var c=r[l];if(c in u)for(var d=u[c][i],p=0;p<a.length;++p){var h=a[p];if(h in d)return d[h]}}return null}function O(e,t,n,r,i){if(null===t)return t;Y(n)&&(n=null),Y(i)&&(i=!1),r=r||{};var o=e.getInverse();if(U(t))return t in o?o[t]["@none"]["@type"]["@none"]:t;if(r.vocab&&t in o){var a=e["@language"]||"@none",s=[];F(n)&&"@index"in n&&s.push("@index");var u="@language",l="@null";if(i)u="@type",l="@reverse",s.push("@set");else if(J(n)){"@index"in n||s.push("@list");for(var c=n["@list"],d=0===c.length?a:null,p=null,h=0;h<c.length;++h){var f=c[h],v="@none",g="@none";if(K(f)?"@language"in f?v=f["@language"]:"@type"in f?g=f["@type"]:v="@null":g="@id",null===d?d=v:v!==d&&K(f)&&(d="@none"),null===p?p=g:g!==p&&(p="@none"),"@none"===d&&"@none"===p)break}d=d||"@none",p=p||"@none","@none"!==p?(u="@type",l=p):l=d}else K(n)?"@language"in n&&!("@index"in n)?(s.push("@language"),l=n["@language"]):"@type"in n&&(u="@type",l=n["@type"]):(u="@type",l="@id"),s.push("@set");s.push("@none");var m=k(e,t,n,s,u,l);if(null!==m)return m}if(r.vocab&&"@vocab"in e){var y=e["@vocab"];if(0===t.indexOf(y)&&t!==y){var b=t.substr(y.length);if(!(b in e.mappings))return b}}for(var w=null,x=0,_=[],E=e.fastCurieMap,T=t.length-1;x<T&&t[x]in E;++x)E=E[t[x]],""in E&&_.push(E[""][0]);for(var h=_.length-1;h>=0;--h)for(var C=_[h],N=C.terms,R=0;R<N.length;++R){var I=N[R]+":"+t.substr(C.iri.length),O=!(I in e.mappings)||null===n&&e.mappings[I]["@id"]===t;O&&(null===w||S(I,w)<0)&&(w=I)}return null!==w?w:r.vocab?t:L(e["@base"],t)}function P(t,n,r){if(K(r)){var i=e.getContextValue(t,n,"@type"),o=e.getContextValue(t,n,"@language"),a=e.getContextValue(t,n,"@container"),s="@index"in r&&"@index"!==a;if(!s&&(r["@type"]===i||r["@language"]===o))return r["@value"];var u=Object.keys(r).length,l=1===u||2===u&&"@index"in r&&!s,c="@language"in t,d=V(r["@value"]),p=t.mappings[n]&&null===t.mappings[n]["@language"];if(l&&(!c||!d||p))return r["@value"];var h={};return s&&(h[O(t,"@index")]=r["@index"]),"@type"in r?h[O(t,"@type")]=O(t,r["@type"],null,{vocab:!0}):"@language"in r&&(h[O(t,"@language")]=r["@language"]),h[O(t,"@value")]=r["@value"],h}var f=D(t,n,{vocab:!0}),i=e.getContextValue(t,n,"@type"),v=O(t,r["@id"],null,{vocab:"@vocab"===i});if("@id"===i||"@vocab"===i||"@graph"===f)return v;var h={};return h[O(t,"@id")]=v,h}function A(e,t,n,r){if(n in r){if(r[n])return;throw new Ae("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}if(r[n]=!1,U(n))throw new Ae("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(""===n)throw new Ae("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});e.mappings[n]&&delete e.mappings[n];var i=t[n];if(null===i||F(i)&&null===i["@id"])return e.mappings[n]=null,void(r[n]=!0);if(V(i)&&(i={"@id":i}),!F(i))throw new Ae("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});var o=e.mappings[n]={};if(o.reverse=!1,"@reverse"in i){if("@id"in i)throw new Ae("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});var a=i["@reverse"];if(!V(a))throw new Ae("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});var s=D(e,a,{vocab:!0,base:!1},t,r);if(!ee(s))throw new Ae("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});o["@id"]=s,o.reverse=!0}else if("@id"in i){var s=i["@id"];if(!V(s))throw new Ae("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(s!==n){if(s=D(e,s,{vocab:!0,base:!1},t,r),!ee(s)&&!U(s))throw new Ae("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});o["@id"]=s}}var u=n.indexOf(":");if(o._termHasColon=u!==-1,!("@id"in o))if(o._termHasColon){var l=n.substr(0,u);if(l in t&&A(e,t,l,r),e.mappings[l]){var c=n.substr(u+1);o["@id"]=e.mappings[l]["@id"]+c}else o["@id"]=n}else{if(!("@vocab"in e))throw new Ae("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});o["@id"]=e["@vocab"]+n}if(r[n]=!0,"@type"in i){var d=i["@type"];if(!V(d))throw new Ae("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==d&&"@vocab"!==d){if(d=D(e,d,{vocab:!0,base:!1},t,r),!ee(d))throw new Ae("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===d.indexOf("_:"))throw new Ae("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}o["@type"]=d}if("@container"in i){var p=i["@container"];if("@list"!==p&&"@set"!==p&&"@index"!==p&&"@language"!==p)throw new Ae("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(o.reverse&&"@index"!==p&&"@set"!==p&&null!==p)throw new Ae("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});o["@container"]=p}if("@language"in i&&!("@type"in i)){var h=i["@language"];if(null!==h&&!V(h))throw new Ae("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==h&&(h=h.toLowerCase()),o["@language"]=h}
// disallow aliasing @context and @preserve
var s=o["@id"];if("@context"===s||"@preserve"===s)throw new Ae("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}function D(t,n,r,i,o){if(null===n||U(n))return n;if(n=String(n),i&&n in i&&o[n]!==!0&&A(t,i,n,o),r=r||{},r.vocab){var a=t.mappings[n];if(null===a)return null;if(a)return a["@id"]}var s=n.indexOf(":");if(s!==-1){var u=n.substr(0,s),l=n.substr(s+1);if("_"===u||0===l.indexOf("//"))return n;i&&u in i&&A(t,i,u,o);var a=t.mappings[u];return a?a["@id"]+l:n}if(r.vocab&&"@vocab"in t)return t["@vocab"]+n;var c=n;return r.base&&(c=e.prependBase(t["@base"],c)),c}function M(t,n){if(null===t)return n;if(n.indexOf(":")!==-1)return n;V(t)&&(t=e.url.parse(t||""));var r=e.url.parse(n),i={protocol:t.protocol||""};if(null!==r.authority)i.authority=r.authority,i.path=r.path,i.query=r.query;else if(i.authority=t.authority,""===r.path)i.path=t.path,null!==r.query?i.query=r.query:i.query=t.query;else{if(0===r.path.indexOf("/"))i.path=r.path;else{var o=t.path;""!==r.path&&(o=o.substr(0,o.lastIndexOf("/")+1),o.length>0&&"/"!==o.substr(-1)&&(o+="/"),o+=r.path),i.path=o}i.query=r.query}i.path=le(i.path,!!i.authority);var a=i.protocol;return null!==i.authority&&(a+="//"+i.authority),a+=i.path,null!==i.query&&(a+="?"+i.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a}function L(t,n){if(null===t)return n;V(t)&&(t=e.url.parse(t||""));var r="";if(""!==t.href?r+=(t.protocol||"")+"//"+(t.authority||""):n.indexOf("//")&&(r+="//"),0!==n.indexOf(r))return n;for(var i=e.url.parse(n.substr(r.length)),o=t.normalizedPath.split("/"),a=i.normalizedPath.split("/"),s=i.fragment||i.query?0:1;o.length>0&&a.length>s&&o[0]===a[0];)o.shift(),a.shift();var u="";if(o.length>0){o.pop();for(var l=0;l<o.length;++l)u+="../"}return u+=a.join("/"),null!==i.query&&(u+="?"+i.query),null!==i.fragment&&(u+="#"+i.fragment),""===u&&(u="./"),u}function j(t){function n(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},n=e.fastCurieMap={},o={},a=e["@language"]||"@none",s=e.mappings,u=Object.keys(s).sort(S),l=0;l<u.length;++l){var c=u[l],d=s[c];if(null!==d){var p=d["@container"]||"@none",h=d["@id"];q(h)||(h=[h]);for(var f=0;f<h.length;++f){var v=h[f],g=t[v],m=U(v);if(g)m||d._termHasColon||o[v].push(c);else if(t[v]=g={},!m&&!d._termHasColon){o[v]=[c];var y={iri:v,terms:o[v]};v[0]in n?n[v[0]].push(y):n[v[0]]=[y]}if(g[p]||(g[p]={"@language":{},"@type":{}}),g=g[p],d.reverse)i(d,c,g["@type"],"@reverse");else if("@type"in d)i(d,c,g["@type"],d["@type"]);else if("@language"in d){var b=d["@language"]||"@null";i(d,c,g["@language"],b)}else i(d,c,g["@language"],a),i(d,c,g["@type"],"@none"),i(d,c,g["@language"],"@none")}}}for(var w in n)r(n,w,1);return t}function r(e,t,n){for(var i,o,a=e[t],s=e[t]={},u=0;u<a.length;++u)i=a[u].iri,o=n>=i.length?"":i[n],o in s?s[o].push(a[u]):s[o]=[a[u]];for(var t in s)""!==t&&r(s,t,n+1)}function i(e,t,n,r){r in n||(n[r]=t)}function o(){var e={};return e["@base"]=this["@base"],e.mappings=te(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}var a=e.url.parse(t.base||"");return{"@base":a,mappings:{},inverse:null,getInverse:n,clone:o}}function U(e){if(!V(e))return!1;switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return!0}return!1}function F(e){return"[object Object]"===Object.prototype.toString.call(e)}function B(e){return F(e)&&0===Object.keys(e).length}function q(e){return Array.isArray(e)}function H(e){if(!V(e)&&!B(e)){var t=!1;if(q(e)){t=!0;for(var n=0;n<e.length;++n)if(!V(e[n])){t=!1;break}}if(!t)throw new Ae('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}}function V(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}function z(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function W(e){return z(e)&&String(e).indexOf(".")!==-1}function X(e){return!isNaN(parseFloat(e))&&isFinite(e)}function G(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)}function Y(e){return"undefined"==typeof e}function Q(e){var t=!1;if(F(e)&&!("@value"in e||"@set"in e||"@list"in e)){var n=Object.keys(e).length;t=n>1||!("@id"in e)}return t}function $(e){return F(e)&&1===Object.keys(e).length&&"@id"in e}function K(e){return F(e)&&"@value"in e}function J(e){return F(e)&&"@list"in e}function Z(e){var t=!1;return F(e)&&(t="@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)),t}function ee(e){return V(e)&&e.indexOf(":")!==-1}function te(e){if(e&&"object"==typeof e){var t;if(q(e)){t=[];for(var n=0;n<e.length;++n)t[n]=te(e[n])}else if(F(e)){t={};for(var r in e)t[r]=te(e[r])}else t=e.toString();return t}return e}function ne(t,n,r,i){var o=Object.keys(n).length;if(q(t)){for(var a=0;a<t.length;++a)ne(t[a],n,r,i);return o<Object.keys(n).length}if(F(t)){for(var s in t)if("@context"===s){var u=t[s];if(q(u))for(var l=u.length,a=0;a<l;++a){var c=u[a];V(c)&&(c=e.prependBase(i,c),r?(c=n[c],q(c)?(Array.prototype.splice.apply(u,[a,1].concat(c)),a+=c.length-1,l=u.length):u[a]=c):c in n||(n[c]=!1))}else V(u)&&(u=e.prependBase(i,u),r?t[s]=n[u]:u in n||(n[u]=!1))}else ne(t[s],n,r,i);return o<Object.keys(n).length}return!1}function re(e,t,n){var r=null,i=t.documentLoader,o=function(e,t,n,i,a){if(Object.keys(t).length>Pe)return r=new Ae("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:Pe}),a(r);var s={},u=function(){ne(e,s,!0,i),a(null,e)};ne(e,s,!1,i)||u();var l=[];for(var c in s)s[c]===!1&&l.push(c);for(var d=l.length,p=0;p<l.length;++p)!function(e){if(e in t)return r=new Ae("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:e}),a(r);var i=te(t);i[e]=!0;var l=function(t,l){if(!r){var c=l?l.document:null;if(!t&&V(c))try{c=JSON.parse(c)}catch(p){t=p}if(t?t=new Ae("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t}):F(c)||(t=new Ae("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:e,cause:t})),t)return r=t,a(r);c="@context"in c?{"@context":c["@context"]}:{"@context":{}},l.contextUrl&&(q(c["@context"])||(c["@context"]=[c["@context"]]),c["@context"].push(l.contextUrl)),o(c,i,n,e,function(t,n){return t?a(t):(s[e]=n["@context"],d-=1,void(0===d&&u()))})}},c=n(e,l);c&&"then"in c&&c.then(l.bind(null,null),l)}(l[p])};o(e,{},i,t.base,n)}function ie(e){for(var t="(?:<([^:]+:[^>]*)>)",n="(_:(?:[A-Za-z0-9]+))",r='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',i="(?:\\^\\^"+t+")",o="(?:@([a-z]+(?:-[a-z0-9]+)*))",a="(?:"+r+"(?:"+i+"|"+o+")?)",s="(?:#.*)?",u="[ \\t]+",l="[ \\t]*",c=/(?:\r\n)|(?:\n)|(?:\r)/g,d=new RegExp("^"+l+s+"$"),p="(?:"+t+"|"+n+")"+u,h=t+u,f="(?:"+t+"|"+n+"|"+a+")"+l,v="(?:\\.|(?:(?:"+t+"|"+n+")"+l+"\\.))",m=new RegExp("^"+l+p+h+f+v+l+s+"$"),y={},b=e.split(c),w=0,x=0;x<b.length;++x){var _=b[x];if(w++,!d.test(_)){var E=_.match(m);if(null===E)throw new Ae("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:w});var T={};if(Y(E[1])?T.subject={type:"blank node",value:E[2]}:T.subject={type:"IRI",value:E[1]},T.predicate={type:"IRI",value:E[3]},Y(E[4]))if(Y(E[5])){T.object={type:"literal"},Y(E[7])?Y(E[8])?T.object.datatype=we:(T.object.datatype=ke,T.object.language=E[8]):T.object.datatype=E[7];var C=E[6].replace(/\\"/g,'"').replace(/\\t/g,"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");T.object.value=C}else T.object={type:"blank node",value:E[5]};else T.object={type:"IRI",value:E[4]};var N="@default";if(Y(E[9])?Y(E[10])||(N=E[10]):N=E[9],N in y){for(var R=!0,I=y[N],S=0;R&&S<I.length;++S)g(I[S],T)&&(R=!1);R&&I.push(T)}else y[N]=[T]}}return y}function oe(e){var t=[];for(var n in e)for(var r=e[n],i=0;i<r.length;++i){var o=r[i];"@default"===n&&(n=null),t.push(ae(o,n))}return t.sort().join("")}function ae(e,t){var n=e.subject,r=e.predicate,i=e.object,o=t||null;"name"in e&&e.name&&(o=e.name.value);var a="";if(a+="IRI"===n.type?"<"+n.value+">":n.value,a+=" ",a+="IRI"===r.type?"<"+r.value+">":r.value,a+=" ","IRI"===i.type)a+="<"+i.value+">";else if("blank node"===i.type)a+=i.value;else{var s=i.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');a+='"'+s+'"',i.datatype===ke?i.language&&(a+="@"+i.language):i.datatype!==we&&(a+="^^<"+i.datatype+">")}return null!==o&&void 0!==o&&(a+=0!==o.indexOf("_:")?" <"+o+">":" "+o),a+=" .\n"}function se(e){var t={};t["@default"]=[];for(var n=e.getSubjects(),r=0;r<n.length;++r){var i=n[r];if(null!==i){var o=e.getSubjectTriples(i);if(null!==o){var a=o.predicates;for(var s in a)for(var u=a[s].objects,l=0;l<u.length;++l){var c=u[l],d={};0===i.indexOf("_:")?d.subject={type:"blank node",value:i}:d.subject={type:"IRI",value:i},0===s.indexOf("_:")?d.predicate={type:"blank node",value:s}:d.predicate={type:"IRI",value:s};var p=c.value;if(c.type===Ie){ve||Fe();var h=new ve;p="";for(var f=0;f<c.value.length;f++)c.value[f].nodeType===ge.ELEMENT_NODE?p+=h.serializeToString(c.value[f]):c.value[f].nodeType===ge.TEXT_NODE&&(p+=c.value[f].nodeValue)}d.object={},c.type===Se?0===c.value.indexOf("_:")?d.object.type="blank node":d.object.type="IRI":(d.object.type="literal",c.type===Re?c.language?(d.object.datatype=ke,d.object.language=c.language):d.object.datatype=we:d.object.datatype=c.type),d.object.value=p,t["@default"].push(d)}}}}return t}function ue(e){this.prefix=e,this.counter=0,this.existing={}}function le(e,t){var n="";0===e.indexOf("/")&&(n="/");for(var r=e.split("/"),i=[];r.length>0;)"."===r[0]||""===r[0]&&r.length>1?r.shift():".."!==r[0]?i.push(r.shift()):(r.shift(),t||i.length>0&&".."!==i[i.length-1]?i.pop():i.push(".."));return n+i.join("/")}e.compact=function(t,n,r,i){function o(e,t,r,o){if(e)return i(e);o.compactArrays&&!o.graph&&q(t)?1===t.length?t=t[0]:0===t.length&&(t={}):o.graph&&F(t)&&(t=[t]),F(n)&&"@context"in n&&(n=n["@context"]),n=te(n),q(n)||(n=[n]);var a=n;n=[];for(var s=0;s<a.length;++s)(!F(a[s])||Object.keys(a[s]).length>0)&&n.push(a[s]);var u=n.length>0;if(1===n.length&&(n=n[0]),q(t)){var l=O(r,"@graph"),c=t;t={},u&&(t["@context"]=n),t[l]=c}else if(F(t)&&u){var c=t;t={"@context":n};for(var d in c)t[d]=c[d]}i(null,t,r)}if(arguments.length<2)return e.nextTick(function(){i(new TypeError("Could not compact, too few arguments."))});if("function"==typeof r&&(i=r,r={}),r=r||{},null===n)return e.nextTick(function(){i(new Ae("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===t)return e.nextTick(function(){i(null,null)});"base"in r||(r.base="string"==typeof t?t:""),"compactArrays"in r||(r.compactArrays=!0),"graph"in r||(r.graph=!1),"skipExpansion"in r||(r.skipExpansion=!1),"documentLoader"in r||(r.documentLoader=e.loadDocument),"link"in r||(r.link=!1),r.link&&(r.skipExpansion=!0);var a=function(t,n,r){return n.skipExpansion?e.nextTick(function(){r(null,t)}):void e.expand(t,n,r)};a(t,r,function(t,a){if(t)return i(new Ae("Could not expand input before compaction.","jsonld.CompactError",{cause:t}));var s=j(r);e.processContext(s,n,r,function(e,t){if(e)return i(new Ae("Could not process context before compaction.","jsonld.CompactError",{cause:e}));var n;try{n=(new De).compact(t,null,a,r)}catch(s){return i(s)}o(null,n,t,r)})})},e.expand=function(t,n,r){function i(e){"base"in n||(n.base=e.documentUrl||"");var t={document:te(e.document),remoteContext:{"@context":e.contextUrl}};if("expandContext"in n){var i=te(n.expandContext);"object"==typeof i&&"@context"in i?t.expandContext=i:t.expandContext={"@context":i}}re(t,n,function(e,t){if(e)return r(e);var i;try{var o=new De,a=j(n),s=t.document,u=t.remoteContext["@context"];t.expandContext&&(a=o.processContext(a,t.expandContext["@context"],n)),u&&(a=o.processContext(a,u,n)),i=o.expand(a,null,s,n,!1),F(i)&&"@graph"in i&&1===Object.keys(i).length?i=i["@graph"]:null===i&&(i=[]),q(i)||(i=[i])}catch(l){return r(l)}r(null,i)})}return arguments.length<1?e.nextTick(function(){r(new TypeError("Could not expand, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"documentLoader"in n||(n.documentLoader=e.loadDocument),"keepFreeFloatingNodes"in n||(n.keepFreeFloatingNodes=!1),void e.nextTick(function(){if("string"==typeof t){var e=function(e,t){if(e)return r(e);try{if(!t.document)throw new Ae("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof t.document&&(t.document=JSON.parse(t.document))}catch(n){return r(new Ae("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:n,remoteDoc:t}))}i(t)},o=n.documentLoader(t,e);return void(o&&"then"in o&&o.then(e.bind(null,null),e))}i({contextUrl:null,documentUrl:null,document:t})}))},e.flatten=function(t,n,r,i){return arguments.length<1?e.nextTick(function(){i(new TypeError("Could not flatten, too few arguments."))}):("function"==typeof r?(i=r,r={}):"function"==typeof n&&(i=n,n=null,r={}),r=r||{},"base"in r||(r.base="string"==typeof t?t:""),"documentLoader"in r||(r.documentLoader=e.loadDocument),void e.expand(t,r,function(t,o){if(t)return i(new Ae("Could not expand input before flattening.","jsonld.FlattenError",{cause:t}));var a;try{a=(new De).flatten(o)}catch(s){return i(s)}return null===n?i(null,a):(r.graph=!0,r.skipExpansion=!0,void e.compact(a,n,r,function(e,t){return e?i(new Ae("Could not compact flattened output.","jsonld.FlattenError",{cause:e})):void i(null,t)}))}))},e.frame=function(t,n,r,i){function o(n){var o,a=n.document;a?(o=a["@context"],n.contextUrl?(o?q(o)?o.push(n.contextUrl):o=[o,n.contextUrl]:o=n.contextUrl,a["@context"]=o):o=o||{}):o={},e.expand(t,r,function(t,n){if(t)return i(new Ae("Could not expand input before framing.","jsonld.FrameError",{cause:t}));var s=te(r);s.isFrame=!0,s.keepFreeFloatingNodes=!0,e.expand(a,s,function(t,r){if(t)return i(new Ae("Could not expand frame before framing.","jsonld.FrameError",{cause:t}));var a;try{a=(new De).frame(n,r,s)}catch(u){return i(u)}s.graph=!0,s.skipExpansion=!0,s.link={},e.compact(a,o,s,function(e,t,n){if(e)return i(new Ae("Could not compact framed output.","jsonld.FrameError",{cause:e}));var r=O(n,"@graph");
// remove @preserve from results
s.link={},t[r]=I(n,t[r],s),i(null,t)})})})}return arguments.length<2?e.nextTick(function(){i(new TypeError("Could not frame, too few arguments."))}):("function"==typeof r&&(i=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof t?t:""),"documentLoader"in r||(r.documentLoader=e.loadDocument),"embed"in r||(r.embed="@last"),r.explicit=r.explicit||!1,"requireAll"in r||(r.requireAll=!0),r.omitDefault=r.omitDefault||!1,void e.nextTick(function(){if("string"==typeof n){var e=function(e,t){if(e)return i(e);try{if(!t.document)throw new Ae("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof t.document&&(t.document=JSON.parse(t.document))}catch(n){return i(new Ae("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:n,remoteDoc:t}))}o(t)},t=r.documentLoader(n,e);return void(t&&"then"in t&&t.then(e.bind(null,null),e))}o({contextUrl:null,documentUrl:null,document:n})}))},e.link=function(t,n,r,i){var o={};n&&(o["@context"]=n),o["@embed"]="@link",e.frame(t,o,r,i)},e.objectify=function(t,n,r,i){"function"==typeof r&&(i=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof t?t:""),"documentLoader"in r||(r.documentLoader=e.loadDocument),e.expand(t,r,function(t,o){if(t)return i(new Ae("Could not expand input before linking.","jsonld.LinkError",{cause:t}));var a;try{a=(new De).flatten(o)}catch(s){return i(s)}r.graph=!0,r.skipExpansion=!0,e.compact(a,n,r,function(t,n,r){if(t)return i(new Ae("Could not compact flattened output before linking.","jsonld.LinkError",{cause:t}));var o=O(r,"@graph"),a=n[o][0],s=function(t){if(F(t)||q(t)){if(F(t)){if(s.visited[t["@id"]])return;s.visited[t["@id"]]=!0}for(var n in t){var i=t[n],o="@id"===e.getContextValue(r,n,"@type");if(q(i)||F(i)||o)if(V(i)&&o)t[n]=i=a[i],s(i);else if(q(i))for(var u=0;u<i.length;++u)V(i[u])&&o?i[u]=a[i[u]]:F(i[u])&&"@id"in i[u]&&(i[u]=a[i[u]["@id"]]),s(i[u]);else if(F(i)){var l=i["@id"];t[n]=i=a[l],s(i)}}}};s.visited={},s(a),n.of_type={};for(var u in a)if("@type"in a[u]){var l=a[u]["@type"];q(l)||(l=[l]);for(var c=0;c<l.length;++c)l[c]in n.of_type||(n.of_type[l[c]]=[]),n.of_type[l[c]].push(a[u])}i(null,n)})})},e.normalize=function(t,n,r){if(arguments.length<1)return e.nextTick(function(){r(new TypeError("Could not normalize, too few arguments."))});if("function"==typeof n&&(r=n,n={}),n=n||{},"algorithm"in n||(n.algorithm="URGNA2012"),"base"in n||(n.base="string"==typeof t?t:""),"documentLoader"in n||(n.documentLoader=e.loadDocument),"inputFormat"in n){if("application/nquads"!==n.inputFormat)return r(new Ae("Unknown normalization input format.","jsonld.NormalizeError"));var i=ie(t);(new De).normalize(i,n,r)}else{var o=te(n);delete o.format,o.produceGeneralizedRdf=!1,e.toRDF(t,o,function(e,t){return e?r(new Ae("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:e})):void(new De).normalize(t,n,r)})}},e.fromRDF=function(t,n,r){return arguments.length<1?e.nextTick(function(){r(new TypeError("Could not convert from RDF, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"useRdfType"in n||(n.useRdfType=!1),"useNativeTypes"in n||(n.useNativeTypes=!1),"format"in n||!V(t)||"format"in n||(n.format="application/nquads"),void e.nextTick(function(){function e(e,t,n){(new De).fromRDF(e,t,n)}var i;if(n.format){if(i=n.rdfParser||fe[n.format],!i)return r(new Ae("Unknown input format.","jsonld.UnknownFormat",{format:n.format}))}else i=function(){return t};var o=!1;try{t=i(t,function(t,i){return o=!0,t?r(t):void e(i,n,r)})}catch(a){if(!o)return r(a);throw a}if(t){if("then"in t)return t.then(function(t){e(t,n,r)},r);e(t,n,r)}}))},e.toRDF=function(t,n,r){return arguments.length<1?e.nextTick(function(){r(new TypeError("Could not convert to RDF, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof t?t:""),"documentLoader"in n||(n.documentLoader=e.loadDocument),void e.expand(t,n,function(e,t){if(e)return r(new Ae("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:e}));var i;try{if(i=De.prototype.toRDF(t,n),n.format){if("application/nquads"===n.format)return r(null,oe(i));throw new Ae("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}}catch(o){return r(o)}r(null,i)}))},e.createNodeMap=function(t,n,r){return arguments.length<1?e.nextTick(function(){r(new TypeError("Could not create node map, too few arguments."))}):("function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof t?t:""),"documentLoader"in n||(n.documentLoader=e.loadDocument),void e.expand(t,n,function(e,t){if(e)return r(new Ae("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:e}));var i;try{i=(new De).createNodeMap(t,n)}catch(o){return r(o)}r(null,i)}))},e.merge=function(t,n,r,i){function o(e,t){if(!u){if(e)return u=e,i(new Ae("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}));s.push(t),0===--l&&a(s)}}function a(t){var o=!0;"mergeNodes"in r&&(o=r.mergeNodes);var a,s=r.namer||r.issuer||new ue("_:b"),u={"@default":{}};try{for(var l=0;l<t.length;++l){var c=t[l];c=e.relabelBlankNodes(c,{issuer:new ue("_:b"+l+"-")});var d=o||0===l?u:{"@default":{}};if(m(c,d,"@default",s),d!==u)for(var p in d){var h=d[p];if(p in u){var f=u[p];for(var v in h)v in f||(f[v]=h[v])}else u[p]=h}}a=y(u)}catch(g){return i(g)}for(var b=[],w=Object.keys(a).sort(),x=0;x<w.length;++x){var _=a[w[x]];$(_)||b.push(_)}return null===n?i(null,b):(r.graph=!0,r.skipExpansion=!0,void e.compact(b,n,r,function(e,t){return e?i(new Ae("Could not compact merged output.","jsonld.MergeError",{cause:e})):void i(null,t)}))}if(arguments.length<1)return e.nextTick(function(){i(new TypeError("Could not merge, too few arguments."))});if(!q(t))return e.nextTick(function(){i(new TypeError('Could not merge, "docs" must be an array.'))});"function"==typeof r?(i=r,r={}):"function"==typeof n&&(i=n,n=null,r={}),r=r||{};for(var s=[],u=null,l=t.length,c=0;c<t.length;++c){var d={};for(var p in r)d[p]=r[p];e.expand(t[c],d,o)}},e.relabelBlankNodes=function(e,t){t=t||{};var n=t.namer||t.issuer||new ue("_:b");return i(n,e)},e.prependBase=function(e,t){return M(e,t)},e.documentLoader=function(t,n){var r=new Ae("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return l?n(r,{contextUrl:null,documentUrl:t,document:null}):e.promisify(function(e){e(r)})},e.loadDocument=function(t,n){var r=e.documentLoader(t,n);r&&"then"in r&&r.then(n.bind(null,null),n)},e.promises=function(t){t=t||{};var r=Array.prototype.slice,i=e.promisify,o=t.api||{},s=t.version||"jsonld.js";"string"==typeof t.api&&(t.version||(s=t.api),o={}),o.expand=function(t){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");return i.apply(null,[e.expand].concat(r.call(arguments)))},o.compact=function(t,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");var o=function(t,n,r,i){e.compact(t,n,r,function(e,t){i(e,t)})};return i.apply(null,[o].concat(r.call(arguments)))},o.flatten=function(t){if(arguments.length<1)throw new TypeError("Could not flatten, too few arguments.");return i.apply(null,[e.flatten].concat(r.call(arguments)))},o.frame=function(t,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");return i.apply(null,[e.frame].concat(r.call(arguments)))},o.fromRDF=function(t){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");return i.apply(null,[e.fromRDF].concat(r.call(arguments)))},o.toRDF=function(t){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");return i.apply(null,[e.toRDF].concat(r.call(arguments)))},o.normalize=function(t){if(arguments.length<1)throw new TypeError("Could not normalize, too few arguments.");return i.apply(null,[e.normalize].concat(r.call(arguments)))},"jsonld.js"===s&&(o.link=function(t,n){if(arguments.length<2)throw new TypeError("Could not link, too few arguments.");return i.apply(null,[e.link].concat(r.call(arguments)))},o.objectify=function(t){return i.apply(null,[e.objectify].concat(r.call(arguments)))},o.createNodeMap=function(t){return i.apply(null,[e.createNodeMap].concat(r.call(arguments)))},o.merge=function(t){return i.apply(null,[e.merge].concat(r.call(arguments)))});try{e.Promise=a.Promise||n(201).Promise}catch(u){var l=function(){throw new Error("Unable to find a Promise implementation.")};for(var c in o)o[c]=l}return o},e.promisify=function(t){if(!e.Promise)try{e.Promise=a.Promise||n(201).Promise}catch(r){throw new Error("Unable to find a Promise implementation.")}var i=Array.prototype.slice.call(arguments,1);return new e.Promise(function(e,n){t.apply(null,i.concat(function(t,r){t?n(t):e(r)}))})},e.promises({api:e.promises}),t.prototype=e.promises({version:"json-ld-1.0"}),t.prototype.toString=function(){return this instanceof t?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"},e.JsonLdProcessor=t;var ce=!!Object.defineProperty;if(ce)try{Object.defineProperty({},"x",{})}catch(de){ce=!1}ce&&(Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t})),c&&"undefined"==typeof a.JsonLdProcessor&&(ce?Object.defineProperty(a,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t}):a.JsonLdProcessor=t);var pe="function"==typeof s&&s,he=pe?function(e){pe(e)}:function(e){setTimeout(e,0)};"object"==typeof o&&"function"==typeof o.nextTick?e.nextTick=o.nextTick:e.nextTick=he,e.setImmediate=pe?he:e.nextTick,e.parseLinkHeader=function(e){for(var t={},n=e.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g),r=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,i=0;i<n.length;++i){var o=n[i].match(r);if(o){for(var a={target:o[1]},s=o[2],u=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;o=u.exec(s);)a[o[1]]=void 0===o[2]?o[3]:o[2];var l=a.rel||"";q(t[l])?t[l].push(a):l in t?t[l]=[t[l],a]:t[l]=a}}return t},e.RequestQueue=function(){this._requests={}},e.RequestQueue.prototype.wrapLoader=function(e){return this._loader=e,this._usePromise=1===e.length,this.add.bind(this)},e.RequestQueue.prototype.add=function(t,n){var r=this;if(!n&&!r._usePromise)throw new Error("callback must be specified.");return r._usePromise?new e.Promise(function(e,n){var i=r._requests[t];i||(i=r._requests[t]=r._loader(t).then(function(e){return delete r._requests[t],e})["catch"](function(e){throw delete r._requests[t],e})),i.then(function(t){e(t)})["catch"](function(e){n(e)})}):void(t in r._requests?r._requests[t].push(n):(r._requests[t]=[n],r._loader(t,function(e,n){var i=r._requests[t];delete r._requests[t];for(var o=0;o<i.length;++o)i[o](e,n)})))},e.DocumentCache=function(e){this.order=[],this.cache={},this.size=e||50,this.expires=3e4},e.DocumentCache.prototype.get=function(e){if(e in this.cache){var t=this.cache[e];if(t.expires>=+new Date)return t.ctx;delete this.cache[e],this.order.splice(this.order.indexOf(e),1)}return null},e.DocumentCache.prototype.set=function(e,t){this.order.length===this.size&&delete this.cache[this.order.shift()],this.order.push(e),this.cache[e]={ctx:t,expires:+new Date+this.expires}},e.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},e.ActiveContextCache.prototype.get=function(e,t){var n=JSON.stringify(e),r=JSON.stringify(t),i=this.cache[n];return i&&r in i?i[r]:null},e.ActiveContextCache.prototype.set=function(e,t,n){if(this.order.length===this.size){var r=this.order.shift();delete this.cache[r.activeCtx][r.localCtx]}var i=JSON.stringify(e),o=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:o}),i in this.cache||(this.cache[i]={}),this.cache[i][o]=te(n)},e.cache={activeCtx:new e.ActiveContextCache},e.documentLoaders={},e.documentLoaders.jquery=function(t,n){function r(r,i){return 0!==r.indexOf("http:")&&0!==r.indexOf("https:")?i(new Ae('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null}):n.secure&&0!==r.indexOf("https")?i(new Ae('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null}):void t.ajax({url:r,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(t,n,o){var a={contextUrl:null,documentUrl:r,document:t},s=o.getResponseHeader("Content-Type"),u=o.getResponseHeader("Link");if(u&&"application/ld+json"!==s){if(u=e.parseLinkHeader(u)[Oe],q(u))return i(new Ae("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r}),a);u&&(a.contextUrl=u.target)}i(null,a)},error:function(e,t,n){i(new Ae("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:n}),{contextUrl:null,documentUrl:r,document:null})}})}n=n||{};var i=new e.RequestQueue,o="usePromise"in n?n.usePromise:"undefined"!=typeof Promise;return o?i.wrapLoader(function(t){return e.promisify(r,t)}):i.wrapLoader(r)},e.documentLoaders.node=function(t){function r(n,l,c){function d(t,i,a){if(p={contextUrl:null,documentUrl:n,document:a||null},t)return c(new Ae("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:t}),p);var s=u.STATUS_CODES[i.statusCode];if(i.statusCode>=400)return c(new Ae("URL could not be dereferenced: "+s,"jsonld.InvalidUrl",{code:"loading document failed",url:n,httpStatusCode:i.statusCode}),p);if(i.headers.link&&"application/ld+json"!==i.headers["content-type"]){var d=e.parseLinkHeader(i.headers.link)[Oe];if(q(d))return c(new Ae("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),p);d&&(p.contextUrl=d.target)}return i.statusCode>=300&&i.statusCode<400&&i.headers.location?l.length===o?c(new Ae("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:n,httpStatusCode:i.statusCode,redirects:l}),p):l.indexOf(n)!==-1?c(new Ae("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:n,httpStatusCode:i.statusCode,redirects:l}),p):(l.push(n),r(i.headers.location,l,c)):(l.push(n),void c(t,p))}if(0!==n.indexOf("http:")&&0!==n.indexOf("https:"))return c(new Ae('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});if(t.secure&&0!==n.indexOf("https"))return c(new Ae('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});var p=null;if(null!==p)return c(null,p);var h={Accept:s};for(var f in t.headers)h[f]=t.headers[f];a({url:n,headers:h,strictSSL:i,followRedirect:!1},d)}t=t||{};var i=!("strictSSL"in t)||t.strictSSL,o="maxRedirects"in t?t.maxRedirects:-1,a="request"in t?t.request:n(204),s="application/ld+json, application/json",u=n(204),l=new e.RequestQueue;if(t.usePromise)return l.wrapLoader(function(t){return e.promisify(r,t,[])});var c=t.headers||{};if("Accept"in c||"accept"in c)throw new RangeError('Accept header may not be specified as an option; only "'+s+'" is supported.');return l.wrapLoader(function(e,t){r(e,[],t)})},e.documentLoaders.xhr=function(t){function n(n,i){if(0!==n.indexOf("http:")&&0!==n.indexOf("https:"))return i(new Ae('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});if(t.secure&&0!==n.indexOf("https"))return i(new Ae('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});var o=t.xhr||XMLHttpRequest,a=new o;a.onload=function(){if(a.status>=400)return i(new Ae("URL could not be dereferenced: "+a.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:a.status}),{contextUrl:null,documentUrl:n,document:null});var t,o={contextUrl:null,documentUrl:n,document:a.response},s=a.getResponseHeader("Content-Type");if(r.test(a.getAllResponseHeaders())&&(t=a.getResponseHeader("Link")),t&&"application/ld+json"!==s){if(t=e.parseLinkHeader(t)[Oe],q(t))return i(new Ae("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),o);t&&(o.contextUrl=t.target)}i(null,o)},a.onerror=function(){i(new Ae("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})},a.open("GET",n,!0),a.setRequestHeader("Accept","application/ld+json, application/json"),a.send()}t=t||{};var r=/(^|(\r\n))link:/i,i=new e.RequestQueue,o="usePromise"in t?t.usePromise:"undefined"!=typeof Promise;return o?i.wrapLoader(function(t){return e.promisify(n,t)}):i.wrapLoader(n)},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new Ae('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.processContext=function(t,n){var r={},i=2;arguments.length>3&&(r=arguments[2]||{},i+=1);var o=arguments[i];return"base"in r||(r.base=""),"documentLoader"in r||(r.documentLoader=e.loadDocument),null===n?o(null,j(r)):(n=te(n),F(n)&&"@context"in n||(n={"@context":n}),void re(n,r,function(e,n){if(e)return o(e);try{n=(new De).processContext(t,n,r)}catch(i){return o(i)}o(null,n)}))},e.hasProperty=function(e,t){var n=!1;if(t in e){var r=e[t];n=!q(r)||r.length>0}return n},e.hasValue=function(t,n,r){var i=!1;if(e.hasProperty(t,n)){var o=t[n],a=J(o);if(q(o)||a){a&&(o=o["@list"]);for(var s=0;s<o.length;++s)if(e.compareValues(r,o[s])){i=!0;break}}else q(r)||(i=e.compareValues(r,o))}return i},e.addValue=function(t,n,r,i){if(i=i||{},"propertyIsArray"in i||(i.propertyIsArray=!1),"allowDuplicate"in i||(i.allowDuplicate=!0),q(r)){0!==r.length||!i.propertyIsArray||n in t||(t[n]=[]);for(var o=0;o<r.length;++o)e.addValue(t,n,r[o],i)}else if(n in t){var a=!i.allowDuplicate&&e.hasValue(t,n,r);q(t[n])||a&&!i.propertyIsArray||(t[n]=[t[n]]),a||t[n].push(r)}else t[n]=i.propertyIsArray?[r]:r},e.getValues=function(e,t){var n=e[t]||[];return q(n)||(n=[n]),n},e.removeProperty=function(e,t){delete e[t]},e.removeValue=function(t,n,r,i){i=i||{},"propertyIsArray"in i||(i.propertyIsArray=!1);var o=e.getValues(t,n).filter(function(t){return!e.compareValues(t,r)});0===o.length?e.removeProperty(t,n):1!==o.length||i.propertyIsArray?t[n]=o:t[n]=o[0]},e.compareValues=function(e,t){return e===t||(!(!K(e)||!K(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(F(e)&&"@id"in e&&F(t)&&"@id"in t)&&e["@id"]===t["@id"])},e.getContextValue=function(e,t,n){var r=null;if(null===t)return r;if("@language"===n&&n in e&&(r=e[n]),e.mappings[t]){var i=e.mappings[t];Y(n)?r=i:n in i&&(r=i[n])}return r};var fe={};if(e.registerRDFParser=function(e,t){fe[e]=t},e.unregisterRDFParser=function(e){delete fe[e]},l){if("undefined"==typeof ve)var ve=null;if("undefined"==typeof ge)var ge={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var me="http://www.w3.org/2001/XMLSchema#boolean",ye="http://www.w3.org/2001/XMLSchema#double",be="http://www.w3.org/2001/XMLSchema#integer",we="http://www.w3.org/2001/XMLSchema#string",xe="http://www.w3.org/1999/02/22-rdf-syntax-ns#",_e=xe+"List",Ee=xe+"first",Te=xe+"rest",Ce=xe+"nil",Ne=xe+"type",Re=xe+"PlainLiteral",Ie=xe+"XMLLiteral",Se=xe+"object",ke=xe+"langString",Oe="http://www.w3.org/ns/json-ld#context",Pe=10,Ae=function(e,t,n){l?(Error.call(this),Error.captureStackTrace(this,this.constructor)):"undefined"!=typeof Error&&(this.stack=(new Error).stack),this.name=t||"jsonld.Error",this.message=e||"An unspecified JSON-LD error occurred.",this.details=n||{}};l?n(204).inherits(Ae,Error):"undefined"!=typeof Error&&(Ae.prototype=new Error);var De=function(){};De.prototype.compact=function(t,n,r,i){if(q(r)){for(var o=[],a=0;a<r.length;++a){var s=this.compact(t,n,r[a],i);null!==s&&o.push(s)}if(i.compactArrays&&1===o.length){var u=e.getContextValue(t,n,"@container");null===u&&(o=o[0])}return o}if(F(r)){if(i.link&&"@id"in r&&r["@id"]in i.link)for(var l=i.link[r["@id"]],a=0;a<l.length;++a)if(l[a].expanded===r)return l[a].compacted;if(K(r)||$(r)){var o=P(t,n,r);return i.link&&$(r)&&(r["@id"]in i.link||(i.link[r["@id"]]=[]),i.link[r["@id"]].push({expanded:r,compacted:o})),o}var c="@reverse"===n,o={};i.link&&"@id"in r&&(r["@id"]in i.link||(i.link[r["@id"]]=[]),i.link[r["@id"]].push({expanded:r,compacted:o}));for(var d=Object.keys(r).sort(),p=0;p<d.length;++p){var h=d[p],f=r[h];if("@id"!==h&&"@type"!==h)if("@reverse"!==h)if("@index"!==h)if("@graph"!==h&&"@list"!==h&&U(h)){var v=O(t,h);e.addValue(o,v,f)}else{if(0===f.length){var g=O(t,h,f,{vocab:!0},c);e.addValue(o,g,f,{propertyIsArray:!0})}for(var m=0;m<f.length;++m){var y=f[m],g=O(t,h,y,{vocab:!0},c),u=e.getContextValue(t,g,"@container"),b=J(y),w=null;b&&(w=y["@list"]);var x=this.compact(t,g,b?w:y,i);if(b)if(q(x)||(x=[x]),"@list"!==u){var _={};_[O(t,"@list")]=x,x=_,"@index"in y&&(x[O(t,"@index")]=y["@index"])}else if(g in o)throw new Ae('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===u||"@index"===u){var E;g in o?E=o[g]:o[g]=E={},"@language"===u&&K(x)&&(x=x["@value"]),e.addValue(E,y[u],x)}else{var T=!i.compactArrays||"@set"===u||"@list"===u||q(x)&&0===x.length||"@list"===h||"@graph"===h;e.addValue(o,g,x,{propertyIsArray:T})}}}else{var u=e.getContextValue(t,n,"@container");if("@index"===u)continue;var v=O(t,h);e.addValue(o,v,f)}else{var C=this.compact(t,"@reverse",f,i);for(var N in C)if(t.mappings[N]&&t.mappings[N].reverse){var R=C[N],u=e.getContextValue(t,N,"@container"),I="@set"===u||!i.compactArrays;e.addValue(o,N,R,{propertyIsArray:I}),delete C[N]}if(Object.keys(C).length>0){var v=O(t,h);e.addValue(o,v,C)}}else{var C;if(V(f))C=O(t,f,null,{vocab:"@type"===h});else{C=[];for(var m=0;m<f.length;++m)C.push(O(t,f[m],null,{vocab:!0}))}var v=O(t,h),T=q(C)&&0===f.length;e.addValue(o,v,C,{propertyIsArray:T})}}return o}return r},De.prototype.expand=function(t,n,i,o,a){var s=this;if(null===i||void 0===i)return null;if(!q(i)&&!F(i))return a||null!==n&&"@graph"!==D(t,n,{vocab:!0})?d(t,n,i):null;if(q(i)){var u=[],l=e.getContextValue(t,n,"@container");a=a||"@list"===l;for(var c=0;c<i.length;++c){var p=s.expand(t,n,i[c],o);if(a&&(q(p)||J(p)))throw new Ae("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==p&&(q(p)?u=u.concat(p):u.push(p))}return u}"@context"in i&&(t=s.processContext(t,i["@context"],o));for(var h=D(t,n,{vocab:!0}),u={},f=Object.keys(i).sort(),v=0;v<f.length;++v){var g,m=f[v],y=i[m];if("@context"!==m){var b=D(t,m,{vocab:!0});if(null!==b&&(ee(b)||U(b))){if(U(b)){if("@reverse"===h)throw new Ae("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:y});if(b in u)throw new Ae("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:b})}if("@id"===b&&!V(y)){if(!o.isFrame)throw new Ae('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:y});if(!F(y))throw new Ae('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:y})}if("@type"===b&&H(y),"@graph"===b&&!F(y)&&!q(y))throw new Ae('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:y});if("@value"===b&&(F(y)||q(y)))throw new Ae('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:y});if("@language"===b){if(null===y)continue;if(!V(y))throw new Ae('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:y});y=y.toLowerCase()}if("@index"===b&&!V(y))throw new Ae('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:y});if("@reverse"!==b){var l=e.getContextValue(t,m,"@container");if("@language"===l&&F(y))g=r(y);else if("@index"===l&&F(y))g=function(e){for(var n=[],r=Object.keys(y).sort(),i=0;i<r.length;++i){var a=r[i],u=y[a];q(u)||(u=[u]),u=s.expand(t,e,u,o,!1);for(var l=0;l<u.length;++l){var c=u[l];"@index"in c||(c["@index"]=a),n.push(c)}}return n}(m);else{var w="@list"===b;if(w||"@set"===b){var x=n;if(w&&"@graph"===h&&(x=null),g=s.expand(t,x,y,o,w),w&&J(g))throw new Ae("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else g=s.expand(t,m,y,o,!1)}if(null!==g||"@value"===b)if("@list"===b||J(g)||"@list"!==l||(g=q(g)?g:[g],g={"@list":g}),t.mappings[m]&&t.mappings[m].reverse){var _=u["@reverse"]=u["@reverse"]||{};q(g)||(g=[g]);for(var E=0;E<g.length;++E){var T=g[E];if(K(T)||J(T))throw new Ae('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});e.addValue(_,b,T,{propertyIsArray:!0})}}else{var C=["@index","@id","@type","@value","@language"].indexOf(b)===-1;e.addValue(u,b,g,{propertyIsArray:C})}}else{if(!F(y))throw new Ae('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:y});if(g=s.expand(t,"@reverse",y,o),"@reverse"in g)for(var N in g["@reverse"])e.addValue(u,N,g["@reverse"][N],{propertyIsArray:!0});var _=u["@reverse"]||null;for(var N in g)if("@reverse"!==N){null===_&&(_=u["@reverse"]={}),e.addValue(_,N,[],{propertyIsArray:!0});for(var R=g[N],E=0;E<R.length;++E){var T=R[E];if(K(T)||J(T))throw new Ae('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});e.addValue(_,N,T,{propertyIsArray:!0})}}}}}}f=Object.keys(u);var I=f.length;if("@value"in u){if("@type"in u&&"@language"in u)throw new Ae('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:u});var S=I-1;if("@type"in u&&(S-=1),"@index"in u&&(S-=1),"@language"in u&&(S-=1),0!==S)throw new Ae('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:u});if(null===u["@value"])u=null;else{if("@language"in u&&!V(u["@value"]))throw new Ae("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:u});if("@type"in u&&(!ee(u["@type"])||0===u["@type"].indexOf("_:")))throw new Ae('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:u})}}else if("@type"in u&&!q(u["@type"]))u["@type"]=[u["@type"]];else if("@set"in u||"@list"in u){if(I>1&&!(2===I&&"@index"in u))throw new Ae('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:u});"@set"in u&&(u=u["@set"],f=Object.keys(u),I=f.length)}else 1===I&&"@language"in u&&(u=null);return!F(u)||o.keepFreeFloatingNodes||a||null!==n&&"@graph"!==h||(0===I||"@value"in u||"@list"in u||1===I&&"@id"in u)&&(u=null),u},De.prototype.createNodeMap=function(e,t){t=t||{};var n=t.namer||t.issuer||new ue("_:b"),r={"@default":{}};return m(e,r,"@default",n),y(r)},De.prototype.flatten=function(e){for(var t=this.createNodeMap(e),n=[],r=Object.keys(t).sort(),i=0;i<r.length;++i){var o=t[r[i]];$(o)||n.push(o)}return n},De.prototype.frame=function(e,t,n){var r={options:n,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}},i=new ue("_:b");m(e,r.graphs,"@merged",i),r.subjects=r.graphs["@merged"];var o=[];return b(r,Object.keys(r.subjects).sort(),t,o,null),o},De.prototype.normalize=function(e,t,n){return"URDNA2015"===t.algorithm?new Me(t).main(e,n):"URGNA2012"===t.algorithm?new Le(t).main(e,n):void n(new Error("Invalid RDF Dataset Normalization algorithm: "+t.algorithm))},De.prototype.fromRDF=function(t,n,r){var i={},o={"@default":i},a={};for(var s in t){var u=t[s];s in o||(o[s]={}),"@default"===s||s in i||(i[s]={"@id":s});for(var l=o[s],c=0;c<u.length;++c){var d=u[c],p=d.subject.value,h=d.predicate.value,f=d.object;p in l||(l[p]={"@id":p});var g=l[p],m="IRI"===f.type||"blank node"===f.type;if(!m||f.value in l||(l[f.value]={"@id":f.value}),h!==Ne||n.useRdfType||!m){var y=v(f,n.useNativeTypes);if(e.addValue(g,h,y,{propertyIsArray:!0}),m)if(f.value===Ce){var b=l[f.value];"usages"in b||(b.usages=[]),b.usages.push({node:g,property:h,value:y})}else f.value in a?a[f.value]=!1:a[f.value]={node:g,property:h,value:y}}else e.addValue(g,"@type",f.value,{propertyIsArray:!0})}}for(var s in o){var w=o[s];if(Ce in w){for(var x=w[Ce],_=0;_<x.usages.length;++_){for(var E=x.usages[_],g=E.node,T=E.property,C=E.value,N=[],R=[],I=Object.keys(g).length;T===Te&&F(a[g["@id"]])&&q(g[Ee])&&1===g[Ee].length&&q(g[Te])&&1===g[Te].length&&(3===I||4===I&&q(g["@type"])&&1===g["@type"].length&&g["@type"][0]===_e)&&(N.push(g[Ee][0]),R.push(g["@id"]),E=a[g["@id"]],g=E.node,T=E.property,C=E.value,I=Object.keys(g).length,0===g["@id"].indexOf("_:")););if(T===Ee){if(g["@id"]===Ce)continue;C=w[C["@id"]][Te][0],N.pop(),R.pop()}delete C["@id"],C["@list"]=N.reverse();for(var S=0;S<R.length;++S)delete w[R[S]]}delete x.usages}}for(var k=[],O=Object.keys(i).sort(),_=0;_<O.length;++_){var P=O[_],g=i[P];if(P in o)for(var u=g["@graph"]=[],w=o[P],A=Object.keys(w).sort(),D=0;D<A.length;++D){var M=w[A[D]];$(M)||u.push(M)}$(g)||k.push(g)}r(null,k)},De.prototype.toRDF=function(e,t){var n=new ue("_:b"),r={"@default":{}};m(e,r,"@default",n);for(var i={},o=Object.keys(r).sort(),a=0;a<o.length;++a){var s=o[a];("@default"===s||ee(s))&&(i[s]=p(r[s],n,t))}return i},De.prototype.processContext=function(t,n,r){F(n)&&"@context"in n&&q(n["@context"])&&(n=n["@context"]);var i=q(n)?n:[n];if(0===i.length)return t.clone();for(var o=t,a=0;a<i.length;++a){var s=i[a];if(null!==s){if(F(s)&&"@context"in s&&(s=s["@context"]),!F(s))throw new Ae("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:s});if(e.cache.activeCtx){var u=e.cache.activeCtx.get(t,s);if(u){o=t=u;continue}}t=o,o=o.clone();var l={};if("@base"in s){var c=s["@base"];if(null===c)c=null;else{if(!V(c))throw new Ae('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:s});if(""!==c&&!ee(c))throw new Ae('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{
code:"invalid base IRI",context:s})}null!==c&&(c=e.url.parse(c||"")),o["@base"]=c,l["@base"]=!0}if("@vocab"in s){var d=s["@vocab"];if(null===d)delete o["@vocab"];else{if(!V(d))throw new Ae('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});if(!ee(d))throw new Ae('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});o["@vocab"]=d}l["@vocab"]=!0}if("@language"in s){var d=s["@language"];if(null===d)delete o["@language"];else{if(!V(d))throw new Ae('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:s});o["@language"]=d.toLowerCase()}l["@language"]=!0}for(var p in s)A(o,s,p,l);e.cache.activeCtx&&e.cache.activeCtx.set(t,s,o)}else o=t=j(r)}return o};var Me=function(){var t={subject:"s",object:"o",name:"g"},n=function(e){e=e||{},this.name="URDNA2015",this.options=e,this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new ue("_:c14n"),this.quads=[],this.schedule={},"maxCallStackDepth"in e?this.schedule.MAX_DEPTH=e.maxCallStackDepth:this.schedule.MAX_DEPTH=500,"maxTotalCallStackDepth"in e?this.schedule.MAX_TOTAL_DEPTH=e.maxCallStackDepth:this.schedule.MAX_TOTAL_DEPTH=4294967295,this.schedule.depth=0,this.schedule.totalDepth=0,"timeSlice"in e?this.schedule.timeSlice=e.timeSlice:this.schedule.timeSlice=10};return n.prototype.doWork=function(t,n){var r=this.schedule;return r.totalDepth>=r.MAX_TOTAL_DEPTH?n(new Error("Maximum total call stack depth exceeded; normalization aborting.")):void function i(){if(r.depth===r.MAX_DEPTH)return r.depth=0,r.running=!1,e.nextTick(i);var o=(new Date).getTime();return r.running||(r.start=(new Date).getTime(),r.deadline=r.start+r.timeSlice),o<r.deadline?(r.running=!0,r.depth++,r.totalDepth++,t(function(e,t){r.depth--,r.totalDepth--,n(e,t)})):(r.depth=0,r.running=!1,void e.setImmediate(i))}()},n.prototype.forEach=function(e,t,n){var r,i,o=this,a=0;if(q(e))i=e.length,r=function(){return a!==i&&(r.value=e[a++],r.key=a,!0)};else{var s=Object.keys(e);i=s.length,r=function(){return a!==i&&(r.key=s[a++],r.value=e[r.key],!0)}}!function u(e,i){return e?n(e):r()?o.doWork(function(){t(r.value,r.key,u)}):void n()}()},n.prototype.waterfall=function(e,t){var n=this;n.forEach(e,function(e,t,r){n.doWork(e,r)},t)},n.prototype.whilst=function(e,t,n){var r=this;!function i(o){return o?n(o):e()?void r.doWork(t,i):n()}()},n.prototype.main=function(e,t){var n=this;n.schedule.start=(new Date).getTime();var r;if(n.options.format&&"application/nquads"!==n.options.format)return t(new Ae("Unknown output format.","jsonld.UnknownFormat",{format:n.options.format}));var i={};n.waterfall([function(t){n.forEach(e,function(e,t,r){"@default"===t&&(t=null),n.forEach(e,function(e,r,o){null!==t&&(0===t.indexOf("_:")?e.name={type:"blank node",value:t}:e.name={type:"IRI",value:t}),n.quads.push(e),n.forEachComponent(e,function(t){if("blank node"===t.type){var r=t.value;r in n.blankNodeInfo?n.blankNodeInfo[r].quads.push(e):(i[r]=!0,n.blankNodeInfo[r]={quads:[e]})}}),o()},r)},t)},function(e){var t=!0;n.whilst(function(){return t},function(e){t=!1,n.hashToBlankNodes={},n.waterfall([function(e){n.forEach(i,function(e,t,r){n.hashFirstDegreeQuads(t,function(e,i){return e?r(e):(i in n.hashToBlankNodes?n.hashToBlankNodes[i].push(t):n.hashToBlankNodes[i]=[t],void r())})},e)},function(e){var r=Object.keys(n.hashToBlankNodes).sort();n.forEach(r,function(e,r,o){var a=n.hashToBlankNodes[e];if(a.length>1)return o();var s=a[0];n.canonicalIssuer.getId(s),delete i[s],delete n.hashToBlankNodes[e],t=!0,o()},e)}],e)},e)},function(e){var t=Object.keys(n.hashToBlankNodes).sort();n.forEach(t,function(e,t,r){var i=[],o=n.hashToBlankNodes[e];n.waterfall([function(e){n.forEach(o,function(e,t,r){if(n.canonicalIssuer.hasId(e))return r();var o=new ue("_:b");o.getId(e),n.hashNDegreeQuads(e,o,function(e,t){return e?r(e):(i.push(t),void r())})},e)},function(e){i.sort(function(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}),n.forEach(i,function(e,t,r){for(var i in e.issuer.existing)n.canonicalIssuer.getId(i);r()},e)}],r)},e)},function(e){var t=[];n.waterfall([function(e){n.forEach(n.quads,function(e,r,i){n.forEachComponent(e,function(e){"blank node"===e.type&&0!==e.value.indexOf(n.canonicalIssuer.prefix)&&(e.value=n.canonicalIssuer.getId(e.value))}),t.push(ae(e)),i()},e)},function(e){return t.sort(),"application/nquads"===n.options.format?(r=t.join(""),e()):(r=ie(t.join("")),void e())}],e)}],function(e){t(e,r)})},n.prototype.hashFirstDegreeQuads=function(e,t){var n=this,r=n.blankNodeInfo[e];if("hash"in r)return t(null,r.hash);var i=[],o=r.quads;n.forEach(o,function(t,r,o){var a={predicate:t.predicate};n.forEachComponent(t,function(t,r){a[r]=n.modifyFirstDegreeComponent(e,t,r)}),i.push(ae(a)),o()},function(e){return e?t(e):(i.sort(),r.hash=Ue.hashNQuads(n.name,i),void t(null,r.hash))})},n.prototype.modifyFirstDegreeComponent=function(e,t){return"blank node"!==t.type?t:(t=te(t),t.value=t.value===e?"_:a":"_:z",t)},n.prototype.hashRelatedBlankNode=function(e,t,n,r,i){var o,a=this;a.waterfall([function(t){return a.canonicalIssuer.hasId(e)?(o=a.canonicalIssuer.getId(e),t()):n.hasId(e)?(o=n.getId(e),t()):void a.hashFirstDegreeQuads(e,function(e,n){return e?t(e):(o=n,void t())})}],function(e){if(e)return i(e);var n=new Ue(a.name);return n.update(r),"g"!==r&&n.update(a.getRelatedPredicate(t)),n.update(o),i(null,n.digest())})},n.prototype.getRelatedPredicate=function(e){return"<"+e.predicate.value+">"},n.prototype.hashNDegreeQuads=function(e,t,n){var r,i=this,o=new Ue(i.name);i.waterfall([function(n){i.createHashToRelated(e,t,function(e,t){return e?n(e):(r=t,void n())})},function(e){var n=Object.keys(r).sort();i.forEach(n,function(e,n,a){o.update(e);var s,u="",l=new je(r[e]);i.whilst(function(){return l.hasNext()},function(e){var n=l.next(),r=t.clone(),o="",a=[];i.waterfall([function(t){i.forEach(n,function(t,n,s){return i.canonicalIssuer.hasId(t)?o+=i.canonicalIssuer.getId(t):(r.hasId(t)||a.push(t),o+=r.getId(t)),0!==u.length&&o.length>=u.length&&o>u?e():void s()},t)},function(t){i.forEach(a,function(t,n,a){i.hashNDegreeQuads(t,r,function(n,i){return n?a(n):(o+=r.getId(t),o+="<"+i.hash+">",r=i.issuer,0!==u.length&&o.length>=u.length&&o>u?e():void a())})},t)},function(e){(0===u.length||o<u)&&(u=o,s=r),e()}],e)},function(e){return e?a(e):(o.update(u),t=s,void a())})},e)}],function(e){n(e,{hash:o.digest(),issuer:t})})},n.prototype.createHashToRelated=function(e,n,r){var i=this,o={},a=i.blankNodeInfo[e].quads;i.forEach(a,function(r,a,s){i.forEach(r,function(a,s,u){if("predicate"===s||"blank node"!==a.type||a.value===e)return u();var l=a.value,c=t[s];i.hashRelatedBlankNode(l,r,n,c,function(e,t){return e?u(e):(t in o?o[t].push(l):o[t]=[l],void u())})},s)},function(e){r(e,o)})},n.prototype.forEachComponent=function(e,t){for(var n in e)"predicate"!==n&&t(e[n],n,e)},n}(),Le=function(){var e=function(e){Me.call(this,e),this.name="URGNA2012"};return e.prototype=new Me,e.prototype.modifyFirstDegreeComponent=function(e,t,n){return"blank node"!==t.type?t:(t=te(t),"name"===n?t.value="_:g":t.value=t.value===e?"_:a":"_:z",t)},e.prototype.getRelatedPredicate=function(e){return e.predicate.value},e.prototype.createHashToRelated=function(e,t,n){var r=this,i={},o=r.blankNodeInfo[e].quads;r.forEach(o,function(n,o,a){var s,u;if("blank node"===n.subject.type&&n.subject.value!==e)u=n.subject.value,s="p";else{if("blank node"!==n.object.type||n.object.value===e)return a();u=n.object.value,s="r"}r.hashRelatedBlankNode(u,n,t,s,function(e,t){t in i?i[t].push(u):i[t]=[u],a()})},function(e){n(e,i)})},e}();Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),e.registerRDFParser("application/nquads",ie),e.registerRDFParser("rdfa-api",se),e.IdentifierIssuer=ue,e.UniqueNamer=ue,ue.prototype.clone=function(){var e=new ue(this.prefix);return e.counter=this.counter,e.existing=te(this.existing),e},ue.prototype.getId=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},ue.prototype.getName=ue.prototype.getName,ue.prototype.hasId=function(e){return e in this.existing},ue.prototype.isNamed=ue.prototype.hasId;var je=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};je.prototype.hasNext=function(){return!this.done},je.prototype.next=function(){for(var e=this.list.slice(),t=null,n=0,r=this.list.length,i=0;i<r;++i){var o=this.list[i],a=this.left[o];(null===t||o>t)&&(a&&i>0&&o>this.list[i-1]||!a&&i<r-1&&o>this.list[i+1])&&(t=o,n=i)}if(null===t)this.done=!0;else{var s=this.left[t]?n-1:n+1;this.list[n]=this.list[s],this.list[s]=t;for(var i=0;i<r;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e};var Ue=function(e){if(!(this instanceof Ue))return new Ue(e);if(["URDNA2015","URGNA2012"].indexOf(e)===-1)throw new Error("Invalid RDF Dataset Normalization algorithm: "+e);Ue._init.call(this,e)};if(Ue.hashNQuads=function(e,t){for(var n=new Ue(e),r=0;r<t.length;++r)n.update(t[r]);return n.digest()},function(e){if(e){var t=n(204);return Ue._init=function(e){e="URDNA2015"===e?"sha256":"sha1",this.md=t.createHash(e)},Ue.prototype.update=function(e){return this.md.update(e,"utf8")},void(Ue.prototype.digest=function(){return this.md.digest("hex")})}Ue._init=function(e){e="URDNA2015"===e?new o.Algorithm:new i.Algorithm,this.md=new r(e)},Ue.prototype.update=function(e){return this.md.update(e)},Ue.prototype.digest=function(){return this.md.digest().toHex()};var r=function(e){if(!(this instanceof r))return new r(e);if(this._algorithm=e,!r._padding||r._padding.length<this._algorithm.blockSize){r._padding=String.fromCharCode(128);for(var t=String.fromCharCode(0),n=64;n>0;)1&n&&(r._padding+=t),n>>>=1,n>0&&(t+=t)}this.start()};r.prototype.start=function(){this.messageLength=0,this.fullMessageLength=[];for(var e=this._algorithm.messageLengthSize/4,t=0;t<e;++t)this.fullMessageLength.push(0);return this._input=new r.ByteBuffer,this.state=this._algorithm.start(),this},r.prototype.update=function(e){e=new r.ByteBuffer(unescape(encodeURIComponent(e))),this.messageLength+=e.length();var t=e.length();t=[t/4294967296>>>0,t>>>0];for(var n=this.fullMessageLength.length-1;n>=0;--n)this.fullMessageLength[n]+=t[1],t[1]=t[0]+(this.fullMessageLength[n]/4294967296>>>0),this.fullMessageLength[n]=this.fullMessageLength[n]>>>0,t[0]=t[1]/4294967296>>>0;for(this._input.putBytes(e.bytes());this._input.length()>=this._algorithm.blockSize;)this.state=this._algorithm.digest(this.state,this._input);return(this._input.read>2048||0===this._input.length())&&this._input.compact(),this},r.prototype.digest=function(){var e=new r.ByteBuffer;e.putBytes(this._input.bytes());var t=this.fullMessageLength[this.fullMessageLength.length-1]+this._algorithm.messageLengthSize,n=t&this._algorithm.blockSize-1;e.putBytes(r._padding.substr(0,this._algorithm.blockSize-n));for(var i=new r.ByteBuffer,o=0;o<this.fullMessageLength.length;++o)i.putInt32(this.fullMessageLength[o]<<3|this.fullMessageLength[o+1]>>>28);this._algorithm.writeMessageLength(e,i);var a=this._algorithm.digest(this.state.copy(),e),s=new r.ByteBuffer;return a.write(s),s},r.ByteBuffer=function(e){"string"==typeof e?this.data=e:this.data="",this.read=0},r.ByteBuffer.prototype.putInt32=function(e){this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)},r.ByteBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},r.ByteBuffer.prototype.putBytes=function(e){this.data+=e},r.ByteBuffer.prototype.bytes=function(){return this.data.slice(this.read)},r.ByteBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteBuffer.prototype.compact=function(){this.data=this.data.slice(this.read),this.read=0},r.ByteBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e};var i={_w:null};i.Algorithm=function(){this.name="sha1",this.blockSize=64,this.digestLength=20,this.messageLengthSize=8},i.Algorithm.prototype.start=function(){return i._w||(i._w=new Array(80)),i._createState()},i.Algorithm.prototype.writeMessageLength=function(e,t){e.putBytes(t.bytes())},i.Algorithm.prototype.digest=function(e,t){for(var n,r,o,a,s,u,l,c,d=t.length(),p=i._w;d>=64;){for(r=e.h0,o=e.h1,a=e.h2,s=e.h3,u=e.h4,c=0;c<16;++c)n=t.getInt32(),p[c]=n,l=s^o&(a^s),n=(r<<5|r>>>27)+l+u+1518500249+n,u=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<20;++c)n=p[c-3]^p[c-8]^p[c-14]^p[c-16],n=n<<1|n>>>31,p[c]=n,l=s^o&(a^s),n=(r<<5|r>>>27)+l+u+1518500249+n,u=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<32;++c)n=p[c-3]^p[c-8]^p[c-14]^p[c-16],n=n<<1|n>>>31,p[c]=n,l=o^a^s,n=(r<<5|r>>>27)+l+u+1859775393+n,u=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<40;++c)n=p[c-6]^p[c-16]^p[c-28]^p[c-32],n=n<<2|n>>>30,p[c]=n,l=o^a^s,n=(r<<5|r>>>27)+l+u+1859775393+n,u=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<60;++c)n=p[c-6]^p[c-16]^p[c-28]^p[c-32],n=n<<2|n>>>30,p[c]=n,l=o&a|s&(o^a),n=(r<<5|r>>>27)+l+u+2400959708+n,u=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<80;++c)n=p[c-6]^p[c-16]^p[c-28]^p[c-32],n=n<<2|n>>>30,p[c]=n,l=o^a^s,n=(r<<5|r>>>27)+l+u+3395469782+n,u=s,s=a,a=o<<30|o>>>2,o=r,r=n;e.h0=e.h0+r|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,d-=64}return e},i._createState=function(){var e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return e.copy=function(){var t=i._createState();return t.h0=e.h0,t.h1=e.h1,t.h2=e.h2,t.h3=e.h3,t.h4=e.h4,t},e.write=function(t){t.putInt32(e.h0),t.putInt32(e.h1),t.putInt32(e.h2),t.putInt32(e.h3),t.putInt32(e.h4)},e};var o={_k:null,_w:null};o.Algorithm=function(){this.name="sha256",this.blockSize=64,this.digestLength=32,this.messageLengthSize=8},o.Algorithm.prototype.start=function(){return o._k||o._init(),o._createState()},o.Algorithm.prototype.writeMessageLength=function(e,t){e.putBytes(t.bytes())},o.Algorithm.prototype.digest=function(e,t){for(var n,r,i,a,s,u,l,c,d,p,h,f,v,g,m,y=t.length(),b=o._k,w=o._w;y>=64;){for(l=0;l<16;++l)w[l]=t.getInt32();for(;l<64;++l)n=w[l-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,r=w[l-15],r=(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,w[l]=n+w[l-7]+r+w[l-16]|0;for(c=e.h0,d=e.h1,p=e.h2,h=e.h3,f=e.h4,v=e.h5,g=e.h6,m=e.h7,l=0;l<64;++l)a=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),s=g^f&(v^g),i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),u=c&d|p&(c^d),n=m+a+s+b[l]+w[l],r=i+u,m=g,g=v,v=f,f=h+n|0,h=p,p=d,d=c,c=n+r|0;e.h0=e.h0+c|0,e.h1=e.h1+d|0,e.h2=e.h2+p|0,e.h3=e.h3+h|0,e.h4=e.h4+f|0,e.h5=e.h5+v|0,e.h6=e.h6+g|0,e.h7=e.h7+m|0,y-=64}return e},o._createState=function(){var e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return e.copy=function(){var t=o._createState();return t.h0=e.h0,t.h1=e.h1,t.h2=e.h2,t.h3=e.h3,t.h4=e.h4,t.h5=e.h5,t.h6=e.h6,t.h7=e.h7,t},e.write=function(t){t.putInt32(e.h0),t.putInt32(e.h1),t.putInt32(e.h2),t.putInt32(e.h3),t.putInt32(e.h4),t.putInt32(e.h5),t.putInt32(e.h6),t.putInt32(e.h7)},e},o._init=function(){o._k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o._w=new Array(64)}}(l),!ve)var Fe=function(){ve=n(204).XMLSerializer};if(e.url={},e.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.url.parse=function(t,n){for(var r={},i=e.url.parsers[n||"full"],o=i.regex.exec(t),a=i.keys.length;a--;)r[i.keys[a]]=void 0===o[a]?null:o[a];return r.normalizedPath=le(r.path,!!r.authority),r},l?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),l){e.use=function(t){switch(t){case"request":e.request=n(204);break;default:throw new Ae("Unknown extension.","jsonld.UnknownExtension",{extension:t})}};var Be={exports:{},filename:u};n(204)(Be,"version"),e.version=Be.exports.version}return e},p=function(){return d(function(){return p()})};return!l&&n(205)?(r=[],i=function(){return d(p),p}.apply(t,r),!(void 0!==i&&(e.exports=i))):(d(p),"undefined"!=typeof e&&e.exports&&(e.exports=p),c&&("undefined"==typeof jsonld?jsonld=jsonldjs=p:jsonldjs=p)),p}()}).call(t,n(198),function(){return this}(),n(199).setImmediate,"/")},function(e,t,n){var r;(function(e,i,o,a){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   2.3.0
	 */
(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function u(e){return"function"==typeof e}function l(e){return"object"==typeof e&&null!==e}function c(e){Y=e}function d(e){J=e}function p(){var t=e.nextTick,n=e.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(t=i),function(){t(m)}}function h(){return function(){G(m)}}function f(){var e=0,t=new te(m),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function v(){var e=new MessageChannel;return e.port1.onmessage=m,function(){e.port2.postMessage(0)}}function g(){return function(){setTimeout(m,1)}}function m(){for(var e=0;e<K;e+=2){var t=ie[e],n=ie[e+1];t(n),ie[e]=void 0,ie[e+1]=void 0}K=0}function y(){try{var e=n(202);return G=e.runOnLoop||e.runOnContext,h()}catch(t){return g()}}function b(){}function w(){return new TypeError("You cannot resolve a promise with itself")}function x(){return new TypeError("A promises callback cannot return that same promise.")}function _(e){try{return e.then}catch(t){return ue.error=t,ue}}function E(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function T(e,t,n){J(function(e){var r=!1,i=E(n,t,function(n){r||(r=!0,t!==n?R(e,n):S(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function C(e,t){t._state===ae?S(e,t._result):t._state===se?k(e,t._result):O(t,void 0,function(t){R(e,t)},function(t){k(e,t)})}function N(e,t){if(t.constructor===e.constructor)C(e,t);else{var n=_(t);n===ue?k(e,ue.error):void 0===n?S(e,t):u(n)?T(e,t,n):S(e,t)}}function R(e,t){e===t?k(e,w()):s(t)?N(e,t):S(e,t)}function I(e){e._onerror&&e._onerror(e._result),P(e)}function S(e,t){e._state===oe&&(e._result=t,e._state=ae,0!==e._subscribers.length&&J(P,e))}function k(e,t){e._state===oe&&(e._state=se,e._result=t,J(I,e))}function O(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ae]=n,i[o+se]=r,0===o&&e._state&&J(P,e)}function P(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?M(n,r,i,o):i(o);e._subscribers.length=0}}function A(){this.error=null}function D(e,t){try{return e(t)}catch(n){return le.error=n,le}}function M(e,t,n,r){var i,o,a,s,l=u(n);if(l){if(i=D(n,r),i===le?(s=!0,o=i.error,i=null):a=!0,t===i)return void k(t,x())}else i=r,a=!0;t._state!==oe||(l&&a?R(t,i):s?k(t,o):e===ae?S(t,i):e===se&&k(t,i))}function L(e,t){try{t(function(t){R(e,t)},function(t){k(e,t)})}catch(n){k(e,n)}}function j(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(b),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?S(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&S(n.promise,n._result))):k(n.promise,n._validationError())}function U(e){return new ce(this,e).promise}function F(e){function t(e){R(i,e)}function n(e){k(i,e)}var r=this,i=new r(b);if(!$(e))return k(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,a=0;i._state===oe&&a<o;a++)O(r.resolve(e[a]),void 0,t,n);return i}function B(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(b);return R(n,e),n}function q(e){var t=this,n=new t(b);return k(n,e),n}function H(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function V(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this._id=ve++,this._state=void 0,this._result=void 0,this._subscribers=[],b!==e&&(u(e)||H(),this instanceof z||V(),L(this,e))}function W(){var e;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(e.Promise=ge)}var X;X=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var G,Y,Q,$=X,K=0,J=({}.toString,function(e,t){ie[K]=e,ie[K+1]=t,K+=2,2===K&&(Y?Y(m):Q())}),Z="undefined"!=typeof window?window:void 0,ee=Z||{},te=ee.MutationObserver||ee.WebKitMutationObserver,ne="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),re="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ie=new Array(1e3);Q=ne?p():te?f():re?v():void 0===Z?y():g();var oe=void 0,ae=1,se=2,ue=new A,le=new A;j.prototype._validateInput=function(e){return $(e)},j.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},j.prototype._init=function(){this._result=new Array(this.length)};var ce=j;j.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===oe&&i<t;i++)e._eachEntry(r[i],i)},j.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;l(e)?e.constructor===r&&e._state!==oe?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},j.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===oe&&(r._remaining--,e===se?k(i,n):r._result[t]=n),0===r._remaining&&S(i,r._result)},j.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,function(e){n._settledAt(ae,t,e)},function(e){n._settledAt(se,t,e)})};var de=U,pe=F,he=B,fe=q,ve=0,ge=z;z.all=de,z.race=pe,z.resolve=he,z.reject=fe,z._setScheduler=c,z._setAsap=d,z._asap=J,z.prototype={constructor:z,then:function(e,t){var n=this,r=n._state;if(r===ae&&!e||r===se&&!t)return this;var i=new this.constructor(b),o=n._result;if(r){var a=arguments[r-1];J(function(){M(r,i,a,o)})}else O(n,i,e,t);return i},"catch":function(e){return this.then(null,e)}};var me=W,ye={Promise:ge,polyfill:me};n(203).amd?(r=function(){return ye}.call(t,n,t,a),!(void 0!==r&&(a.exports=r))):"undefined"!=typeof a&&a.exports?a.exports=ye:"undefined"!=typeof this&&(this.ES6Promise=ye),me()}).call(this)}).call(t,n(198),n(199).setImmediate,function(){return this}(),n(192)(e))},function(e,t){},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){var r,r;r=function(){};var t=e.exports={Lexer:r("./lib/N3Lexer"),Parser:r("./lib/N3Parser"),Writer:r("./lib/N3Writer"),Store:r("./lib/N3Store"),StreamParser:r("./lib/N3StreamParser"),StreamWriter:r("./lib/N3StreamWriter"),Util:r("./lib/N3Util")};Object.keys(t).forEach(function(e){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return delete t[e],t[e]=n(207)("./N3"+e)}})})},function(e,t,n){function r(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./N3Lexer":208,"./N3Lexer.js":208,"./N3Parser":209,"./N3Parser.js":209,"./N3Store":210,"./N3Store.js":210,"./N3StreamParser":212,"./N3StreamParser.js":212,"./N3StreamWriter":236,"./N3StreamWriter.js":236,"./N3Util":211,"./N3Util.js":211,"./N3Writer":237,"./N3Writer.js":237};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=207},function(e,t,n){(function(t){function n(e){if(!(this instanceof n))return new n(e);if(e&&e.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var t=this;this._tokenize=this.tokenize,this.tokenize=function(e,n){this._tokenize(e,function(e,r){!e&&/^(?:IRI|prefixed|literal|langcode|type|\.|eof)$/.test(r.type)?n&&n(e,r):n&&n(e||t._syntaxError(r.type,n=null))})}}}var r=String.fromCharCode,i="function"==typeof t?t:function(e){setTimeout(e,0)},o=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},s=/[\x00-\x20<>\\"\{\}\|\^\`]/;n.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){function n(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}for(var r=this._input;;){for(var i;i=this._newline.exec(r);)r=r.substr(i[0].length,r.length),this._line++;if((i=this._whitespace.exec(r))&&(r=r.substr(i[0].length,r.length)),this._endOfFile.test(r))return t&&e(r=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=r;var o,a=this._line,u="",l="",c="",d=r[0],p=null,h=0,f=!1;switch(d){case"^":if(1===r.length)break;if("^"!==r[1])return n(this);if(this._prevTokenType="^",r=r.substr(2),"<"!==r[0]){f=!0;break}case"<":if(p=this._unescapedIri.exec(r))u="IRI",l=p[1];else if(p=this._iri.exec(r)){if(o=this._unescape(p[1]),null===o||s.test(o))return n(this);u="IRI",l=o}break;case"_":((p=this._blank.exec(r))||t&&(p=this._blank.exec(r+" ")))&&(u="prefixed",c="_",l=p[1]);break;case'"':case"'":if(p=this._unescapedString.exec(r))u="literal",l=p[0];else if(p=this._singleQuotedString.exec(r)){if(o=this._unescape(p[0]),null===o)return n(this);u="literal",l=o.replace(/^'|'$/g,'"')}else if(p=this._tripleQuotedString.exec(r)){if(o=p[1]||p[2],this._line+=o.split(/\r\n|\r|\n/).length-1,o=this._unescape(o),null===o)return n(this);u="literal",l=o.replace(/^'|'$/g,'"')}break;case"@":"literal"===this._prevTokenType&&(p=this._langcode.exec(r))?(u="langcode",l=p[1]):(p=this._keyword.exec(r))&&(u=p[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){u=".",h=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(r))&&(u="literal",l='"'+p[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(p[1]?"double":/^[+\-]?\d+$/.test(p[0])?"integer":"decimal"));break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(r))?u=p[0].toUpperCase():f=!0;break;case"f":case"t":(p=this._boolean.exec(r))?(u="literal",l='"'+p[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):f=!0;break;case"a":(p=this._shortPredicates.exec(r))?(u="abbreviation",l="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):f=!0;break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":h=1,u=d;break;default:f=!0}if(f&&("@prefix"!==this._prevTokenType&&"PREFIX"!==this._prevTokenType||!(p=this._prefix.exec(r))?((p=this._prefixed.exec(r))||t&&(p=this._prefixed.exec(r+" ")))&&(u="prefixed",c=p[1]||"",l=this._unescape(p[2])):(u="prefix",l=p[1]||"")),"^"===this._prevTokenType&&(u="IRI"===u||"prefixed"===u?"type":""),!u)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?n(this):this._input=r;e(null,{line:a,type:u,value:l,prefix:c}),this._prevTokenType=u,r=r.substr(h||p[0].length,r.length)}},_unescape:function(e){try{return e.replace(o,function(e,t,n,i){var o;if(t){if(o=parseInt(t,16),isNaN(o))throw new Error;return r(o)}if(n){if(o=parseInt(n,16),isNaN(o))throw new Error;return o<=65535?r(o):r(55296+(o-=65536)/1024,56320+(1023&o))}var s=a[i];if(!s)throw new Error;return s})}catch(t){return null}},_syntaxError:function(e){return this._input=null,new Error('Syntax error: unexpected "'+e+'" on line '+this._line+".")},tokenize:function(e,t){function n(e){null!==o._input&&(o._input+=e,o._tokenizeToEnd(t,!1))}function r(){null!==o._input&&o._tokenizeToEnd(t,!0)}var o=this;this._line=1,"string"==typeof e?(this._input=e,i(function(){o._tokenizeToEnd(t,!0)})):(this._input="",e&&"function"!=typeof e?("function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",n),e.on("end",r)):(this.addChunk=n,this.end=r,t||(t=e)))}},e.exports=n}).call(t,n(199).setImmediate)},function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);this._tripleStack=[],this._graph=null,e=e||{},this._setBase(e.documentIRI);var t="string"==typeof e.format&&e.format.match(/\w*$/)[0].toLowerCase(),n="turtle"===t,a="trig"===t,s=/triple/.test(t),u=/quad/.test(t),l=s||u;(this._supportsNamedGraphs=!n)||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||s),l&&(this._base="",this._resolveIRI=function(e){return this._error("Disallowed relative IRI",e),this._callback=i,this._subject=null}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":"_:"+e.blankNodePrefix.replace(/^_:/,""),this._lexer=e.lexer||new o({lineMode:l})}function i(){}var o=n(208),a="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s=a+"nil",u=a+"first",l=a+"rest",c=/^[a-z][a-z0-9+.-]*:/i,d=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,p=/(?:^|\/)\.\.?(?:$|[\/#?])/,h=0,f=0;r._resetBlankNodeIds=function(){h=f=0},r.prototype={_setBase:function(e){if(e){if(e.indexOf("#")>=0)throw new Error("Invalid base IRI "+e)}else e=null;(this._base=e)&&(this._basePath=e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(d),this._baseRoot=e[0],this._baseScheme=e[1])},_readInTopContext:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"@prefix":return this._sparqlStyle=!1,this._readPrefix;case"PREFIX":return this._sparqlStyle=!0,this._readPrefix;case"@base":return this._sparqlStyle=!1,this._readBaseIRI;case"BASE":return this._sparqlStyle=!0,this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readSubject:function(e){switch(this._predicate=null,e.type){case"IRI":null===this._base||c.test(e.value)?this._subject=e.value:this._subject=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(void 0===t)return this._error('Undefined prefix "'+e.prefix+':"',e);this._subject=t+e.value;break;case"[":return this._subject="_:b"+f++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case"(":return this._tripleStack.push({subject:s,predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case"}":return this._readPunctuation(e);default:return this._error("Expected subject but got "+e.type,e)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"IRI":case"abbreviation":null===this._base||c.test(e.value)?this._predicate=e.value:this._predicate=this._resolveIRI(e);break;case"prefixed":if("_"===e.prefix)return this._error("Disallowed blank node as predicate",e);var n=this._prefixes[e.prefix];if(void 0===n)return this._error('Undefined prefix "'+e.prefix+':"',e);this._predicate=n+e.value;break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',e)}return this._readObject},_readObject:function(e){switch(e.type){case"IRI":null===this._base||c.test(e.value)?this._object=e.value:this._object=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(void 0===t)return this._error('Undefined prefix "'+e.prefix+':"',e);this._object=t+e.value;break;case"literal":return this._object=e.value,this._readDataTypeOrLang;case"[":var n="_:b"+f++;return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:n,type:"blank"}),this._subject=n,this._readBlankNodeHead;case"(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:s,type:"list"}),this._subject=null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',e)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))},_readBlankNodeTail:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});var t=this._tripleStack.pop();return this._subject=t.subject,null!==t.object?(this._predicate=t.predicate,this._object=t.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},_readDataTypeOrLang:function(e){switch(e.type){case"type":var t;if(""===e.prefix)t=null===this._base||c.test(e.value)?e.value:this._resolveIRI(e);else{var n=this._prefixes[e.prefix];if(void 0===n)return this._error('Undefined prefix "'+e.prefix+':"',e);t=n+e.value}return this._object+="^^"+t,this._getTripleEndReader();case"langcode":return this._object+="@"+e.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,e)}},_readListItem:function(e){var t=null,n=null,r=this._subject,i=this._tripleStack,o=i[i.length-1],a=this._readListItem;switch(e.type){case"IRI":t=null===this._base||c.test(e.value)?e.value:this._resolveIRI(e);break;case"prefixed":var d=this._prefixes[e.prefix];if(void 0===d)return this._error('Undefined prefix "'+e.prefix+':"',e);t=d+e.value;break;case"literal":t=e.value,a=this._readDataTypeOrLang;break;case"[":n="_:b"+f++,t="_:b"+f++,i.push({subject:n,predicate:u,object:t,type:"blank"}),this._subject=t,a=this._readBlankNodeHead;break;case"(":n="_:b"+f++,i.push({subject:n,predicate:u,object:s,type:"list"}),this._subject=null,a=this._readListItem;break;case")":if(i.pop(),0!==i.length&&"list"===i[i.length-1].type&&this._callback(null,{subject:o.subject,predicate:o.predicate,object:o.object,graph:this._graph||""}),this._subject=o.subject,null===o.predicate){if(a=this._readPredicate,o.subject===s)return a}else if(this._predicate=o.predicate,this._object=o.object,a=this._getTripleEndReader(),o.object===s)return a;n=s;break;default:return this._error('Expected list item instead of "'+e.type+'"',e)}return null===n&&(this._subject=n="_:b"+f++),null===r?o.object===s?o.object=n:o.subject=n:this._callback(null,{subject:r,predicate:l,object:n,graph:this._graph||""}),null!==t&&this._callback(null,{subject:n,predicate:u,object:t,graph:this._graph||""}),a},_readPunctuation:function(e){var t,n=this._subject,r=this._graph;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);this._graph=null;case".":this._subject=null,t=this._readInTopContext;break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"IRI":if(this._supportsQuads&&null===this._graph){r=null===this._base||c.test(e.value)?e.value:this._resolveIRI(e),n=this._subject,t=this._readQuadPunctuation;break}case"prefixed":if(this._supportsQuads&&null===this._graph){var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);r=i+e.value,t=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}return null!==n&&this._callback(null,{subject:n,predicate:this._predicate,object:this._object,graph:r||""}),t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}return this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""}),t},_readQuadPunctuation:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext},_readPrefix:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)},_readPrefixIRI:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t;return t=null===this._base||c.test(e.value)?e.value:this._resolveIRI(e),this._prefixes[this._prefix]=t,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation},_readBaseIRI:function(e){if("IRI"!==e.type)return this._error("Expected IRI to follow base declaration",e);try{this._setBase(null===this._base||c.test(e.value)?e.value:this._resolveIRI(e))}catch(t){this._error(t.message,e)}return this._readDeclarationPunctuation},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject="_:b"+f++,this._readGraph)},_readDeclarationPunctuation:function(e){return this._sparqlStyle?this._readInTopContext(e):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext},_getTripleEndReader:function(){var e=this._tripleStack;if(0===e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem}},_error:function(e,t){this._callback(new Error(e+" at line "+t.line+"."))},_resolveIRI:function(e){var t=e.value;switch(t[0]){case void 0:return this._base;case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return this._removeDotSegments(this._basePath+t)}},_removeDotSegments:function(e){if(!p.test(e))return e;for(var t="",n=e.length,r=-1,i=-1,o=0,a="/";r<n;){switch(a){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<n&&"/"!==e[i];)r=i;break;case"?":case"#":r=n;break;case"/":if("."===e[r+1])switch(a=e[++r+1]){case"/":t+=e.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return t+e.substring(o,r)+e.substr(r+1);case".":if(a=e[++r+1],void 0===a||"/"===a||"?"===a||"#"===a){if(t+=e.substring(o,r-2),(o=t.lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==a)return t+"/"+e.substr(r+1);o=r+1}}}a=e[++r]}return t+e.substring(o)},parse:function(e,t,n){this._readCallback=this._readInTopContext,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix||"_:b"+h++ +"_","function"==typeof e&&(n=t,t=e,e=null),this._callback=t||i,this._prefixCallback=n||i;var r=this;this._lexer.tokenize(e,function(e,t){null!==e?(r._callback(e),r._callback=i):void 0!==r._readCallback&&(r._readCallback=r._readCallback(t))}),e||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}},e.exports=r},function(e,t,n){function r(e,t){return this instanceof r?(this._size=0,this._graphs=Object.create(null),this._entities=Object.create(null),this._entities["><"]=0,this._entityCount=0,this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),this._prefixes=Object.create(null),t&&t.prefixes&&this.addPrefixes(t.prefixes),void(e&&this.addTriples(e))):new r(e,t)}var i=n(211).expandPrefixedName;r.prototype={get size(){var e=this._size;if(null!==e)return e;var t,n,r=this._graphs;for(var i in r)for(var o in t=r[i].subjects)for(var a in n=t[o])e+=Object.keys(n[a]).length;return this._size=e},_addToIndex:function(e,t,n,r){var i=e[t]||(e[t]={}),o=i[n]||(i[n]={});o[r]=null},_removeFromIndex:function(e,t,n,r){var i,o=e[t],a=o[n];delete a[r];for(i in a)return;delete o[n];for(i in o)return;delete e[t]},_findInIndex:function(e,t,n,r,i,o,a,s){var u,l,c,d=[],p=Object.keys(this._entities);t&&((u=e,e={})[t]=u[t]);for(var h in e){var f=p[h];if(l=e[h]){n&&((u=l,l={})[n]=u[n]);for(var v in l){var g=p[v];if(c=l[v])for(var m=(r?r in c?[r]:[]:Object.keys(c)),y=m.length-1;y>=0;y--){var b={subject:"",predicate:"",object:"",graph:s};b[i]=f,b[o]=g,b[a]=p[m[y]],d.push(b)}}}}return d},_countInIndex:function(e,t,n,r){var i,o,a,s=0;t&&((i=e,e={})[t]=i[t]);for(var u in e)if(o=e[u]){n&&((i=o,o={})[n]=i[n]);for(var l in o)(a=o[l])&&(r?r in a&&s++:s+=Object.keys(a).length)}return s},addTriple:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),r=r||"";var i=this._graphs[r];i||(i=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._entities;e=o[e]||(o[e]=++this._entityCount),t=o[t]||(o[t]=++this._entityCount),n=o[n]||(o[n]=++this._entityCount),this._addToIndex(i.subjects,e,t,n),this._addToIndex(i.predicates,t,n,e),this._addToIndex(i.objects,n,e,t),this._size=null},addTriples:function(e){for(var t=e.length-1;t>=0;t--)this.addTriple(e[t])},addPrefix:function(e,t){this._prefixes[e]=t},addPrefixes:function(e){for(var t in e)this.addPrefix(t,e[t])},removeTriple:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),r=r||"";var i,o=this._entities,a=this._graphs;if((e=o[e])&&(t=o[t])&&(n=o[n])&&(i=a[r])){var s,u;if((s=i.subjects[e])&&(u=s[t])&&n in u){this._removeFromIndex(i.subjects,e,t,n),this._removeFromIndex(i.predicates,t,n,e),this._removeFromIndex(i.objects,n,e,t),null!==this._size&&this._size--;for(e in i.subjects)return;delete a[r]}}},removeTriples:function(e){for(var t=e.length-1;t>=0;t--)this.removeTriple(e[t])},find:function(e,t,n,r){var o=this._prefixes;return this.findByIRI(i(e,o),i(t,o),i(n,o),i(r,o))},findByIRI:function(e,t,n,r){r=r||"";var i=this._graphs[r],o=this._entities;return i?e&&!(e=o[e])?[]:t&&!(t=o[t])?[]:n&&!(n=o[n])?[]:e?n?this._findInIndex(i.objects,n,e,t,"object","subject","predicate",r):this._findInIndex(i.subjects,e,t,null,"subject","predicate","object",r):t?this._findInIndex(i.predicates,t,n,null,"predicate","object","subject",r):n?this._findInIndex(i.objects,n,null,null,"object","subject","predicate",r):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",r):[]},count:function(e,t,n,r){var o=this._prefixes;return this.countByIRI(i(e,o),i(t,o),i(n,o),i(r,o))},countByIRI:function(e,t,n,r){r=r||"";var i=this._graphs[r],o=this._entities;return i?e&&!(e=o[e])?0:t&&!(t=o[t])?0:n&&!(n=o[n])?0:e?n?this._countInIndex(i.objects,n,e,t):this._countInIndex(i.subjects,e,t,n):t?this._countInIndex(i.predicates,t,n,e):this._countInIndex(i.objects,n,e,t):0},createBlankNode:function(e){var t,n;if(e)for(t=e="_:"+e,n=1;this._entities[t];)t=e+n++;else do t="_:b"+this._blankNodeIndex++;while(this._entities[t]);return this._entities[t]=++this._entityCount,t}},e.exports=r},function(e,t){function n(e,t){for(var n in c)t?e.prototype[n]=r(c[n]):e[n]=c[n];return e}function r(e){return function(t){return e(this,t)}}var i="http://www.w3.org/2001/XMLSchema#",o=i+"string",a=i+"integer",s=i+"decimal",u=i+"boolean",l="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",c={isIRI:function(e){if(!e)return e;var t=e[0];return'"'!==t&&"_"!==t},isLiteral:function(e){return e&&'"'===e[0]},isBlank:function(e){return e&&"_:"===e.substr(0,2)},getLiteralValue:function(e){var t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]},getLiteralType:function(e){var t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?l:o)},getLiteralLanguage:function(e){var t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""},isPrefixedName:function(e){return e&&/^[^:\/"']*:[^:\/"']+$/.test(e)},expandPrefixedName:function(e,t){var n,r,i,o=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(e);return o&&(n=o[1],r=t[n],i=o.index),void 0===r?e:0===i?r+e.substr(n.length+1):e.substr(0,i+3)+r+e.substr(i+n.length+4)},createIRI:function(e){return e&&'"'===e[0]?c.getLiteralValue(e):e},createLiteral:function(e,t){if(!t)switch(typeof e){case"boolean":t=u;break;case"number":if(isFinite(e)){t=e%1===0?a:s;break}default:return'"'+e+'"'}return'"'+e+(/^[a-z]+(-[a-z0-9]+)*$/i.test(t)?'"@'+t.toLowerCase():'"^^'+t)}};e.exports=n(n)},function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);i.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var t=this,n=new a(e);n.parse(function(e,n){n&&t.push(n)||e&&t.emit("error",e)},this.emit.bind(this,"prefix")),this._transform=function(e,t,r){n.addChunk(e),r()},this._flush=function(e){n.end(),e()}}var i=n(213).Transform,o=n(234),a=n(209);o.inherits(r,i),e.exports=r},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(214).EventEmitter,o=n(215);o(r,i),r.Readable=n(216),r.Writable=n(230),r.Duplex=n(231),r.Transform=n(232),r.PassThrough=n(233),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){l.removeListener("data",n),e.removeListener("drain",r),l.removeListener("end",o),l.removeListener("close",a),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",u),l.removeListener("close",u),e.removeListener("close",u)}var l=this;l.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(l.on("end",o),l.on("close",a));var c=!1;return l.on("error",s),e.on("error",s),l.on("end",u),l.on("close",u),e.on("close",u),e.emit("pipe",l),e}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){
if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,u=0;u<i;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){t=e.exports=n(217),t.Stream=n(213),t.Readable=t,t.Writable=n(226),t.Duplex=n(225),t.Transform=n(228),t.PassThrough=n(229),r.browser||"disable"!==r.env.READABLE_STREAM||(e.exports=n(213))}).call(t,n(198))},function(e,t,n){(function(t){function r(e,t){var r=n(225);e=e||{};var i=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(I||(I=n(227).StringDecoder),this.decoder=new I(e.encoding),this.encoding=e.encoding)}function i(e){n(225);return this instanceof i?(this._readableState=new r(e,this),this.readable=!0,void N.call(this)):new i(e)}function o(e,t,n,r,i){var o=l(t,n);if(o)e.emit("error",o);else if(R.isNullOrUndefined(n))t.reading=!1,t.ended||c(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e)),h(e,t);else i||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=k)e=k;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||R.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function l(e,t){var n=null;return R.isBuffer(t)||R.isString(t)||R.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function c(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}function d(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(S("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?t.nextTick(function(){p(e)}):p(e))}function p(e){S("emit readable"),e.emit("readable"),y(e)}function h(e,n){n.readingMore||(n.readingMore=!0,t.nextTick(function(){f(e,n)}))}function f(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(S("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function v(e){return function(){var t=e._readableState;S("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&C.listenerCount(e,"data")&&(t.flowing=!0,y(e))}}function g(e,n){n.resumeScheduled||(n.resumeScheduled=!0,t.nextTick(function(){m(e,n)}))}function m(e,t){t.resumeScheduled=!1,e.emit("resume"),y(e),t.flowing&&!t.reading&&e.read(0)}function y(e){var t=e._readableState;if(S("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function b(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!e||e>=i)n=o?r.join(""):T.concat(r,i),r.length=0;else if(e<r[0].length){var s=r[0];n=s.slice(0,e),r[0]=s.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new T(e);for(var u=0,l=0,c=r.length;l<c&&u<e;l++){var s=r[0],d=Math.min(e-u,s.length);o?n+=s.slice(0,d):s.copy(n,u,0,d),d<s.length?r[0]=s.slice(d):r.shift(),u+=d}}return n}function w(e){var n=e._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");n.endEmitted||(n.ended=!0,t.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function x(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function _(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}e.exports=i;var E=n(218),T=n(219).Buffer;i.ReadableState=r;var C=n(214).EventEmitter;C.listenerCount||(C.listenerCount=function(e,t){return e.listeners(t).length});var N=n(213),R=n(223);R.inherits=n(215);var I,S=n(224);S=S&&S.debuglog?S.debuglog("stream"):function(){},R.inherits(i,N),i.prototype.push=function(e,t){var n=this._readableState;return R.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new T(e,t),t="")),o(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(e){return I||(I=n(227).StringDecoder),this._readableState.decoder=new I(e),this._readableState.encoding=e,this};var k=8388608;i.prototype.read=function(e){S("read",e);var t=this._readableState,n=e;if((!R.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return S("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):d(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;S("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,S("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,S("reading or ended",r)),r&&(S("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?b(e,t):null,R.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),R.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,n){function r(e){S("onunpipe"),e===d&&o()}function i(){S("onend"),e.end()}function o(){S("cleanup"),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",s),e.removeListener("unpipe",r),d.removeListener("end",i),d.removeListener("end",o),d.removeListener("data",a),!p.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){S("ondata");var n=e.write(t);!1===n&&(S("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,d.pause())}function s(t){S("onerror",t),c(),e.removeListener("error",s),0===C.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",l),c()}function l(){S("onfinish"),e.removeListener("close",u),c()}function c(){S("unpipe"),d.unpipe(e)}var d=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,S("pipe count=%d opts=%j",p.pipesCount,n);var h=(!n||n.end!==!1)&&e!==t.stdout&&e!==t.stderr,f=h?i:o;p.endEmitted?t.nextTick(f):d.once("end",f),e.on("unpipe",r);var g=v(d);return e.on("drain",g),d.on("data",a),e._events&&e._events.error?E(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",u),e.once("finish",l),e.emit("pipe",d),p.flowing||(S("pipe resume"),d.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=_(t.pipes,e);return i===-1?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,n){var r=N.prototype.on.call(this,e,n);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&d(this,i);else{var o=this;t.nextTick(function(){S("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(S("resume"),e.flowing=!0,e.reading||(S("resume read 0"),this.read(0)),g(this,e)),this},i.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(S("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(S("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)R.isFunction(e[i])&&R.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return x(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){S("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=b}).call(t,n(198))},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){(function(e,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function o(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):u(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function a(t,n){if(t=v(t,n<0?0:0|g(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;r++)t[r]=0;return t}function s(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|y(t,n);return e=v(e,r),e.write(t,n),e}function u(t,n){if(e.isBuffer(n))return l(t,n);if($(n))return c(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return d(t,n);if(n instanceof ArrayBuffer)return p(t,n)}return n.length?h(t,n):f(t,n)}function l(e,t){var n=0|g(t.length);return e=v(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|g(t.length);e=v(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t){var n=0|g(t.length);e=v(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(t,n){return e.TYPED_ARRAY_SUPPORT?(n.byteLength,t=e._augment(new Uint8Array(n))):t=d(t,new Uint8Array(n)),t}function h(e,t){var n=0|g(t.length);e=v(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e,t){var n,r=0;"Buffer"===t.type&&$(t.data)&&(n=t.data,r=0|g(n.length)),e=v(e,r);for(var i=0;i<r;i+=1)e[i]=255&n[i];return e}function v(t,n){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(n)),t.__proto__=e.prototype):(t.length=n,t._isBuffer=!0);var r=0!==n&&n<=e.poolSize>>>1;return r&&(t.parent=K),t}function g(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function m(t,n){if(!(this instanceof m))return new m(t,n);var r=new e(t,n);return delete r.parent,r}function y(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),t<0&&(t=0),n>this.length&&(n=this.length),n<=t)return"";for(;;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return S(this,t,n);case"binary":return k(this,t,n);case"base64":return N(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function x(e,t,n,r){return G(V(t,e.length-n),e,n,r)}function _(e,t,n,r){return G(z(t),e,n,r)}function E(e,t,n,r){return _(e,t,n,r)}function T(e,t,n,r){return G(X(t),e,n,r)}function C(e,t,n,r){return G(W(t,e.length-n),e,n,r)}function N(e,t,n){return 0===t&&n===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,d;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(d=(31&o)<<6|63&u,d>127&&(a=d));break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(d=(15&o)<<12|(63&u)<<6|63&l,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(d=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c,d>65535&&d<1114112&&(a=d))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return I(r)}function I(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=J));return n}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;o++)i+=H(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,n,r,i,o,a){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>o||n<a)throw new RangeError("value is out of bounds");if(r+i>t.length)throw new RangeError("index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,o){if(t>i||t<o)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function U(e,t,n,r,i){return i||j(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return i||j(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,r,52,8),n+8}function B(e){if(e=q(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;a++){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function X(e){return Y.toByteArray(B(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}var Y=n(220),Q=n(221),$=n(222);t.Buffer=e,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var K={};e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,o=0,a=Math.min(r,i);o<a&&t[o]===n[o];)++o;return o!==a&&(r=t[o],i=n[o]),r<i?-1:i<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!$(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;r++)n+=t[r].length;var i=new e(n),o=0;for(r=0;r<t.length;r++){var a=t[r];a.copy(i,o),o+=a.length}return i},e.byteLength=y,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):b.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function r(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[r===-1?0:i-r]){if(r===-1&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(n<0&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return r(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):r(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return _(this,e,t,n);case"binary":return E(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=e._augment(this.subarray(t,n));else{var o=n-t;i=new e(o,(void 0));for(var a=0;a<o;a++)i[a]=this[a+t]}return i.length&&(i.parent=this.parent||this),i},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||A(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),Q.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),Q.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),Q.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),Q.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||D(this,e,t,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||D(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):M(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):M(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):L(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):L(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,a=1,s=e<0?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=e<0?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):M(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):M(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):L(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||D(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):L(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o,a=i-r;if(this===t&&r<n&&n<i)for(o=a-1;o>=0;o--)t[o+n]=this[o+r];else if(a<1e3||!e.TYPED_ARRAY_SUPPORT)for(o=0;o<a;o++)t[o+n]=this[o+r];else t._set(this.subarray(r,r+a),n);return a},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),n<t)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;r<n;r++)this[r]=e;else{var i=V(e.toString()),o=i.length;for(r=t;r<n;r++)this[r]=i[r%o]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,r=t.length;n<r;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=Z.get,t.set=Z.set,t.write=Z.write,t.toString=Z.toString,t.toLocaleString=Z.toString,t.toJSON=Z.toJSON,t.equals=Z.equals,t.compare=Z.compare,t.indexOf=Z.indexOf,t.copy=Z.copy,t.slice=Z.slice,t.readUIntLE=Z.readUIntLE,t.readUIntBE=Z.readUIntBE,t.readUInt8=Z.readUInt8,t.readUInt16LE=Z.readUInt16LE,t.readUInt16BE=Z.readUInt16BE,t.readUInt32LE=Z.readUInt32LE,t.readUInt32BE=Z.readUInt32BE,t.readIntLE=Z.readIntLE,t.readIntBE=Z.readIntBE,t.readInt8=Z.readInt8,t.readInt16LE=Z.readInt16LE,t.readInt16BE=Z.readInt16BE,t.readInt32LE=Z.readInt32LE,t.readInt32BE=Z.readInt32BE,t.readFloatLE=Z.readFloatLE,t.readFloatBE=Z.readFloatBE,t.readDoubleLE=Z.readDoubleLE,t.readDoubleBE=Z.readDoubleBE,t.writeUInt8=Z.writeUInt8,t.writeUIntLE=Z.writeUIntLE,t.writeUIntBE=Z.writeUIntBE,t.writeUInt16LE=Z.writeUInt16LE,t.writeUInt16BE=Z.writeUInt16BE,t.writeUInt32LE=Z.writeUInt32LE,t.writeUInt32BE=Z.writeUInt32BE,t.writeIntLE=Z.writeIntLE,t.writeIntBE=Z.writeIntBE,t.writeInt8=Z.writeInt8,t.writeInt16LE=Z.writeInt16LE,t.writeInt16BE=Z.writeInt16BE,t.writeInt32LE=Z.writeInt32LE,t.writeInt32BE=Z.writeInt32BE,t.writeFloatLE=Z.writeFloatLE,t.writeFloatBE=Z.writeFloatBE,t.writeDoubleLE=Z.writeDoubleLE,t.writeDoubleBE=Z.writeDoubleBE,t.fill=Z.fill,t.inspect=Z.inspect,t.toArrayBuffer=Z.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(219).Buffer,function(){return this}())},function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===d?62:t===s||t===p?63:t<u?-1:t<u+10?t-u+26+26:t<c+26?t-c:t<l+26?t-l+26:void 0}function n(e){function n(e){l[d++]=e}var r,i,a,s,u,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;u="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,l=new o(3*e.length/4-u),a=u>0?e.length-4:e.length;var d=0;for(r=0,i=0;r<a;r+=4,i+=3)s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&s)):1===u&&(s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(s>>8&255),n(255&s)),l}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,a,s=e.length%3,u="";for(i=0,a=e.length-s;i<a;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=n(o);switch(s){case 1:o=e[e.length-1],u+=t(o>>2),u+=t(o<<4&63),u+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],u+=t(o>>10),u+=t(o>>4&63),u+=t(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),d="-".charCodeAt(0),p="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=i}(t)},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?i-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,d=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+d>=1?p/u:p*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=f,a/=256,l-=8);e[n+h-f]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function l(e){return void 0===e}function c(e){return"[object RegExp]"===g(e)}function d(e){return"object"==typeof e&&null!==e}function p(e){return"[object Date]"===g(e)}function h(e){return"[object Error]"===g(e)||e instanceof Error}function f(e){return"function"==typeof e}function v(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=u,t.isUndefined=l,t.isRegExp=c,t.isObject=d,t.isDate=p,t.isError=h,t.isFunction=f,t.isPrimitive=v,t.isBuffer=e.isBuffer}).call(t,n(219).Buffer)},202,function(e,t,n){(function(t){function r(e){return this instanceof r?(u.call(this,e),l.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}e.exports=r;var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},s=n(223);s.inherits=n(215);var u=n(217),l=n(226);s.inherits(r,u),o(a(l.prototype),function(e){r.prototype[e]||(r.prototype[e]=l.prototype[e])})}).call(t,n(198))},function(e,t,n){(function(t){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(e,t){var r=n(225);e=e||{};var i=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(e){var t=n(225);return this instanceof o||this instanceof t?(this._writableState=new i(e,this),this.writable=!0,void E.call(this)):new o(e)}function a(e,n,r){var i=new Error("write after end");e.emit("error",i),t.nextTick(function(){r(i)})}function s(e,n,r,i){var o=!0;if(!(_.isBuffer(r)||_.isString(r)||_.isNullOrUndefined(r)||n.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),t.nextTick(function(){i(a)}),o=!1}return o}function u(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&_.isString(t)&&(t=new x(t,n)),t}function l(e,t,n,i,o){n=u(t,n,i),_.isBuffer(n)&&(i="buffer");var a=t.objectMode?1:n.length;t.length+=a;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):c(e,t,!1,a,n,i,o),s}function c(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function d(e,n,r,i,o){r?t.nextTick(function(){n.pendingcb--,o(i)}):(n.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function p(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,n){var r=e._writableState,i=r.sync,o=r.writecb;if(p(r),n)d(e,r,i,n,o);else{var a=m(e,r);a||r.corked||r.bufferProcessing||!r.buffer.length||g(e,r),i?t.nextTick(function(){f(e,r,a,o)}):f(e,r,a,o)}}function f(e,t,n,r){n||v(e,t),t.pendingcb--,r(),b(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,c(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,a=i.encoding,s=i.callback,u=t.objectMode?1:o.length;if(c(e,t,!1,u,o,a,s),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function m(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function b(e,t){var n=m(e,t);return n&&(0===t.pendingcb?(y(e,t),t.finished=!0,e.emit("finish")):y(e,t)),n}function w(e,n,r){n.ending=!0,b(e,n),r&&(n.finished?t.nextTick(r):e.once("finish",r)),n.ended=!0}e.exports=o;var x=n(219).Buffer;o.WritableState=i;var _=n(223);_.inherits=n(215);var E=n(213);_.inherits(o,E),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return _.isFunction(t)&&(n=t,t=null),_.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),_.isFunction(n)||(n=function(){}),r.ended?a(this,r,n):s(this,r,e,n)&&(r.pendingcb++,i=l(this,r,e,t,n)),i},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||g(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;_.isFunction(e)?(n=e,e=null,t=null):_.isFunction(t)&&(n=t,t=null),_.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(t,n(198))},function(e,t,n){function r(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=n(219).Buffer,u=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},l=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},l.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},l.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,u.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);s.call(this,e),this._transformState=new r(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(e){a(t,e)}):a(t)})}function a(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=o;var s=n(225),u=n(223);u.inherits=n(215),u.inherits(o,s),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;u.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t,n){function r(e){return this instanceof r?void i.call(this,e):new r(e)}e.exports=r;var i=n(228),o=n(223);o.inherits=n(215),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(226)},function(e,t,n){e.exports=n(225)},function(e,t,n){e.exports=n(228)},function(e,t,n){e.exports=n(229)},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,n,r){if(e.customInspect&&n&&N(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=u(e,i,r)),i}var o=l(e,n);if(o)return o;var a=Object.keys(n),v=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),C(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);
if(0===a.length){if(N(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return e.stylize(Date.prototype.toString.call(n),"date");if(C(n))return c(n)}var m="",y=!1,w=["{","}"];if(f(n)&&(y=!0,w=["[","]"]),N(n)){var x=n.name?": "+n.name:"";m=" [Function"+x+"]"}if(_(n)&&(m=" "+RegExp.prototype.toString.call(n)),T(n)&&(m=" "+Date.prototype.toUTCString.call(n)),C(n)&&(m=" "+c(n)),0===a.length&&(!y||0==n.length))return w[0]+m+w[1];if(r<0)return _(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var E;return E=y?d(e,n,r,v,a):a.map(function(t){return p(e,n,r,v,t,y)}),e.seen.pop(),h(E,m,w)}function l(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)O(t,String(a))?o.push(p(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}function p(e,t,n,r,i,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(n)?u(e,l.value,null):u(e,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function _(e){return E(e)&&"[object RegExp]"===I(e)}function E(e){return"object"==typeof e&&null!==e}function T(e){return E(e)&&"[object Date]"===I(e)}function C(e){return E(e)&&("[object Error]"===I(e)||e instanceof Error)}function N(e){return"function"==typeof e}function R(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function I(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}function k(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(P,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])a+=g(s)||!E(s)?" "+s:" "+i(s);return a},t.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var A,D={};t.debuglog=function(e){if(x(A)&&(A=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(A)){var n=r.pid;D[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else D[e]=function(){};return D[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=v,t.isNull=g,t.isNullOrUndefined=m,t.isNumber=y,t.isString=b,t.isSymbol=w,t.isUndefined=x,t.isRegExp=_,t.isObject=E,t.isDate=T,t.isError=C,t.isFunction=N,t.isPrimitive=R,t.isBuffer=n(235);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=n(215),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(198))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);i.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,n=new a({write:function(e,n,r){t.push(e),r&&r()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,r){n.addTriple(e,r)},this._flush=function(e){n.end(e)}}var i=n(213).Transform,o=n(234),a=n(237);o.inherits(r,i),e.exports=r},function(e,t){function n(e,t){if(!(this instanceof n))return new n(e,t);if(e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var r="";this._outputStream={write:function(e,t,n){r+=e,n&&n()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeTriple=this._writeTripleLine:(this._graph="",this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}function r(e){var t=l[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var i=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i,o="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=o+"type",s=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,u=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,l={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};n.prototype={_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeTriple:function(e,t,n,r,i){try{this._graph!==r&&(this._write((null===this._subject?"":this._graph?"\n}\n":".\n")+(r?this._encodeIriOrBlankNode(r)+" {\n":"")),this._subject=null,this._graph="["!==r[0]?r:"]"),this._subject===e?this._predicate===t?this._write(", "+this._encodeObject(n),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i):this._write((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i)}catch(o){i&&i(o)}},_writeTripleLine:function(e,t,n,r,i){delete this._prefixMatch;try{this._write(this._encodeIriOrBlankNode(e)+" "+this._encodeIriOrBlankNode(t)+" "+this._encodeObject(n)+(r?" "+this._encodeIriOrBlankNode(r)+".\n":".\n"),i)}catch(o){i&&i(o)}},_encodeIriOrBlankNode:function(e){var t=e[0];if("["===t||"("===t||"_"===t&&":"===e[1])return e;s.test(e)&&(e=e.replace(u,r));var n=this._prefixRegex.exec(e);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:e:"<"+e+">"},_encodeLiteral:function(e,t,n){return s.test(e)&&(e=e.replace(u,r)),n?'"'+e+'"@'+n:t?'"'+e+'"^^'+this._encodeIriOrBlankNode(t):'"'+e+'"'},_encodeSubject:function(e){if('"'===e[0])throw new Error("A literal as subject is not allowed: "+e);return"["===e[0]&&(this._subject="]"),this._encodeIriOrBlankNode(e)},_encodePredicate:function(e){if('"'===e[0])throw new Error("A literal as predicate is not allowed: "+e);return e===a?"a":this._encodeIriOrBlankNode(e)},_encodeObject:function(e){if('"'!==e[0])return this._encodeIriOrBlankNode(e);var t=i.exec(e);if(!t)throw new Error("Invalid literal: "+e);return this._encodeLiteral(t[1],t[2],t[3])},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addTriple:function(e,t,n,r,i){void 0===n?this._writeTriple(e.subject,e.predicate,e.object,e.graph||"",t):"string"!=typeof r?this._writeTriple(e,t,n,"",r):this._writeTriple(e,t,n,r,i)},addTriples:function(e){for(var t=0;t<e.length;t++)this.addTriple(e[t])},addPrefix:function(e,t,n){var r={};r[e]=t,this.addPrefixes(r,n)},addPrefixes:function(e,t){var n=this._prefixIRIs,r=!1;for(var i in e){var o=e[i];/[#\/]$/.test(o)&&n[o]!==(i+=":")&&(r=!0,n[o]=i,null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null,this._graph=""),this._write("@prefix "+i+" <"+o+">.\n"))}if(r){var a="",s="";for(var u in n)a+=a?"|"+u:u,s+=(s?"|":"")+n[u];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+s+")[^/]*$|^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(r?"\n":"",t)},blank:function(e,t){var n,r,i=e;switch(void 0===e?i=[]:"string"==typeof e?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return"[]";case 1:if(n=i[0],"["!==n.object[0])return"[ "+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object)+" ]";default:for(var o="[",a=0;a<r;a++)n=i[a],n.predicate===e?o+=", "+this._encodeObject(n.object):(o+=(a?";\n  ":"\n  ")+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object),e=n.predicate);return o+"\n]"}},list:function(e){for(var t=e&&e.length||0,n=new Array(t),r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return"("+n.join(" ")+")"},_prefixRegex:/$0^/,end:function(e){null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(n,r){t=null,e(n,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(n){}t&&t()}},e.exports=n},function(e,t){"use strict";function n(e){return function(t){return e+t}}e.exports=n},function(e,t,n){"use strict";function r(){var e=l.sym(""),t=[l.st(e,d.rdf("type"),d.solid("AppRegistry")),l.st(e,d.rdf("type"),d.solid("UnlistedDocument"))],n={data:u.serializeStatements(t),graph:u.graphFromStatements(t),slug:"privateAppRegistry.ttl",uri:null};return n}function i(){var e=l.sym(""),t=[l.st(e,d.rdf("type"),d.solid("AppRegistry")),l.st(e,d.rdf("type"),d.solid("ListedDocument"))],n={data:u.serializeStatements(t),graph:u.graphFromStatements(t),slug:"publicAppRegistry.ttl",uri:null};return n}function o(e,t){t=t||{};var n=e.appRegistryDefaultContainer(),i=l.sym(e.webId),o=r();return p.post(n,o.data,o.slug)["catch"](function(e){throw new Error("Could not create private registry document:",e)}).then(function(r){o.uri=c.absoluteUrl(h.hostname(n),r.url);var a=[l.st(i,d.solid("privateAppRegistry"),l.sym(o.uri))],s=[];return p.patch(e.privateProfileUri(),s,a,t)})["catch"](function(e){throw new Error("Could not update profile with private registry:"+e)}).then(function(t){return e.appRegistryUnlisted=o,e})}function a(e,t){t=t||{};var n=e.appRegistryDefaultContainer(),r=l.sym(e.webId),o=i();return p.post(n,o.data,o.slug)["catch"](function(e){throw new Error("Could not create public registry document:",e)}).then(function(i){o.uri=c.absoluteUrl(h.hostname(n),i.url);var a=[l.st(r,d.solid("publicAppRegistry"),l.sym(o.uri))],s=[];return p.patch(e.webId,s,a,t)})["catch"](function(e){throw new Error("Could not update profile with public registry:",e)}).then(function(t){return e.appRegistryListed=o,e})}function s(e,t){t=t||{},t.headers=t.headers||{},t.headers.Accept||(t.headers.Accept="text/turtle");var n=[];return e.appRegistryListed.uri&&n.push(e.appRegistryListed.uri),e.appRegistryUnlisted.uri&&n.push(e.appRegistryUnlisted.uri),p.loadParsedGraphs(n,t).then(function(t){return t.forEach(function(t){t&&t.value&&e.addAppRegistry(t.value,t.uri)}),e})}e.exports.blankPrivateAppRegistry=r,e.exports.blankPublicAppRegistry=i,e.exports.initAppRegistryPrivate=o,e.exports.initAppRegistryPublic=a,e.exports.loadAppRegistry=s;var u=n(240),l=n(190).rdflib,c=n(241),d=n(188),p=n(242),h=n(241)},function(e,t,n){"use strict";function r(e,t,n){t.statementsMatching(c).forEach(function(t){e.add(t.subject,t.predicate,t.object,t.why)})}function i(e,t){return"string"!=typeof e&&(e=e.toNT()),t&&e.endsWith(".")&&(e=e.slice(0,-1)),e}function o(e){var t=l.graph();return e.forEach(function(e){t.addStatement(e)}),t}function a(e,t,n){var r=l.graph();return l.parse(t,r,e,n),r}function s(e,t,n,r,i){var o={},a=e.statementsMatching(t,n,r,i);return a.forEach(function(e){o[e.object.uri]=!0}),Object.keys(o)}function u(e){var t=e.map(function(e){return e.toNT()});return t=t.join("\n")}e.exports.appendGraph=r,e.exports.parseGraph=a,e.exports.parseLinks=s,e.exports.serializeStatements=u,e.exports.graphFromStatements=o,e.exports.statementToNT=i;var l=n(190).rdflib,c=null},function(e,t,n){"use strict";function r(e,t){var n={};if(e){var r=e.split(",");r.forEach(function(t){t&&e.indexOf(t)>=0&&(n[t.trim().toLowerCase()]=!0)})}return t&&t.indexOf("application/sparql-update")>=0&&(n.patch=!0),n}function i(e){if(!e)return{};for(var t=/<[^>]*>\s*(\s*;\s*[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,n=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,r=e.match(t),i={},o=0;o<r.length;o++)for(var a=r[o].split(">"),s=a[0].substring(1),u=a[1],l=u.match(n),c=0;c<l.length;c++){var d=l[c],p=d.split("="),h=p[1].replace(/["']/g,"");i[h]||(i[h]=[]),i[h].push(s),i[h].length>1&&i[h].sort()}return i}function o(e){var t,n,r,i,o=e.split("//");return 2===o.length?(t=o[0],n=o[1]):n=e,i=n.split("/"),r=t?t+"//"+i[0]:i[0],e.startsWith("//")&&(r="//"+r),r}function a(e,t){return t&&"http"!==t.slice(0,4)?[e,t].map(function(e){return"/"===e[0]&&(e=e.slice(1)),"/"===e[e.length-1]&&(e=e.slice(0,e.length-1)),e}).join("/"):t}function s(e,t){var n="",r=!0;return e&&e.length>0&&(e=e.map(function(e){return u.statementToNT(e,r)}),n+="DELETE DATA { "+e.join(" . ")+" };\n"),t&&t.length>0&&(t=t.map(function(e){return u.statementToNT(e,r)}),n+="INSERT DATA { "+t.join(" . ")+" };\n"),n}e.exports.composePatchQuery=s,e.exports.parseAllowedMethods=r,e.exports.parseLinkHeader=i,e.exports.absoluteUrl=a,e.exports.hostname=o;var u=n(240)},function(e,t,n){"use strict";var r=n(243),i=n(240),o=n(244),a=n(245),s=n(188),u=n(247),l=n(248),c={createContainer:function(e,t,n,r){return this.post(e,r,t,!0)},createResponse:function(e,t){var n=new o(e,t);return"get"===n.method&&n.isContainer()?new a(n.location,n):n},currentUrl:function(){return"undefined"!=typeof window?window.location.href:null},needsProxy:function(e){var t=this.currentUrl(),n=t&&"https:"===t.slice(0,6),r=e&&"http:"===e.slice(0,5);return n&&r},proxyUrl:function(e,t){return t=t||r.proxyUrl,t.replace("{uri}",encodeURIComponent(e))},solidRequest:function(e,t,n,i){n=n||{},n.headers=n.headers||{},n.proxyUrl=n.proxyUrl||r.proxyUrl,n.timeout=n.timeout||r.timeout,(this.needsProxy(e)||n.forceProxy)&&(e=this.proxyUrl(e));var o=this;return new Promise(function(r,a){var s=new u;s.open(t,e),n.noCredentials||(s.withCredentials=!0);for(var c in n.headers)s.setRequestHeader(c,n.headers[c]);n.timeout&&(s.timeout=n.timeout),s.onload=function(){this.status>=200&&this.status<300?r(o.createResponse(this,t)):a(new l(this.status,this.statusText,{xhr:this}))},s.onerror=function(){a(new l(this.status,this.statusText,{xhr:this}))},"undefined"!=typeof i&&i?s.send(i):s.send()})},head:function(e,t){return this.solidRequest(e,"HEAD",t)},get:function(e,t){return t=t||{},t.headers=t.headers||{},t.headers.Accept||(t.headers.Accept="text/turtle;q=0.8,*/*;q=0.5"),this.solidRequest(e,"GET",t)},list:function(e,t){if(console.warn("web.list() is deprecated. Use web.get() instead."),"string"!=typeof e)throw new Error("Invalid url passed to list()");var n=""!==e,r=!e.endsWith("/");return n&&r&&(e+="/"),t=t||{},t.headers=t.headers||{},t.headers.Accept||(t.headers.Accept="text/turtle"),this.get(e,t).then(function(t){return new a(e,t)})},loadParsedGraphs:function(e,t){var n=this,r=e.map(function(e){return n.get(e,t).then(function(t){var n=t.contentType();return i.parseGraph(e,t.raw(),n)})["catch"](function(){return null}).then(function(t){return{uri:e,value:t}})});return Promise.all(r)},options:function(e){return this.solidRequest(e,"OPTIONS")},getParsedGraph:function d(e,t,i,o){if(t=t||r.proxyUrl,i=i||r.timeout,"rdflib"!==r.parser)throw Error("Parser library not supported: "+r.parser);var d=n(251).getParsedGraph;return d(e,t,i,o)},post:function(e,t,n,r,i){var o;r?(o=s.ldp("BasicContainer"),i="text/turtle"):(o=s.ldp("Resource"),i=i||"text/turtle");var a={};return a.headers={},a.headers.Link=o+'; rel="type"',a.headers["Content-Type"]=i,n&&n.length>0&&(a.headers.Slug=n),this.solidRequest(e,"POST",a,t)},put:function(e,t,n,r){return r=r||{},r.headers=r.headers||{},r.headers["Content-Type"]=n,this.solidRequest(e,"PUT",r,t)},patch:function(e,t,r,i){var o=n(241).composePatchQuery,a=o(t,r),s="application/sparql-update";return i=i||{},i.headers=i.headers||{},i.headers["Content-Type"]=s,this.solidRequest(e,"PATCH",i,a)},del:function(e){return this.solidRequest(e,"DELETE")}};c.create=c.post,c.replace=c.put,c.update=c.patch,e.exports=c},function(e,t){"use strict";e.exports={authEndpoint:"https://databox.me/",parser:"rdflib",proxyUrl:"https://databox.me/,proxy?uri={uri}",signupEndpoint:"https://solid.github.io/solid-idps/",signupWindowHeight:600,signupWindowWidth:1024,timeout:5e4}},function(e,t,n){"use strict";function r(e,t){if(!e)return this.xhr=null,this.user="",this.method=null,this.types=[],void(this.graph=null);var n=e.getResponseHeader("Link");this.linkHeaders=i.parseLinkHeader(n)||{},t=t?t.toLowerCase():"",this.method=t,this.acl=this.linkHeaders.acl,this.acl&&(this.acl=this.acl[0]),this.allowedMethods=this.parseAllowedMethods(e,t),this.graph=null,this.meta=this.linkHeaders.meta||this.linkHeaders.describedBy,this.meta&&(this.meta=this.meta[0]),this.types=this.linkHeaders.type||[],this.url=e.getResponseHeader("Location")||e.responseURL,this.user=e.getResponseHeader("User")||"",this.websocket=e.getResponseHeader("Updates-Via")||"",this.xhr=e}e.exports=r;var i=n(241),o=n(240);r.prototype.aclAbsoluteUrl=function a(){if(!this.acl)return this.acl;var a=i.absoluteUrl(this.url,this.acl);return a},r.prototype.contentType=function(){return this.xhr?this.xhr.getResponseHeader("Content-Type"):null},r.prototype.exists=function(){return this.xhr&&this.xhr.status>=200&&this.xhr.status<400},r.prototype.isContainer=function(){return this.isType("http://www.w3.org/ns/ldp#Container")||this.isType("http://www.w3.org/ns/ldp#BasicContainer")},r.prototype.isLoggedIn=function(){return this.user},r.prototype.isType=function(e){return this.types.indexOf(e)!==-1},r.prototype.metaAbsoluteUrl=function s(){if(!this.meta)return this.meta;var s=i.absoluteUrl(this.url,this.meta);return s},r.prototype.parseAllowedMethods=function(e,t){return"get"===t?{}:i.parseAllowedMethods(e.getResponseHeader("Allow"),e.getResponseHeader("Accept-Patch"))},r.prototype.parsedGraph=function(){return this.graph||(this.graph=o.parseGraph(this.url,this.raw(),this.contentType())),this.graph},r.prototype.raw=function(){return this.xhr?this.xhr.response:null}},function(e,t,n){"use strict";function r(e,t){u.call(this,e,t),this.containers={},this.contentsUris=[],this.resources={},t&&this.initFromResponse(this.uri,t)}e.exports=r;var i=n(190).rdflib,o=n(240),a=o.parseLinks,s=n(188),u=n(246);r.prototype=Object.create(u.prototype),r.prototype.constructor=r,r.prototype.appendFromGraph=function(e,t){this.types=Object.keys(e.findTypeURIs(i.sym(this.uri)));var n=a(e,null,s.ldp("contains"));this.contentsUris=this.contentsUris.concat(n.sort());var o,l=e.each(null,null,s.ldp("Container")),c=this;l.forEach(function(t){t.uri!==c.uri&&(o=new r(t.uri),o.types=Object.keys(e.findTypeURIs(t)),c.containers[o.uri]=o)});var d,p,h;n.forEach(function(t){p=t in c.containers,d=t!==c.uri&&!p,d&&(h=new u(t),h.types=Object.keys(e.findTypeURIs(i.sym(t))),c.resources[t]=h)})},r.prototype.findByType=function(e){var t,n,r=[];for(t in this.containers)n=this.containers[t],n.isType(e)&&r.push(n);var i;for(t in this.resources)i=this.resources[t],i.isType(e)&&r.push(i);return r},r.prototype.initFromResponse=function(e,t){var n=t.contentType();if(!n)throw new Error("Cannot parse container without a Content-Type: header");var r=o.parseGraph(e,t.raw(),n);this.parsedGraph=r,this.appendFromGraph(r,e)},u.prototype.isContainer=function(){return!0},r.prototype.isEmpty=function(){return 0===this.contentsUris.length}},function(e,t){"use strict";function n(e,t){this.name=null,this.parsedGraph=null,this.response=t,this.types=[],this.uri=e,t&&t.url!==e&&(this.uri=t.url),this.initName()}e.exports=n,n.prototype.initName=function(){if(this.uri){var e=this.uri.split("/");this.name=e.pop(),!this.name&&e.length>0&&(this.name=e.pop())}},n.prototype.isContainer=function(){return!1},n.prototype.isType=function(e){return this.types.indexOf(e)!==-1}},function(e,t,n){"use strict";var r;r="undefined"!=typeof tabulator&&tabulator.isExtension?Components.classes["@mozilla.org/xmlextras/xmlhttprequest;1"].createInstance().QueryInterface(Components.interfaces.nsIXMLHttpRequest):"undefined"!=typeof window&&"XMLHttpRequest"in window?window.XMLHttpRequest:n(193),e.exports=r},function(e,t,n){function r(e,t,n){if("string"==typeof e&&(e=s[e]),"number"!=typeof e)throw new TypeError("Non-numeric HTTP code");"object"==typeof t&&null!=t&&(n=t,t=null),o.call(this,t||a[e],n),this.code=e}function i(e){return{configurable:!0,get:function(){return this[e]},set:function(t){return this[e]=t}}}t=e.exports=r;var o=n(249),a=n(250),s=t;r.prototype=Object.create(o.prototype,{constructor:{value:r,configurable:!0,writable:!0}}),r.prototype.name="HttpError",Object.defineProperties(r.prototype,{statusCode:i("code"),statusMessage:i("message"),status:{configurable:!0,get:function(){return this.code},set:function(e){Object.defineProperty(this,"status",{value:e,configurable:!0,enumerable:!0,writable:!0})}}}),r.prototype.toString=function(){return this.name+": "+this.code+" "+this.message};for(var u in a){var l=a[u];t[l.replace("'","").replace(/[- ]/g,"_").toUpperCase()]=+u}},function(e,t){function n(e,t){if(e&&"object"==typeof e?(t=e,e=void 0):this.message=e,t)for(var n in t)this[n]=t[n];r.call(this,"name")||(this.name=r.call(i(this),"name")?this.name:this.constructor.name),!o||"stack"in this||o(this,this.constructor)}var r=Object.hasOwnProperty,i=Object.getPrototypeOf,o=Error.captureStackTrace;e.exports=n,n.prototype=Object.create(Error.prototype,{constructor:{value:n,configurable:!0,writable:!0}}),n.prototype.name="StandardError"},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){"use strict";var r=n(190).rdflib,i={getParsedGraph:function(e,t,n,i){r.Fetcher.crossSiteProxyTemplate=t;var o=new Promise(function(t,o){var a=r.graph(),s=new r.Fetcher(a,n),u=e.indexOf("#")>=0?e.slice(0,e.indexOf("#")):e;s.nowOrWhenFetched(u,void 0,function(e,n,r){e?t(a):i?t(null):o({status:r.status,xhr:r})})},function(e){console.log("Error in getParsedGraph: %o",e)});return o}};e.exports=i},function(e,t,n){"use strict";function r(){if("undefined"==typeof window)return null;var e=window.location.href;return o(e)["catch"](function(e){return null})}function i(){var e=new Promise(function(e,t){var n=window.addEventListener?"addEventListener":"attachEvent",r=window[n],i="attachEvent"===n?"onmessage":"message";r(i,function(n){var r=n.data;if("User:"===r.slice(0,5)){var i=r.slice(5,r.length);return i&&i.length>0&&"http"===i.slice(0,4)?e(i):t(i)}},!0)});return e}function o(e,t){var r=n(243).authEndpoint;return e=e||window.location.origin+window.location.pathname,t=t||r,s.head(e).then(function(e){return e.isLoggedIn()?e.user:s.head(t).then(function(e){return e.user})})}function a(e){var t=n(243);e=e||t.signupEndpoint;var r=t.signupWindowWidth,o=t.signupWindowHeight,a=window.screen.width/2-(r/2+10),s=window.screen.height/2-(o/2+50),u="Solid signup",l=e+"?origin="+encodeURIComponent(window.location.origin),c="resizable,scrollbars,status,width="+r+",height="+o+",left="+a+",top="+s;return window.open(l,u,c),new Promise(function(e,t){i().then(function(t){return e(t)})["catch"](function(e){return t(e)})})}e.exports.currentUser=r,e.exports.listen=i,e.exports.login=o,e.exports.signup=a;var s=n(242)},function(e,t,n){"use strict";function r(e){return s.options(e).then(function(e){var t=e.metaAbsoluteUrl();if(!t)throw new Error("Could not find a meta URL in the Link header");return s.getParsedGraph(t)}).then(function(t){var n=t.any(void 0,l.solid("account"));if(!n||!n.uri)throw new Error("Could not find a WebID matching the domain "+e);return n})}function i(e,t){return t=t||{},t.headers=t.headers||{Accept:"text/turtle"},t.noCredentials=!0,s.get(e,t).then(function(n){var r=n.contentType();if(!r)throw new Error("Cannot parse profile without a Content-Type: header");var i=a.parseGraph(e,n.raw(),r),s=new u(e,i,n);return s.isLoaded=!0,t.ignoreExtended?s:o(s,t)})}function o(e,t){var n=e.relatedProfilesLinks();return s.loadParsedGraphs(n,t).then(function(t){return t.forEach(function(t){t&&t.value&&e.appendFromGraph(t.value,t.uri)}),e})}e.exports.discoverWebID=r,e.exports.getProfile=i,e.exports.loadExtendedProfile=o;var a=n(240),s=n(242),u=n(254),l=n(188)},function(e,t,n){"use strict";function r(e,t,n){this.appRegistryListed={uri:null,graph:null},this.appRegistryUnlisted={uri:null,graph:null},this.inbox={uri:null,graph:null},this.isLoaded=!1,this.picture=null,this.name=null,this.storage=[],this.typeIndexListed={uri:null,graph:null},this.typeIndexUnlisted={uri:null,graph:null},this.parsedGraph=null,this.preferences={uri:null,graph:null},this.response=n,this.relatedProfiles={sameAs:[],seeAlso:[]},this.webId=null,e&&(this.baseProfileUrl=e.indexOf("#")>=0?e.slice(0,e.indexOf("#")):e,t&&(this.initWebId(t),this.appendFromGraph(t,this.baseProfileUrl)))}function i(e,t){var n=s.sym(e),r=u.foaf("primaryTopic"),i=t.any(n,r);return i}function o(e,t,n,r,i){var o=e.any(t,n,r,i);return o?o.uri:null}e.exports=r;var a=n(239),s=n(190).rdflib,u=n(188),l=n(255),c=n(256),d=n(240),p=d.parseLinks,h="/settings/prefs.ttl",f="/profile/";r.prototype.appendFromGraph=function(e,t){if(e){this.parsedGraph=this.parsedGraph||s.graph(),d.appendGraph(this.parsedGraph,e,t);var n,r=s.sym(this.webId);this.name||(this.name=this.find(u.foaf("name"))),this.picture||(this.picture=this.find(u.foaf("img"))),n=p(e,null,u.owl("sameAs")),this.relatedProfiles.sameAs=this.relatedProfiles.sameAs.concat(n),n=p(e,null,u.rdfs("seeAlso")),this.relatedProfiles.seeAlso=this.relatedProfiles.seeAlso.concat(n),this.preferences.uri||(this.preferences.uri=o(e,r,u.pim("preferencesFile"))),this.inbox.uri||(this.inbox.uri=o(e,r,u.solid("inbox"))),n=p(e,r,u.pim("storage")),this.storage=this.storage.concat(n),this.typeIndexListed.uri||(this.typeIndexListed.uri=o(e,r,u.solid("publicTypeIndex"))),this.typeIndexUnlisted.uri||(this.typeIndexUnlisted.uri=o(e,r,u.solid("privateTypeIndex"))),this.appRegistryListed.uri||(this.appRegistryListed.uri=o(e,r,u.solid("publicAppRegistry"))),this.appRegistryUnlisted.uri||(this.appRegistryUnlisted.uri=o(e,r,u.solid("privateAppRegistry")))}},r.prototype.appRegistryDefaultContainer=function(){var e,t=this.webId||this.baseProfileUrl;return e=t?t.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")+"/":f},r.prototype.find=function(e){if(!this.parsedGraph)throw new Error("Profile graph not yet loaded.");var t=s.sym(this.webId),n=this.parsedGraph.any(t,e);return n?n.value||n.uri:n},r.prototype.findAll=function(e){if(!this.parsedGraph)throw new Error("Profile graph not yet loaded.");var t=s.sym(this.webId),n=this.parsedGraph.statementsMatching(t,e);return n=n.map(function(e){return e.object.value||e.object.uri}),n.sort()},r.prototype.initWebId=function(e){if(e)try{this.webId=i(this.baseProfileUrl,e).uri}catch(t){throw new Error("Unable to parse WebID from profile: "+t)}},r.prototype.relatedProfilesLinks=function(){var e=[];return e=e.concat(this.relatedProfiles.sameAs).concat(this.relatedProfiles.seeAlso),this.preferences.uri&&(e=e.concat(this.preferences.uri)),e},r.prototype.hasAppRegistryPrivate=function(){if(!this.isLoaded)throw new Error("Must load profile before checking if registry exists.");return this.appRegistryUnlisted.uri},r.prototype.hasAppRegistryPublic=function(){if(!this.isLoaded)throw new Error("Must load profile before checking if registry exists.");return this.appRegistryListed.uri},r.prototype.hasStorage=function(){return this.storage&&this.storage.length>0},r.prototype.hasTypeRegistryPrivate=function(){if(!this.isLoaded)throw new Error("Must load profile before checking if registry exists.");return this.typeIndexUnlisted.uri},r.prototype.hasTypeRegistryPublic=function(){if(!this.isLoaded)throw new Error("Must load profile before checking if registry exists.");return this.typeIndexListed.uri},r.prototype.loadAppRegistry=function(e){return a.loadAppRegistry(this,e)},r.prototype.loadTypeRegistry=function(e){return c.loadTypeRegistry(this,e)},r.prototype.addAppRegistry=function(e,t){if(l.isListed(e))this.appRegistryListed.graph||(this.appRegistryListed.uri=t,this.appRegistryListed.graph=e);else{if(!l.isUnlisted(e))throw new Error("Attempting to add an invalid app registry resource");this.appRegistryUnlisted.graph||(this.appRegistryUnlisted.uri=t,this.appRegistryUnlisted.graph=e)}},r.prototype.addTypeRegistry=function(e,t){if(l.isListed(e))this.typeIndexListed.graph||(this.typeIndexListed.uri=t,this.typeIndexListed.graph=e);else{if(!l.isUnlisted(e))throw new Error("Attempting to add an invalid type registry index");this.typeIndexUnlisted.graph||(this.typeIndexUnlisted.uri=t,this.typeIndexUnlisted.graph=e)}},r.prototype.reloadAppRegistry=function(){return this.resetAppRegistry(),this.loadAppRegistry()},r.prototype.reloadTypeRegistry=function(){return this.resetTypeRegistry(),this.loadTypeRegistry()},r.prototype.resetAppRegistry=function(){this.appRegistryListed.graph=null,this.appRegistryUnlisted.graph=null},r.prototype.resetTypeRegistry=function(){this.typeIndexListed.graph=null,this.typeIndexUnlisted.graph=null},r.prototype.typeRegistryForClass=function(e){return c.typeRegistryForClass(this,e)},r.prototype.typeRegistryDefaultContainer=function(){
var e,t=this.webId||this.baseProfileUrl;return e=t?t.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,"")+"/":f},r.prototype.privateProfileUri=function(){return this.preferences&&this.preferences.uri?this.preferences.uri:h},r.prototype.registerType=function(e,t,n,r){return c.registerType(this,e,t,n,r)},r.prototype.unregisterType=function(e,t,n){return c.unregisterType(this,e,t,n)}},function(e,t,n){"use strict";function r(e){return e.any(null,null,o.solid("UnlistedDocument"),e.uri)}function i(e){return e.any(null,null,o.solid("ListedDocument"),e.uri)}e.exports.isListed=i,e.exports.isUnlisted=r;var o=n(188)},function(e,t,n){"use strict";function r(){var e=v.sym(""),t=[v.st(e,w.rdf("type"),w.solid("TypeIndex")),v.st(e,w.rdf("type"),w.solid("UnlistedDocument"))],n={data:y.serializeStatements(t),graph:y.graphFromStatements(t),slug:"privateTypeIndex.ttl",uri:null};return n}function i(){var e=v.sym(""),t=[v.st(e,w.rdf("type"),w.solid("TypeIndex")),v.st(e,w.rdf("type"),w.solid("ListedDocument"))],n={data:y.serializeStatements(t),graph:y.graphFromStatements(t),slug:"publicTypeIndex.ttl",uri:null};return n}function o(e,t){t=t||{};var n=e.typeRegistryDefaultContainer(),i=v.sym(e.webId),o=r();return g.post(n,o.data,o.slug)["catch"](function(e){throw new Error("Could not create privateIndex document:",e)}).then(function(r){o.uri=m.absoluteUrl(b.hostname(n),r.url);var a=[v.st(i,w.solid("privateTypeIndex"),v.sym(o.uri))],s=[];return g.patch(e.privateProfileUri(),s,a,t)})["catch"](function(e){throw new Error("Could not update profile with private index:"+e)}).then(function(t){return e.typeIndexUnlisted=o,e})}function a(e,t){t=t||{};var n=e.typeRegistryDefaultContainer(),r=v.sym(e.webId),o=i();return g.post(n,o.data,o.slug)["catch"](function(e){throw new Error("Could not create publicIndex document:",e)}).then(function(i){o.uri=m.absoluteUrl(b.hostname(n),i.url);var a=[v.st(r,w.solid("publicTypeIndex"),v.sym(o.uri))],s=[];return g.patch(e.webId,s,a,t)})["catch"](function(e){throw new Error("Could not update profile with public index:",e)}).then(function(t){return e.typeIndexListed=o,e})}function s(e,t,r,i,o){var a,s,u=n(186),l=u.unique(t.uri);if(o?(a=e.typeIndexListed.uri,s=e.typeIndexListed.graph):(a=e.typeIndexUnlisted.uri,s=e.typeIndexUnlisted.graph),!a)throw new Error("Cannot register type, registry URL missing");var c,d=v.sym(a+"#"+l);"instance"===i?c=w.solid("instance"):(c=w.solid("instanceContainer"),r.lastIndexOf("/")!==r.length-1&&(r+="/"));var p=[],h=[v.st(d,w.rdf("type"),w.solid("TypeRegistration")),v.st(d,w.solid("forClass"),t),v.st(d,c,v.sym(r))];return g.patch(a,p,h).then(function(t){var n=y.graphFromStatements(h);return s?y.appendGraph(s,n):s=n,e})}function u(e,t){t=t||{},t.headers=t.headers||{},t.headers.Accept||(t.headers.Accept="text/turtle");var n=[];return e.typeIndexListed.uri&&n.push(e.typeIndexListed.uri),e.typeIndexUnlisted.uri&&n.push(e.typeIndexUnlisted.uri),g.loadParsedGraphs(n,t).then(function(t){return t.forEach(function(t){t&&t.value&&e.addTypeRegistry(t.value,t.uri)}),e})}function l(e,t,n,r,i){if(!e)throw new Error("No profile provided");if(!e.isLoaded)throw new Error("Profile is not loaded");if(!t||!n)throw new Error("Type registration requires type class and location");if(r=r||"container","container"!==r&&"instance"!==r)throw new Error("Invalid location type");return u(e).then(function(e){return i&&!e.hasTypeRegistryPublic()?a(e):i||e.hasTypeRegistryPrivate()?e:o(e)}).then(function(e){return s(e,t,n,r,i)})}function c(e,t){var n=[],r=!0;return n.concat(d(e.typeIndexListed.graph,t,r)).concat(d(e.typeIndexUnlisted.graph,t,!r))}function d(e,t,n){var r,i,o,a=[];if(!e)return a;var s=e.statementsMatching(null,null,t);return s.forEach(function(s){r=s.subject,i=e.statementsMatching(r,w.solid("instance")),i.forEach(function(e){a.push(new f(r.uri,t,"instance",e.object.uri,n))}),o=e.statementsMatching(r,w.solid("instanceContainer")),o.forEach(function(e){a.push(new f(r.uri,t,"container",e.object.uri,n))})}),a}function p(e,t,n,r){var i,o;if(n?(i=e.typeIndexListed.uri,o=e.typeIndexListed.graph):(i=e.typeIndexUnlisted.uri,o=e.typeIndexUnlisted.graph),!i)throw new Error("Cannot unregister type, registry URL missing");var a=d(o,t,n);if(0===a.length)return Promise.resolve(e);r&&(a=a.filter(function(e){return e.locationUri===r}));var s=[];a.forEach(function(e){o.statementsMatching(v.sym(e.registrationUri)).forEach(function(e){s.push(e)})});var u=[];return g.patch(i,s,u).then(function(t){return e.reloadTypeRegistry()})}function h(e,t,n,r){if(!e)throw new Error("No profile provided");if(!e.isLoaded)throw new Error("Profile is not loaded");if(!t)throw new Error("Unregistering a type requires type class");return u(e).then(function(e){if(n&&!e.typeIndexListed.graph)throw new Error("Profile has no Listed type index");if(!n&&!e.typeIndexUnlisted.graph)throw new Error("Profile has no Unlisted type index");return p(e,t,n,r)})}e.exports.blankPrivateTypeIndex=r,e.exports.blankPublicTypeIndex=i,e.exports.initTypeRegistryPrivate=o,e.exports.initTypeRegistryPublic=a,e.exports.loadTypeRegistry=u,e.exports.registerType=l,e.exports.typeRegistryForClass=c,e.exports.unregisterType=h;var f=n(257),v=n(190).rdflib,g=n(242),m=n(241),y=n(240),b=n(241),w=n(188)},function(e,t){"use strict";function n(e,t,n,r,i){this.isListed=i,this.locationType=n,this.locationUri=r,this.rdfClass=t,this.registrationUri=e}e.exports=n,n.prototype.isContainer=function(){return"container"===this.locationType},n.prototype.isInstance=function(){return"instance"===this.locationType}},function(e,t,n){"use strict";function r(e){var t;return a.head(e).then(function(e){if(t=e.aclAbsoluteUrl(),!t)throw new Error("ACL URL not found for resource.");return a.del(t)})}function i(e){var t,n;return a.head(e).then(function(r){if(t=r.aclAbsoluteUrl(),!t)throw new Error("ACL URL not found for resource.");return n=new o(e,t,r.isContainer()),a.getParsedGraph(t)}).then(function(e){return n.initFromGraph(e),n})}var o=n(259),a=n(242);e.exports.clearPermissions=r,e.exports.getPermissions=i},function(e,t,n){"use strict";function r(e,t,n){this.authorizations={},this.resourceUrl=e,this.aclUrl=t,this.resourceType=n?R:N}function i(e){var t=e.hashFragment();return t in this.authorizations?this.authorizations[t].mergeWith(e):this.authorizations[t]=e,this}function o(e,t){var n=new _(this.resourceUrl,this.isAuthInherited());return n.setGroup(e),n.addMode(t),this.addAuthorization(n),this}function a(e,t,n){if(!e)throw new Error("addPermission() requires a valid webId");if(!t)throw new Error("addPermission() requires a valid accessMode");var r=new _(this.resourceUrl,this.isAuthInherited());return r.setAgent(e),r.addMode(t),n&&r.addOrigin(n),this.addAuthorization(r),this}function s(){var e,t=[],n=this;return Object.keys(this.authorizations).forEach(function(r){e=n.authorizations[r],t.push(e)}),t}function u(){var e=T.graph();return this.allAuthorizations().forEach(function(t){e.add(t.rdfStatements())}),e}function l(){var e=this.aclUrl;return e?C.del(e):Promise.reject(new Error("Cannot clear - unknown target url"))}function c(){return Object.keys(this.authorizations).length}function d(e){var t=this,n=this.resourceUrl===e.resourceUrl,r=this.aclUrl===e.aclUrl,i=this.resourceType===e.resourceType,o=Object.keys(this.authorizations),a=Object.keys(e.authorizations);if(o.length!==a.length)return!1;var s,u,l=!0;return o.forEach(function(n){s=t.authorizations[n],u=e.authorizations[n],u||(l=!1),s.equals(u)||(l=!1)}),n&&r&&i&&l}function p(e){var t=this;this.allAuthorizations().forEach(function(n){e.call(t,n)})}function h(e){var t,n,r,i,o,a,s,u,l,c=e.statementsMatching(null,null,E.acl("Authorization")),d=this;c.forEach(function(c){t=c.subject,n=e.statementsMatching(t,E.acl("agent")),r=n.filter(x),n=n.filter(function(e){return!x(e)}),i=e.statementsMatching(t,E.acl("agentClass")),o=e.statementsMatching(t,E.acl("accessTo")),s=e.statementsMatching(t,E.acl("mode")),u=e.statementsMatching(t,E.acl("origin")),l=e.any(t,E.acl("defaultForNew"))||e.any(t,E.acl("default")),n.forEach(function(e){o.forEach(function(t){a=new _(t.object.uri,l),a.setAgent(e),a.addMode(s),a.addOrigin(u),r.forEach(function(e){a.addMailTo(e)}),d.addAuthorization(a)})}),i.forEach(function(e){o.forEach(function(t){a=new _(t.object.uri,l),a.setGroup(e),a.addMode(s),a.addOrigin(u),d.addAuthorization(a)})})})}function f(){return this.resourceType===R}function v(){return 0===this.count()}function g(e,t){if(!e)return null;t=t||this.resourceUrl;var n=_.hashFragmentFor(e,t);return this.authorizations[n]}function m(e){var t=e.hashFragment();return delete this.authorizations[t],this}function y(e,t){var n=this.permissionFor(e,this.resourceUrl);return n?(n.removeMode(t),n.isEmpty()&&this.removeAuthorization(n),this):this}function b(e){return e=e||this.aclUrl,e?C.put(e,this.serialize()):Promise.reject(new Error("Cannot save - unknown target url"))}function w(e){e=e||"text/turtle";var t=this.buildGraph(),n=null,r=null;return new Promise(function(i,o){T.serialize(n,t,r,e,function(t,n){return t?o(t):n?void i(n):o(new Error("Error serializing the graph to "+e))})})}function x(e){return"string"==typeof e?e.startsWith("mailto:"):e.object.uri.startsWith("mailto:")}var _=n(185),E=n(188),T=n(190).rdflib,C=n(242),N="resource",R="container";r.prototype.addAuthorization=i,r.prototype.addGroupPermission=o,r.prototype.addPermission=a,r.prototype.allAuthorizations=s,r.prototype.buildGraph=u,r.prototype.clear=l,r.prototype.count=c,r.prototype.equals=d,r.prototype.forEach=p,r.prototype.initFromGraph=h,r.prototype.isAuthInherited=f,r.prototype.isEmpty=v,r.prototype.permissionFor=g,r.prototype.removeAuthorization=m,r.prototype.removePermission=y,r.prototype.save=b,r.prototype.serialize=w,e.exports=r,e.exports.RESOURCE=N,e.exports.CONTAINER=R,e.exports.isMailTo=x},function(e,t,n){"use strict";var r=n(261);e.exports.version=function(){return r.version}},function(e,t){e.exports={_args:[[{raw:"solid-client",scope:null,escapedName:"solid-client",name:"solid-client",rawSpec:"",spec:"latest",type:"tag"},"/home/dan/solid/repos/solid-dashboard-ui"]],_from:"solid-client@latest",_id:"solid-client@0.20.0",_inCache:!0,_installable:!0,_location:"/solid-client",_nodeVersion:"6.2.1",_npmOperationalInternal:{host:"packages-16-east.internal.npmjs.com",tmp:"tmp/solid-client-0.20.0.tgz_1466692561907_0.03752308199182153"},_npmUser:{name:"dan-f",email:"dfriedman58@gmail.com"},_npmVersion:"3.9.3",_phantomChildren:{},_requested:{raw:"solid-client",scope:null,escapedName:"solid-client",name:"solid-client",rawSpec:"",spec:"latest",type:"tag"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/solid-client/-/solid-client-0.20.0.tgz",_shasum:"1e6557f343d47b22367944253a0c102880a035c4",_shrinkwrap:null,_spec:"solid-client",_where:"/home/dan/solid/repos/solid-dashboard-ui",author:{name:"Andrei Sambra",email:"andrei@fcns.eu"},bugs:{url:"https://github.com/solid/solid.js/issues"},dependencies:{"rdf-ns":"0.0.2",rdflib:"^0.7.0",shorthash:"0.0.2","standard-http-error":"^2.0.0",xhr2:"^0.1.3"},description:"Common library for writing Solid read-write-web applications",devDependencies:{"blue-tape":"^0.2.0",browserify:"^13.0.0",minifyify:"^7.2.1",qunit:"^0.9.0",standard:"^5.4.1",tape:"^4.4.0"},directories:{},dist:{shasum:"1e6557f343d47b22367944253a0c102880a035c4",tarball:"https://registry.npmjs.org/solid-client/-/solid-client-0.20.0.tgz"},files:["index.js","config.js","lib","dist"],gitHead:"49950ec11057cfdb7227a8759b8117fb825f01d5",homepage:"https://github.com/solid/solid.js",keywords:["solid","decentralized","web","rdf","ldp","linked","data"],license:"MIT",main:"./index.js",maintainers:[{name:"codenamedmitri",email:"dzagidulin@gmail.com"},{name:"dan-f",email:"dfriedman58@gmail.com"}],name:"solid-client",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/solid/solid.js.git"},scripts:{build:"npm run test && npm run clean && mkdir dist && npm run build-with-rdflib && npm run build-without-rdflib","build-qunit-resources":"npm run clean && mkdir -p dist/resources && npm run build-with-rdflib && browserify -r ./test/resources/profile-minimal.js:test-minimal-profile -o dist/resources/test-minimal-profile.js && browserify -r ./test/resources/profile-private.js:test-minimal-prefs -o dist/resources/test-minimal-prefs.js","build-with-rdflib":"browserify -r ./index.js:solid --exclude 'xhr2' -d -p [minifyify --map dist/solid-client.js.map --output dist/solid-client.js.map] --standalone 'SolidClient' -o dist/solid-client.min.js","build-without-rdflib":"browserify -r ./index.js:solid --exclude 'xhr2' --exclude 'rdflib' -d -p [minifyify --map dist/solid-client-no-rdflib.js.map --output dist/solid-client-no-rdflib.js.map] --standalone 'SolidClient' -o dist/solid-client-no-rdflib.min.js",clean:"rm -rf dist/",prepublish:"npm run build",qunit:"npm run build-qunit-resources && open test/integration/index.html",standard:"standard lib/*",tape:"tape test/unit/*.js",test:"npm run standard && npm run tape"},standard:{globals:["$rdf","SolidClient","tabulator","QUnit"]},version:"0.20.0"}},function(e,t){"use strict";function n(){return window.navigator.onLine}function r(e){window.addEventListener("offline",e,!1)}function i(e){window.addEventListener("online",e,!1)}e.exports.isOnline=n,e.exports.onOffline=r,e.exports.onOnline=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){return{profile:e.profile}}function a(e){return{actions:(0,c.bindActionCreators)(p,e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=i(s),l=n(161),c=n(168),d=n(183),p=r(d),h=n(264),f=i(h),v=n(268),g=i(v),m=function(e){var t=e.profile;e.actions;return u["default"].createElement("div",null,u["default"].createElement(g["default"],{picURL:t.picture||"assets/img/solid-logo.svg"}),u["default"].createElement(f["default"],null))};m.propTypes={profile:s.PropTypes.object.isRequired,actions:s.PropTypes.object.isRequired},t["default"]=(0,l.connect)(o,a)(m)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){return{profile:e.profile}}function a(e){return{actions:(0,c.bindActionCreators)(p,e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=i(s),l=n(161),c=n(168),d=n(183),p=r(d),h=n(265),f=i(h),v=n(266),g=i(v),m=function(e){var t=e.profile,n=e.actions;return u["default"].createElement("div",{className:"container"},t.isLoaded?u["default"].createElement(g["default"],{profile:t}):u["default"].createElement(f["default"],{logIn:n.logIn}))};m.propTypes={profile:s.PropTypes.object.isRequired,actions:s.PropTypes.object.isRequired},t["default"]=(0,l.connect)(o,a)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=function(e){var t=e.logIn;return o["default"].createElement("div",{className:"row"},o["default"].createElement("div",{className:"col-xs-12"},o["default"].createElement("span",{className:"center-block",style:{textAlign:"center"}},o["default"].createElement("button",{className:"btn btn-link centered",style:{padding:"0px",verticalAlign:"baseline"},onClick:t},"Log In")," or ",o["default"].createElement("a",{href:"https://solid.github.io/solid-signup/"},"Sign Up")," to see your apps.")))};a.propTypes={logIn:i.PropTypes.func.isRequired},t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(267),s=r(a),u=function(e){var t=e.profile;return o["default"].createElement("div",null,o["default"].createElement("div",{className:"row"},o["default"].createElement("div",{className:"col-sm-4"},o["default"].createElement(s["default"],{title:"Profile Builder",url:"https://solid.github.io/solid-profile-ui/",description:"Edit your solid profile."})),o["default"].createElement("div",{className:"col-sm-4"},o["default"].createElement(s["default"],{title:"Connections",url:"https://solid.github.io/solid-connections-ui/",description:"Make Connections."})),o["default"].createElement("div",{className:"col-sm-4"},o["default"].createElement(s["default"],{title:"Inbox",url:"https://solid.github.io/solid-inbox/",description:"Read your messages."}))),o["default"].createElement("div",{className:"row"},t.storage.length?o["default"].createElement("div",{className:"col-sm-4"},o["default"].createElement(s["default"],{title:"Storage",url:t.storage[0],description:"Access your files."})):""))};u.propTypes={profile:i.PropTypes.object.isRequired},t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=function(e){var t=e.title,n=e.url,r=e.description;return o["default"].createElement("div",{className:"card"},o["default"].createElement("div",{className:"card-block"},o["default"].createElement("h2",{className:"card-title"},o["default"].createElement("a",{href:n},t)),o["default"].createElement("div",{className:"card-text"},r)))};a.propTypes={title:i.PropTypes.string.isRequired,url:i.PropTypes.string.isRequired,description:i.PropTypes.string.isRequired},t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=function(e){var t=e.picURL;return o["default"].createElement("div",{style:{paddingBottom:"1rem"}},o["default"].createElement("nav",{className:"navbar navbar-light bg-faded",role:"navigation"},o["default"].createElement("a",{className:"navbar-brand",href:"/"},"Solid"),o["default"].createElement("img",{className:"img-circle pull-xs-right",src:t,alt:"Your profile picture",width:"30"})))};a.propTypes={picURL:i.PropTypes.string.isRequired},t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return(0,o.createStore)(l["default"],(0,o.applyMiddleware)(s["default"]))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(168),a=n(270),s=r(a),u=n(271),l=r(u)},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t["default"]=r},function(e,t,n){"use strict";function r(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=arguments[1];switch(t.type){case a.LOG_IN_REQUEST:return!0;case a.LOG_IN_SUCCESS:return!1;case a.LOG_IN_FAILURE:return!1;default:return e}}function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case a.LOG_IN_SUCCESS:return t.profile;case a.LOG_IN_FAILURE:default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(168),a=n(183),s=(0,o.combineReducers)({isLoading:r,profile:i});t["default"]=s}]));